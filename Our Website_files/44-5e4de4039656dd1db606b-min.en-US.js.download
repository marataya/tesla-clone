(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[44],{"./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=r("./src/main/webapp/universal/src/apps/App/shared/utils/ContributorsAPI.js");var l=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var u=r("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js");var c=r("./src/main/webapp/universal/src/apps/App/shared/stores/ContentItemStore.js");var p=r("./src/main/webapp/universal/src/apps/App/shared/stores/PermissionsStore.js");var d=function(){function e(){(0,a.default)(this,e);this.generateActions("setActiveProfileModal","fetchAvatar","updateValues","updateAvatar","resetChanges","openDeleteBasicAuthorConfirmation","clearErrorMessage","updateErrors","cancel","closeReviewChanges","closeRemoveAuthor")}(0,n.default)(e,[{key:"reset",value:function e(){var t=this;var r=u.getState().toObject();r.avatarId&&c.fetchFromServer(r.avatarId,true).then(function(e){t.fetchAvatar({authorId:r.id,value:{id:e.get("id"),url:e.get("assetUrl")}})});return[r].concat(p.fetchMembers())}},{key:"saveAuthor",value:function e(t,r){if("none"===t)l.createAuthor(r);else{r.id=t;l.updateAuthor(r)}}},{key:"deleteBasicAuthor",value:function e(t,r){i.replaceBasicAuthor(t,r).then(function(){return l.deleteAuthor(t)})}}]);return e}();e.exports=o.createActions(d)},"./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(a()){var r=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var p=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var m=r("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.less");var f=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),h=f.T;var v=r("./common/temp/node_modules/classnames/index.js");var b="http://circle.squarespace.com/dashboard?channel=web_circle&subchannel=activation&source=cms&campaign=panel_logo&utm_medium=web_circle&utm_source=activation&utm_campaign=cms&utm_content=panel_logo";var A=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,a.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){return d.createElement("a",{className:v(m.container,this.props.className),href:b,target:"_blank"},d.createElement(h,{project:"apps.App"},"Squarespace Circle"))}}]);return r}(d.Component);(0,u.default)(A,"propTypes",{className:p.string});e.exports=A},"./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.less":function(e,t,r){e.exports={container:"CircleBadge-container-2L5x9 icons-circleLogoDark-1kp7z"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),true).forEach(function(e){(0,d.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(a()){var r=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,u.default)(this,t)}}var f=r("./common/temp/node_modules/prop-types/index.js");var h=r("./common/temp/node_modules/react/index.js");var v=r("./common/temp/node_modules/@sqs/transitions/lib/index.js"),b=v.CSSTransitionGroup,A=v.CSSTransitionGroupPresets;var y=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),g=y.Select;var j=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),_=j.t;var S=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),C=S.T;var O=r("./src/main/webapp/universal/src/shared/components/Alert.jsx");var w=r("./src/main/webapp/universal/src/shared/components/Confirmation.jsx");var P=r("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var E=r("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx");var I=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.jsx");var R=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.jsx");var x=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/ProfileModalHeader.jsx");var M=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var T=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.less");var N=["account","bio"];var k={tab:"account",isBack:false,isChangePasswordOpen:false,isTransferAuthorOpen:false,newAuthor:""};var D=function(e){(0,l.default)(a,e);var s=p(a);function a(){var p;(0,n.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];p=s.call.apply(s,[this].concat(t));(0,d.default)((0,i.default)(p),"state",k);(0,d.default)((0,i.default)(p),"reset",function(){M.reset();p.setState(k)});(0,d.default)((0,i.default)(p),"changeTab",function(e){p.setState({isBack:N.indexOf(e)<N.indexOf(p.state.tab),tab:e})});(0,d.default)((0,i.default)(p),"closeTransferAuthorHandler",function(){p.setState({isTransferAuthorOpen:false})});(0,d.default)((0,i.default)(p),"openTransferAuthorHandler",function(){p.setState({isTransferAuthorOpen:true})});(0,d.default)((0,i.default)(p),"closeReviewChangesHandler",function(){M.closeReviewChanges()});(0,d.default)((0,i.default)(p),"closeRemoveAuthorHandler",function(){M.closeRemoveAuthor()});(0,d.default)((0,i.default)(p),"onCancel",function(){p.props.isDirty?M.cancel():M.setActiveProfileModal()});(0,d.default)((0,i.default)(p),"linkState",function(a,n,o){return{onChange:function e(t){var r=t.target?t.target.value:t;var s=m({},p.props.errors,(0,d.default)({},a,""));n&&r&&!n(r)&&(s[a]=o);M.updateErrors({errors:s});p.updateAuthorAttribute(a,r)},value:p.props[a],errorMessage:p.props.errors[a]}});(0,d.default)((0,i.default)(p),"updateSubscription",function(e,t,r){var s=p.props[e];s[t].subscribed=r;p.updateAuthorAttribute(e,s)});(0,d.default)((0,i.default)(p),"updateAuthorAttribute",function(e,t){M.updateValues({key:e,value:t,id:p.props.authorId})});(0,d.default)((0,i.default)(p),"discardHandler",function(){M.setActiveProfileModal();p.reset()});(0,d.default)((0,i.default)(p),"openDeleteConfirmationHandler",function(){M.openDeleteBasicAuthorConfirmation()});(0,d.default)((0,i.default)(p),"deleteHandler",function(){M.setActiveProfileModal();M.deleteBasicAuthor(p.props.authorId,p.state.newAuthor)});(0,d.default)((0,i.default)(p),"saveHandler",function(){var e=p.props,t=e.authorId,r=e.avatarId,s=e.avatarAssetUrl,a=e.bio,n=e.displayName,o=e.firstName,i=e.lastName,l=e.websiteUrl;var u={avatarAssetUrl:s,avatarId:r,bio:a,displayName:n,firstName:o,lastName:i,pseudonymAccount:true,websiteUrl:l};var c=p.props.errors;c.displayName=""===n?_("Missing display name"):null;Object.keys(c).forEach(function(e){c[e]&&""!==c[e]&&(c.saveError=c[e])});if(c.saveError){M.updateErrors({errors:c});return}M.saveAuthor(t,u)});(0,d.default)((0,i.default)(p),"renderTransferAuthorConfirmation",function(){var e=p.props,t=e.authorId,r=e.authors,s=e.displayName;var a=p.state,n=a.newAuthor,o=a.isTransferAuthorOpen;return h.createElement(w,{testAttr:"transfer-author",isOpen:o,onConfirm:p.openDeleteConfirmationHandler,onCancel:p.closeTransferAuthorHandler,confirmText:_("Transfer And Remove"),title:_("Remove Author")},h.createElement(C,{strongDisplayName:h.createElement("strong",null,s),project:"apps.App"},"{strongDisplayName} may be listed as the author of content on your site. To remove this author, please select an author to re-assign ownership to."),h.createElement(g,{type:"primary",onChange:function e(t){p.setState({newAuthor:t})},value:n},r.map(function(e){if(e.id!==t)return h.createElement("option",{key:e.id,value:e.id},e.displayName);return null}).filter(function(e){return!!e}).concat(h.createElement("option",{key:"default-option",value:""},_("Select a new authorâ€¦")))))});(0,d.default)((0,i.default)(p),"renderRemoveButton",function(){var e=p.props,t=e.authorId,r=e.isRemoveAuthorOpen;if("none"!==t)return h.createElement(P.Button,{"data-test":"remove-author",onClick:p.openTransferAuthorHandler},h.createElement(C,{project:"apps.App"},"Remove Author"),h.createElement(w,{testAttr:"confirm-transfer",isOpen:r,onConfirm:p.deleteHandler,onCancel:p.closeRemoveAuthorHandler,label:_("Remove Author"),overlayClassName:T.doubleConfirmation},h.createElement(C,{project:"apps.App"},"Are you sure you wish to remove this author and re-assign all authored entries to someone else? This cannot be undone.")))});(0,d.default)((0,i.default)(p),"renderFooter",function(){var e=p.props,t=e.errors,r=e.isReviewChangesOpen;return h.createElement(P.Footer,null,h.createElement(P.Button,{"data-test":"cancel-profile-modal",onClick:p.onCancel},h.createElement(C,{project:"apps.App"},"Cancel")),p.renderRemoveButton(),h.createElement(E,{isOpen:r,onCancel:p.closeReviewChangesHandler,onDiscard:p.discardHandler,onSave:p.saveHandler}),h.createElement(P.Button,{"data-test":"save-profile-modal",onClick:p.saveHandler,className:T.saveButton},h.createElement(C,{project:"apps.App"},"Save"),h.createElement(O,{isOpen:!!t.saveError,onDismiss:function e(){M.clearErrorMessage("saveError")},title:_("Error")},t.saveError)),p.renderTransferAuthorConfirmation())});return p}(0,o.default)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var r=!t.isOpen&&this.props.isOpen;var s=t.isOpen&&!this.props.isOpen;r&&this.props.onModalClose&&this.props.onModalClose();(t.authorId!==this.props.authorId||"none"===this.props.authorId&&s)&&this.setState(k);s&&M.reset.defer()}},{key:"shouldComponentUpdate",value:function e(t){return!t.currentlyOpenAuthorId||t.currentlyOpenAuthorId===t.authorId}},{key:"render",value:function e(){var t=this.props,r=t.authorId,s=t.avatarAssetUrl,a=t.avatarId,n=t.displayName,o=t.isOpen;var i=this.state,l=i.tab,u=i.isBack;var c=A.Slide,p=c.className,d=c.transitions;var m={account:h.createElement(I,{key:"account",avatarId:a,avatarAssetUrl:s,displayName:n,linkState:this.linkState,stylesheet:T,authorId:r}),bio:h.createElement(R,{key:"bio",linkState:this.linkState})};return h.createElement(P,{isOpen:o,width:"700px",height:"587px",onRequestClose:this.onCancel,testAttr:"profile-modal"},h.createElement(x,{activeTab:l,changeTab:this.changeTab,stylesheet:T}),h.createElement(b,{className:p,transitions:u?d.toRight:d.toLeft},h.createElement(P.Body,{key:l,className:T.body},m[l])),this.renderFooter())}}]);return a}(h.Component);(0,d.default)(D,"propTypes",{authorId:f.string,authors:f.array,bio:f.string,displayName:f.string,firstName:f.string,lastName:f.string,isOpen:f.bool.isRequired,avatarAssetUrl:f.string,avatarId:f.string,websiteUrl:f.string,errors:f.object,isRemoveAuthorOpen:f.bool,isReviewChangesOpen:f.bool,isDirty:f.bool,onModalClose:f.func});(0,d.default)(D,"defaultProps",{authorId:"none",authors:[],avatarAssetUrl:null,avatarId:null,bio:"",displayName:"",errors:{},isDirty:false,isRemoveAuthorOpen:false,isReviewChangesOpen:false});e.exports=D},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.less":function(e,t,r){e.exports={header:"ProfileModal-header-HfRQH",body:"ProfileModal-body-2w6Kt",modalTabs:"ProfileModal-modalTabs-1-ZQ8",tab:"ProfileModal-tab-S1enw",active:"ProfileModal-active-1xpFW",doubleConfirmation:"ProfileModal-doubleConfirmation-36Dsf",profileInputs:"ProfileModal-profileInputs-3z0aY",uploader:"ProfileModal-uploader-2ZnoD",ownerDetails:"ProfileModal-ownerDetails-1-6FP",actionButtons:"ProfileModal-actionButtons-2ImyI",action:"ProfileModal-action-_2cTz",saveButton:"ProfileModal-saveButton-2er2u"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,p.default)(s),t;if(a()){var r=(0,p.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,n.default)(this,t)}}var a=r("./common/temp/node_modules/prop-types/index.js");var f=r("./common/temp/node_modules/react/index.js");var h=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),v=h.t;var b=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),A=b.Input;var y=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.jsx");var g=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var j=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.less");var _=function(e){(0,c.default)(n,e);var a=m(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];e=a.call.apply(a,[this].concat(r));(0,d.default)((0,u.default)(e),"state",{email:e.props.email,isSuccesfulChangeOpen:false,errors:{}});(0,d.default)((0,u.default)(e),"openSuccessfulChange",function(){e.setState({isSuccesfulChangeOpen:true,isEditEmailOpen:false})});(0,d.default)((0,u.default)(e),"closeSuccessfulChange",function(){e.setState({isSuccesfulChangeOpen:false})});return e}(0,i.default)(n,[{key:"render",value:function e(){var t=this.props,r=t.authorId,s=t.displayName,a=t.avatarId,n=t.avatarAssetUrl,o=t.linkState,i=t.stylesheet;return f.createElement("div",{className:j.accountTab,"data-test":"account-tab"},f.createElement("div",{className:i.uploader},f.createElement(y,{authorId:r,avatarId:a,avatarAssetUrl:n,onChange:g.updateAvatar})),f.createElement("div",{className:i.profileInputs},f.createElement(A,(0,l.default)({placeholder:v("Your Name"),value:s},o("displayName")))))}}]);return n}(f.Component);(0,d.default)(_,"propTypes",{avatar:a.object,authorId:a.string,displayName:a.string,linkState:a.func.isRequired,stylesheet:a.object.isRequired});e.exports=_},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.less":function(e,t,r){e.exports={accountTab:"AccountTab-accountTab-DwEkf"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(a()){var r=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,u.default)(this,t)}}var a=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),m=a.t;var f=r("./common/temp/node_modules/prop-types/index.js");var h=r("./common/temp/node_modules/react/index.js");var v=r("./common/temp/node_modules/classnames/index.js");var b=r("./src/main/webapp/universal/src/shared/components/fields/File.jsx");var A=r("./src/main/webapp/universal/src/shared/components/JobProcessingState/index.js");var y=r("./src/main/webapp/universal/src/shared/components/Image.jsx");var g=r("./src/main/webapp/universal/src/shared/utils/UploadAPI.js"),j=g.URLS;var _=r("./src/main/webapp/universal/packages/enums/RecordType.js");var S=r("./src/main/webapp/universal/src/shared/constants/UploadModes.js");var C=r("./src/main/webapp/universal/src/shared/constants/UploadMaxSize.js"),O=C.MAX_SIZE;var w=r("./src/main/webapp/universal/src/shared/constants/UploadMimeTypes.js"),P=w.IMAGE_MIME_TYPES;var E=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.less");var I=function(e){(0,l.default)(a,e);var s=d(a);function a(){var o;(0,n.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=s.call.apply(s,[this].concat(t));(0,p.default)((0,i.default)(o),"state",{processingJobId:null});(0,p.default)((0,i.default)(o),"handleFileFieldChange",function(e){var t=o.props.avatarId;!e&&t?o.onImageChange({}):e&&o.handleUploadComplete(e)});(0,p.default)((0,i.default)(o),"handleUploadComplete",function(e){var t=e.data;var r=t.processingJobId,s=t.imageId,a=t.url;o.setState({processingJobId:r});o.onImageChange({avatarId:s,avatarAssetUrl:a})});(0,p.default)((0,i.default)(o),"onImageChange",function(e){var t=e.avatarId,r=e.avatarAssetUrl;var s=o.props,a=s.onChange,n=s.authorId;a({authorId:n,avatarId:t,avatarAssetUrl:r})});(0,p.default)((0,i.default)(o),"valueOfFile",function(e){var t=e.avatarId,r=e.avatarAssetUrl;if(t)return{id:t,url:r};return null});(0,p.default)((0,i.default)(o),"renderJobProcessingState",function(){return h.createElement(A,{jobId:o.state.processingJobId,onJobComplete:function e(){return o.setState({processingJobId:null})},onJobIncomplete:function e(){return o.onImageChange({})}})});(0,p.default)((0,i.default)(o),"renderImage",function(){return h.createElement(y,{src:o.props.avatarAssetUrl,formattedWidths:null})});return o}(0,o.default)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){!t.avatarId&&this.props.avatarId&&this.setState({processingJobId:null})}},{key:"render",value:function e(){var t=this.state.processingJobId;var r=this.props,s=r.avatarId,a=r.avatarAssetUrl;var n=t?this.renderJobProcessingState:this.renderImage;var o=v(E.fileField,(0,p.default)({},E.hasValue,s&&!t));return h.createElement(b,{label:m("Add an Image"),innerContainerClassName:o,fileThumbnailRenderer:n,validMimeTypes:P,maxSize:O,uploadUrl:j.AVATAR,recordType:_.IMAGE,uploadMode:S.GLOBAL,onChange:this.handleFileFieldChange,value:this.valueOfFile({avatarId:s,avatarAssetUrl:a})})}}]);return a}(h.Component);(0,p.default)(I,"propTypes",{avatarId:f.string,avatarAssetUrl:f.string,authorId:f.string,onChange:f.func.isRequired});e.exports=I},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.less":function(e,t,r){e.exports={fileField:"AvatarEditor-fileField-3WSzz",hasValue:"AvatarEditor-hasValue-2tNGd"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(a()){var r=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var d=r("./common/temp/node_modules/prop-types/index.js");var m=r("./common/temp/node_modules/react/index.js");var f=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),h=f.t;var v=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),b=v.T;var A=r("./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js");var y=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),g=y.Input;var j=r("./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js");var _=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.less");var S='Invalid URL Format. Should look like "http://www.example.com".';var C=function(e){(0,i.default)(r,e);var t=p(r);function r(){(0,n.default)(this,r);return t.apply(this,arguments)}(0,o.default)(r,[{key:"render",value:function e(){var t=this.props.linkState;return m.createElement("div",{"data-test":"bio-tab",className:_.container},m.createElement("div",{className:_.flexDiv},m.createElement(g,(0,a.default)({},t("firstName"),{wrapperClassName:_.halfInput,label:h("First Name")})),m.createElement(g,(0,a.default)({},t("lastName"),{wrapperClassName:_.halfInput,label:h("Last Name")}))),m.createElement(g,(0,a.default)({},t("websiteUrl",j,S),{label:h("Website")})),m.createElement("div",{className:_.bioLabel},m.createElement(b,{project:"apps.App"},"Bio")),m.createElement(A,t("bio")))}}]);return r}(m.Component);(0,c.default)(C,"propTypes",{linkState:d.func.isRequired});e.exports=C},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.less":function(e,t,r){e.exports={container:"BioTab-container-23B9y",bioLabel:"BioTab-bioLabel-9u33A",flexDiv:"BioTab-flexDiv-158Um",halfInput:"BioTab-halfInput-1CZRk"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/ProfileModalHeader.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(a()){var r=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var p=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var m=r("./common/temp/node_modules/classnames/index.js");var f=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),h=f.t;var v=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),b=v.T;var A=r("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var y=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,a.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){var t=this.props,r=t.activeTab,s=t.changeTab,a=t.stylesheet;var n=h("Add Basic Author");return d.createElement(A.Header,{hasRule:true,className:a.header},n,d.createElement("span",{className:a.modalTabs},d.createElement("span",{"data-test":"account-tab-nav",onClick:s.bind(null,"account"),className:m(a.tab,(0,u.default)({},a.active,"account"===r))},d.createElement(b,{project:"apps.App"},"Account")),d.createElement("span",{"data-test":"bio-tab-nav",onClick:s.bind(null,"bio"),className:m(a.tab,(0,u.default)({},a.active,"bio"===r))},d.createElement(b,{project:"apps.App"},"Bio"))))}}]);return r}(d.Component);(0,u.default)(y,"propTypes",{stylesheet:p.object,changeTab:p.func,activeTab:p.string});e.exports=y},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/index.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),true).forEach(function(e){(0,a.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var o=r("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var l=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.jsx");var u=r("./src/main/webapp/universal/src/apps/App/shared/stores/ProfileModalStore.js");var c=o({getStores:function e(){return[u]},getPropsFromStores:function e(t){var r=t.authorId,s=void 0===r?"none":r;var a=u.getState();var n=a.getIn(["authorIdMap",s]);var o=i({authorId:s},a.toJS(),{isOpen:s===a.get("currentlyOpenAuthorId")});n&&Object.assign(o,n.toJS());return o}},l);e.exports=c},"./src/main/webapp/universal/src/apps/App/shared/stores/PermissionsStore.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),true).forEach(function(e){(0,a.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var u=r("./common/temp/node_modules/immutable/dist/immutable.js"),c=u.fromJS;var p=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var d=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var m=r("./common/temp/node_modules/alt-utils/lib/ImmutableUtil.js");var f=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),h=f.t;var v=function(){function e(){(0,n.default)(this,e);this.state=c({basicAuthors:[],contributorsWithPermissions:[],contributorsWithoutPermissions:[],error:null,invitations:[],isLoading:true,websiteOwner:{}});this.bindActions(d);this.exportPublicMethods({fetchAllPermissions:this.fetchAllPermissions,fetchMembers:this.fetchMembers,fetchAllMembers:this.fetchAllMembers})}(0,o.default)(e,[{key:"onCreateInviteSuccess",value:function e(t){var r=this.state.get("invitations");this.setState(this.state.set("invitations",r.push(c(t))))}},{key:"onUpdateInviteSuccess",value:function e(t){var r=this.state.get("invitations");r=r.map(function(e){if(e.get("id")===t.id)return e.set("permissions",t.permissions);return e});this.setState(this.state.set("invitations",r))}},{key:"onDeleteInviteSuccess",value:function e(t){var r=this.state.get("invitations");r=r.filterNot(function(e){return e.get("id")===t});this.setState(this.state.set("invitations",r))}},{key:"convertArrayToObject",value:function e(t){var r={};t.forEach(function(e){r[e.id]=e});return r}},{key:"onUpdateContributorPermissionsSuccess",value:function e(t){var r=t.memberAccountId;var s=this.state.get("allContributors").toJS();var a=this.state.get("contributorsWithPermissions").toJS();var n=this.state.get("contributorsWithoutPermissions").toJS();s=this.convertArrayToObject(s);a=this.convertArrayToObject(a);n=this.convertArrayToObject(n);var o=a[r]||n[r];if(Object.keys(t.roles).length){a[r]=Object.assign({},o,{permissions:t.roles});delete n[r]}else{o.permissions=[];n[r]=Object.assign({},o);delete a[r]}s[r]=Object.assign({},o,{permissions:t.roles});this.setState(this.state.merge({allContributors:c(Object.values(s)),contributorsWithPermissions:c(Object.values(a)),contributorsWithoutPermissions:c(Object.values(n))}))}},{key:"onDeleteContributorSuccess",value:function e(r){var t=this.state.toObject(),s=t.contributorsWithPermissions,a=t.contributorsWithoutPermissions,n=t.allContributors;var o=function e(t){return t.get("permissionsId")===r};a=a.filterNot(o);s=s.filterNot(o);n=n.filterNot(o);this.setState(this.state.merge({contributorsWithoutPermissions:a,contributorsWithPermissions:s,allContributors:n}))}},{key:"onCreateAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");this.setState(this.state.set("basicAuthors",r.push(c(l({},t,{isBasicAuthor:true})))))}},{key:"onUpdateAuthorSuccess",value:function e(t){this.updateBasicAuthorSuccess(l({isBasicAuthor:true},t))}},{key:"updateOwnerSuccess",value:function e(t){var r=this.updateAuthorState(t,this.state.get("websiteOwner"));this.setState(this.state.set("websiteOwner",r))}},{key:"makeAuthorUpdater",value:function e(t){var r=this;return function(e){return r.updateAuthorState(t,e)}}},{key:"updateBasicAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");var s=r.map(this.makeAuthorUpdater(t));this.setState(this.state.set("basicAuthors",s))}},{key:"updateContributorSuccess",value:function e(t){var r=this.state.toObject(),s=r.contributorsWithPermissions,a=r.contributorsWithoutPermissions;var n=this.makeAuthorUpdater(t);s=s.map(n);a=a.map(n);this.setState(this.state.merge({contributorsWithPermissions:s,contributorsWithoutPermissions:a}))}},{key:"onTransferOwnerSuccess",value:function e(t){var r;var s=this.state.get("websiteOwner");var a=this.state.get("contributorsWithPermissions");var n=this.state.get("allContributors");var o=a.map(function(e){if(e.get("id")===t){r=e;return s}return e});var i=n.map(function(e){if(e.get("id")===t){r=e;return s}return e});this.setState(this.state.merge({allContributors:i,contributorsWithPermissions:o,websiteOwner:r}))}},{key:"updateAuthorState",value:function e(t,r){if(r.get("id")===t.id)return r.merge(t);return r}},{key:"onDeleteAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");r=r.filterNot(function(e){return e.get("id")===t});this.setState(this.state.set("basicAuthors",r))}},{key:"onReset",value:function e(t){var r=t.invitations,s=t.members;console.log("PermissionsStore onReset called");this.setState(c({basicAuthors:null,allContributors:[],contributorsWithPermissions:null,contributorsWithoutPermissions:null,isLoading:true,error:null,invitations:null,websiteOwner:null}))}},{key:"onResetSuccess",value:function e(t){var r=t.basicAuthors,s=t.allContributors,a=t.contributorsWithPermissions,n=t.contributorsWithoutPermissions,o=t.invitations,i=t.websiteOwner;this.setState(this.state.merge({basicAuthors:r,allContributors:s,contributorsWithPermissions:a,contributorsWithoutPermissions:n,isLoading:false,invitations:o,websiteOwner:i}))}},{key:"onResetFailure",value:function e(){this.setState(this.state.merge({isLoading:false,error:h("There was an error loading the data for this panel.")}))}},{key:"fetchAllPermissions",value:function e(){var t=this;var r=[];["basicAuthors","contributorsWithPermissions","contributorsWithoutPermissions","invitations"].forEach(function(e){t.state.get(e)&&(r=r.concat(t.state.get(e).toJS()))});return r}},{key:"fetchMembers",value:function e(){var t=this.state.get("basicAuthors",[]).toArray();var r=this.state.get("contributorsWithPermissions",[]).toArray();var s=this.state.get("websiteOwner",[]);var a=t.concat(r).concat(s);return a.map(function(e){return e.toObject()})}},{key:"fetchAllMembers",value:function e(){var t=this;var r=[];["basicAuthors","contributorsWithPermissions","contributorsWithoutPermissions","invitations","websiteOwner"].forEach(function(e){t.state.get(e)&&(r=r.concat(t.state.get(e).toJS()))});return r}}]);return e}();e.exports=p.createStore(m(v),"PermissionsStore")},"./src/main/webapp/universal/src/apps/App/shared/stores/ProfileModalStore.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=r("./common/temp/node_modules/immutable/dist/immutable.js"),l=i.List,u=i.fromJS;var c=r("./common/temp/node_modules/alt-utils/lib/ImmutableUtil.js");var p=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var d=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var m={avatarAssetUrl:null,avatarId:null,bio:"",displayName:"",email:"",firstName:"",lastName:"",location:{},memberAccountId:"",siteSubscriptions:[],socialOptions:[],storeSubscriptions:[],websiteUrl:""};var f=function(){function e(){(0,a.default)(this,e);this.state=u({authors:[],authorIdMap:{none:Object.assign({},m)},currentlyOpenAuthorId:null,errors:{saveError:""},isRemoveAuthorOpen:false,isReviewChangesOpen:false,isDirty:false});this.bindActions(d);this.bindListeners({onResetPermissionsSuccess:p.resetSuccess,onSaveAuthorSuccess:[p.createAuthorSuccess,p.updateAuthorSuccess],onSaveAuthorFailure:[p.createAuthorFailure,p.updateAuthorFailure],onDeleteAuthorSuccess:p.deleteAuthorSuccess})}(0,n.default)(e,[{key:"onResetPermissionsSuccess",value:function e(t){var r=t.basicAuthors,s=t.websiteOwner,a=t.contributorsWithPermissions;var n=r.concat(a).concat([s]);this.setState(this.state.set("authors",l(n)));this.updateAuthorIdMap(n)}},{key:"onReset",value:function e(t){this.updateAuthorIdMap(t);this.setState(this.state.merge({isDirty:false,isReviewChangesOpen:false}))}},{key:"onFetchAvatar",value:function e(t){var r=t.authorId,s=t.value;this.setState(this.state.setIn(["authorIdMap",r,"avatarId"],s));this.setState(this.state.setIn(["authorIdMap",r,"avatarAssetUrl"],s))}},{key:"onUpdateValues",value:function e(t){var r=this.state.set("isDirty",true);r=r.setIn(["authorIdMap",t.id,t.key],t.value);this.setState(r)}},{key:"onUpdateAvatar",value:function e(t){var r=t.authorId,s=t.avatarId,a=t.avatarAssetUrl;var n=this.state.getIn(["authorIdMap",r,"avatarId"]);var o=this.state.get("isDirty");var i=this.state.set("isDirty",o||n!==s);i=i.setIn(["authorIdMap",r,"avatarId"],s);i=i.setIn(["authorIdMap",r,"avatarAssetUrl"],a);this.setState(i)}},{key:"onSetActiveProfileModal",value:function e(t){this.setState(this.state.set("currentlyOpenAuthorId",t))}},{key:"updateAuthorIdMap",value:function e(t){var r={none:Object.assign({},m)};t.forEach(function(e){r[e.id]=Object.assign({},m,e)});this.setState(this.state.set("authorIdMap",u(r)))}},{key:"onSaveAuthorSuccess",value:function e(t){this.setState(this.state.merge({errors:u({saveError:""}),currentlyOpenAuthorId:null,authorIdMap:this.state.get("authorIdMap").set(t.id,u(t)),authors:this.state.get("authors").push(u(t)),isDirty:false,isReviewChangesOpen:false}))}},{key:"onSaveAuthorFailure",value:function e(t){var r=this.state.get("errors");r=r.set("saveError",Object.values(t.errors)[0]);r=r.merge(t.errors);this.setState(this.state.set("errors",r))}},{key:"onOpenDeleteBasicAuthorConfirmation",value:function e(){this.setState(this.state.set("isRemoveAuthorOpen",true))}},{key:"onDeleteAuthorSuccess",value:function e(r){var t=this.state.get("authors").toJS().filter(function(e){var t=e.id;return t!==r});this.setState(this.state.merge({isDirty:false,isRemoveAuthorOpen:false,authors:u(t)}))}},{key:"onCancel",value:function e(){this.state.get("isDirty")?this.setState(this.state.set("isReviewChangesOpen",true)):this.setState(this.state.set("currentlyOpenAuthorId",null))}},{key:"onCloseReviewChanges",value:function e(){this.setState(this.state.set("isReviewChangesOpen",false))}},{key:"onCloseRemoveAuthor",value:function e(){this.setState(this.state.set("isRemoveAuthorOpen",false))}},{key:"onUpdateErrors",value:function e(t){var r=t.errors;this.setState(this.state.set("errors",u(r)))}},{key:"onClearErrorMessage",value:function e(t){this.setState(this.state.setIn(["errors",t],null))}}]);return e}();e.exports=o.createStore(c(f),"ProfileModalStore")},"./src/main/webapp/universal/src/shared/components/JobProcessingState/index.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var u=r("./src/main/webapp/universal/src/shared/actions/JobActions.js");var c=r("./src/main/webapp/universal/src/shared/stores/JobStore.js");var a=r("./src/main/webapp/universal/src/shared/components/JobProcessingState/JobProcessingState.jsx");var n=s({getStores:function e(){return[c]},getPropsFromStores:function e(t){var r=t.jobId;var s=c.getState()[r],a=s.status,n=s.messages,o=s.data,i=s.cancelable;var l=function e(){return u.cancel(r)};return{status:a,messages:n,data:o,cancelable:i,requestCancel:l}}},a);e.exports=n},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var a=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(a()){var r=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var p=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var m=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),f=m.T;var h=r("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var v=r("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less");var b=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,a.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){var t=this.props,r=t.isOpen,s=t.onCancel,a=t.onDiscard,n=t.onSave;return d.createElement(h,{anchor:"mousepointer",isOpen:r,className:v.modal},d.createElement(h.Header,null,d.createElement(f,{project:"src.shared"},"Review Changes")),d.createElement(h.Body,{className:v.body},d.createElement(f,{project:"src.shared"},"You have made changes. Do you want to save or discard them?")),d.createElement(h.Footer,null,d.createElement(h.Button,{onClick:s},d.createElement(f,{project:"src.shared"},"Cancel")),d.createElement(h.Button,{onClick:a},d.createElement(f,{project:"src.shared"},"Discard")),d.createElement(h.Button,{onClick:n},d.createElement(f,{project:"src.shared"},"Save"))))}}]);return r}(d.Component);(0,u.default)(b,"propTypes",{isOpen:p.bool,onCancel:p.func,onDiscard:p.func,onSave:p.func});e.exports=b},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less":function(e,t,r){e.exports={modal:"ReviewChangesConfirmation-modal-23K7p",body:"ReviewChangesConfirmation-body-3DGwm"}},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var i=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var u=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var A=s(r("./common/temp/node_modules/react/index.js"));var a=s(r("./common/temp/node_modules/prop-types/index.js"));var y=r("./common/temp/node_modules/@sqs/fields/lib/index.js");var g=s(r("./common/temp/node_modules/@sqs/core-components/fields/RichTextEditor.js"));var d=r("./common/temp/node_modules/@sqs/core-components/components/Rte.js");var m=r("./src/main/webapp/universal/src/shared/i18n/index.ts");var j=r("./src/main/webapp/universal/src/shared/constants/TextEditor.js");var _=r("./src/main/webapp/universal/src/shared/constants/LayoutEngineClassnames.js");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,s)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),true).forEach(function(e){(0,p.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(s){function a(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(a()){var r=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,u.default)(this,t)}}var v=5e5;var b=function(e){(0,l.default)(a,e);var s=h(a);function a(){var o;(0,n.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=s.call.apply(s,[this].concat(t));(0,p.default)((0,i.default)(o),"domParser",new DOMParser);(0,p.default)((0,i.default)(o),"stopPropagation",function(e){e.stopPropagation()});(0,p.default)((0,i.default)(o),"handleChange",function(e){var t=o.props,r=t.onChange,s=t.isNullable;var a=e;if(s)try{var n=o.domParser.parseFromString(e,"text/html");n.body.innerText||(a=null)}catch(e){}return r(a)});return o}(0,o.default)(a,[{key:"render",value:function e(){var t=this.props,r=t.className,s=t.color,a=t.decodeHTMLEntities,n=t.errorMessage,o=t.flush,i=t.label,l=t.height,u=t.placeholder,c=t.preserveWhitespace,p=t.showSeparator,d=t.tabIndex,m=t.toolbarOptions,f=t.itemEditorZIndex,h=t.type,v=t.value;var b=j.Schemas[h];"boolean"===typeof c&&(b=S({},b,{preserveWhitespace:[c]}));return A.default.createElement(y.FieldWrapper,{errorMessage:n},A.default.createElement(g.default,{className:r,color:s,decodeHTMLEntities:a,fieldIndex:d,label:i,flush:o,height:l,onChange:this.handleChange,onMouseDown:this.stopPropagation,onPointerDown:this.stopPropagation,onClick:this.stopPropagation,pasteAsPlainText:false,placeholder:u,schemaConfig:b,showSeparator:p,toolbarOptions:m,toolbarClassName:_.NONINTERACTIVE_CLASSNAME,itemEditorZIndex:f,value:v,itemConfigEditorProps:{onClick:this.stopPropagation,className:_.NONINTERACTIVE_CLASSNAME,modalClassName:_.NONINTERACTIVE_CLASSNAME,pageDropdownClassName:_.NONINTERACTIVE_CLASSNAME}}))}}]);return a}(A.default.Component);(0,p.default)(b,"propTypes",{className:a.default.string,color:a.default.string,decodeHTMLEntities:a.default.bool,isNullable:a.default.bool,itemEditorZIndex:a.default.number,flush:a.default.bool,onChange:a.default.func.isRequired,placeholder:a.default.string,preserveWhitespace:a.default.bool,showSeparator:a.default.bool,type:a.default.oneOf(Object.values(j.SchemaTypes)),toolbarOptions:a.default.array,value:a.default.oneOfType([a.default.string,a.default.object])});(0,p.default)(b,"defaultProps",{color:"dark",flush:true,itemEditorZIndex:v,placeholder:(0,m.t)("Write hereâ€¦"),showSeparator:true,toolbarOptions:d.DEFAULT_TOOLBAR_TYPES.SIMPLE,type:j.Schemas[j.SchemaTypes.SIMPLE]});var C=b;t.default=C;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js":function(e,t,r){"use strict";var s=r("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return a.default}});var a=s(r("./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js"));e.exports=t.default},"./src/main/webapp/universal/src/shared/constants/LayoutEngineClassnames.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TEXT_BLOCK=t.NONINTERACTIVE_CLASSNAME=t.NONINTERACTIVE_CLASSNAMES=t.DISABLE_DRAG_SELECTION_CLASSNAME=t.ESCMANAGER_IGNORE_CLASSNAME=t.BLOCK_FOCUS_IGNORE_CLASSNAME=void 0;var s="sqs-prevent-block-focus-change";t.BLOCK_FOCUS_IGNORE_CLASSNAME=s;var a="escmanager-ignore";t.ESCMANAGER_IGNORE_CLASSNAME=a;var n="sqs-disable-drag-selection";t.DISABLE_DRAG_SELECTION_CLASSNAME=n;var o=[s,a,n];t.NONINTERACTIVE_CLASSNAMES=o;var i=o.join(" ");t.NONINTERACTIVE_CLASSNAME=i;var l="sqs-block-html";t.TEXT_BLOCK=l},"./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js":function(e,t,r){"use strict";e.exports=function e(t){var r=/^(https?:)(\/\/)[a-zA-Z0-9][a-zA-Z0-9_\-\.]*\.[a-zA-Z]{2,24}(\/\S*)?$/i;return t.search(r)>-1}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/44-09b3fcfb2b4be531ef90e-min.en-US.js.map