(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["yui-for-config-website-manifest"],{"./src/main/webapp/templates-v6/handlebars/commerce-base-email-template.html":function(e,t){YUI.add("squarespace-commerce-base-email-template-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["commerce-base-email-template.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};return'<div class="settings-panel-fields">\n  <div data-field-name="commonDescription"></div>\n  <div data-field-name="headerDescription"></div>\n  <div data-field-name="header"></div>\n  <div data-field-name="footerDescription"></div>\n  <div data-field-name="footer"></div>\n  <div data-field-name="restoreDefaultsDescription"></div>\n  <div data-field-name="restoreDefaults"></div>\n</div>'})})();var t="commerce-base-email-template.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/content-manager-blog-item.html":function(e,t){YUI.add("squarespace-content-manager-blog-item-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["content-manager-blog-item.html"]=e(function(e,t,i,a,s){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);s=s||{};var n="",r,o,l,c="function",u=this.escapeExpression,d=i.helperMissing,p=this,m=i.blockHelperMissing;function h(e,t){return"has-thumbnail"}function v(e,t){return"has-comments"}function g(e,t){var a="",s;a+='\n      <div class="thumbnail" style="background-image: url(';if(s=i.coverImageUrl)s=s.call(e,{hash:{},data:t});else{s=e.coverImageUrl;s=typeof s===c?s.apply(e):s}a+=u(s)+'?format=500w)"></div>\n    ';return a}function f(e,t){return"has-title"}function b(e,t){return"no-title"}function y(e,t){var a;if(a=i.title)a=a.call(e,{hash:{},data:t});else{a=e.title;a=typeof a===c?a.apply(e):a}return u(a)}function w(e,t){var a;if(a=i.noTitle)a=a.call(e,{hash:{},data:t});else{a=e.noTitle;a=typeof a===c?a.apply(e):a}return u(a)}function S(e,t){var a="",s;a+='</span>\n      <span class="comment-count">';if(s=i.commentCount)s=s.call(e,{hash:{},data:t});else{s=e.commentCount;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>";return a}function C(e,t){var a="",s;a+='\n      <span class="status">';if(s=i.message)s=s.call(e,{hash:{},data:t});else{s=e.message;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>\n    ";return a}function _(e,t){var a="",s;a+='\n      <span class="event-date-descriptor">';if(s=i.eventDateDescriptor)s=s.call(e,{hash:{},data:t});else{s=e.eventDateDescriptor;s=typeof s===c?s.apply(e):s}(s||0===s)&&(a+=s);a+="</span>\n    ";return a}function T(e,t){var a="",s;a+="\n      ";s=i["if"].call(e,e.publishOn,{hash:{},inverse:p.program(24,q,t),fn:p.program(22,j,t),data:t});(s||0===s)&&(a+=s);a+="\n    ";return a}function j(e,t){var a="",s;a+='\n        <span class="publish-on">';if(s=i.publishOn)s=s.call(e,{hash:{},data:t});else{s=e.publishOn;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>\n      ";return a}function q(e,t){var a="",s;a+="\n        ";s=i["if"].call(e,e.addedOn,{hash:{},inverse:p.noop,fn:p.program(25,I,t),data:t});(s||0===s)&&(a+=s);a+="\n      ";return a}function I(e,t){var a="",s,n;a+='\n          <span class="added-on">';n={hash:{format:"ll"},data:t};a+=u((s=i["date-format"]||e["date-format"],s?s.call(e,e.addedOn,n):d.call(e,"date-format",e.addedOn,n)))+"</span>\n        ";return a}function E(e,t){var a="",s;a+='\n      <span class="separator">&nbsp;&middot;&nbsp;</span> <span class="display-name">'+u((s=(s=e.author,null==s||false===s?s:s.displayName),typeof s===c?s.apply(e):s))+"</span>\n    ";return a}function A(e,t){var a="",s;a+='\n      <span class="separator">&nbsp;&middot;&nbsp;</span> <span class="like-count">';if(s=i.likeCount)s=s.call(e,{hash:{},data:t});else{s=e.likeCount;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>\n    ";return a}function x(e,t){var a="",s;a+='\n    <div class="flag ';if(s=i.className)s=s.call(e,{hash:{},data:t});else{s=e.className;s=typeof s===c?s.apply(e):s}a+=u(s)+'">\n      ';if(s=i.message)s=s.call(e,{hash:{},data:t});else{s=e.message;s=typeof s===c?s.apply(e):s}a+=u(s)+"\n    </div>\n  ";return a}n+='\x3c!-- Cameron-only --\x3e\n\n<div class="blog-list-item ';r=i["if"].call(t,t.coverImageUrl,{hash:{},inverse:p.noop,fn:p.program(1,h,s),data:s});(r||0===r)&&(n+=r);n+=" ";r=i["if"].call(t,t.commentCount,{hash:{},inverse:p.noop,fn:p.program(3,v,s),data:s});(r||0===r)&&(n+=r);n+='">\n    ';r=i["if"].call(t,t.coverImageUrl,{hash:{},inverse:p.noop,fn:p.program(5,g,s),data:s});(r||0===r)&&(n+=r);n+='\n\n  <header class="blog-list-item-header">\n    <h2 class="';r=i["if"].call(t,t.title,{hash:{},inverse:p.program(9,b,s),fn:p.program(7,f,s),data:s});(r||0===r)&&(n+=r);n+=" ";r=i["if"].call(t,t.commentCount,{hash:{},inverse:p.noop,fn:p.program(3,v,s),data:s});(r||0===r)&&(n+=r);n+='">\n      \x3c!-- look in item-view.js for the noTitle text --\x3e\n      <span class="title">';r=i["if"].call(t,t.title,{hash:{},inverse:p.program(13,w,s),fn:p.program(11,y,s),data:s});(r||0===r)&&(n+=r);r=i["if"].call(t,t.commentCount,{hash:{},inverse:p.noop,fn:p.program(15,S,s),data:s});(r||0===r)&&(n+=r);n+='\n    </h2>\n  </header>\n\n  <div class="meta">\n    ';l={hash:{},inverse:p.noop,fn:p.program(17,C,s),data:s};if(r=i.flag)r=r.call(t,l);else{r=t.flag;r=typeof r===c?r.apply(t):r}i.flag||(r=m.call(t,r,l));(r||0===r)&&(n+=r);n+="\n\n    ";r=i["if"].call(t,t.eventDateDescriptor,{hash:{},inverse:p.program(21,T,s),fn:p.program(19,_,s),data:s});(r||0===r)&&(n+=r);n+="\n\n    ";o=i["if"].call(t,(r=t.author,null==r||false===r?r:r.displayName),{hash:{},inverse:p.noop,fn:p.program(27,E,s),data:s});(o||0===o)&&(n+=o);n+="\n\n\x3c!--     ";o=i["if"].call(t,t.likeCount,{hash:{},inverse:p.noop,fn:p.program(29,A,s),data:s});(o||0===o)&&(n+=o);n+="\n --\x3e  </div>\n\n  ";l={hash:{},inverse:p.noop,fn:p.program(31,x,s),data:s};if(o=i.flag)o=o.call(t,l);else{o=t.flag;o=typeof o===c?o.apply(t):o}i.flag||(o=m.call(t,o,l));(o||0===o)&&(n+=o);n+="\n</div>\n";return n})})();var t="content-manager-blog-item.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-cancel-order-restock.html":function(e,t){YUI.add("squarespace-dialog-cancel-order-restock-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-cancel-order-restock.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i="",r,o="function",l=this.escapeExpression,c=this;function u(e,t){var a="",s;a+='\n    <li>\n      <div class="product-details">\n        <div class="product-name">';if(s=n.productName)s=s.call(e,{hash:{},data:t});else{s=e.productName;s=typeof s===o?s.apply(e):s}a+=l(s)+"</div>\n        ";s=n["if"].call(e,e.variantDescription,{hash:{},inverse:c.noop,fn:c.program(2,d,t),data:t});(s||0===s)&&(a+=s);a+='\n      </div>\n      <div class="restock-meta">\n        ';s=n["if"].call(e,e.nonRestockableReason,{hash:{},inverse:c.program(6,m,t),fn:c.program(4,p,t),data:t});(s||0===s)&&(a+=s);a+="\n      </div>\n    </li>\n  ";return a}function d(e,t){var a="",s;a+='\n          <div class="variant-description">';if(s=n.variantDescription)s=s.call(e,{hash:{},data:t});else{s=e.variantDescription;s=typeof s===o?s.apply(e):s}a+=l(s)+"</div>\n        ";return a}function p(e,t){var a="",s;a+='\n          <span class="non-restockable-indicator ';if(s=n.nonRestockableIndicatorClass)s=s.call(e,{hash:{},data:t});else{s=e.nonRestockableIndicatorClass;s=typeof s===o?s.apply(e):s}a+=l(s)+'">';if(s=n.nonRestockableReason)s=s.call(e,{hash:{},data:t});else{s=e.nonRestockableReason;s=typeof s===o?s.apply(e):s}a+=l(s)+"</span>\n        ";return a}function m(e,t){var a="",s;a+='\n          <span class="restock-quantity">';if(s=n.restockQuantity)s=s.call(e,{hash:{},data:t});else{s=e.restockQuantity;s=typeof s===o?s.apply(e):s}a+=l(s)+"</span>\n        ";return a}i+="<ul>\n  ";r=n.each.call(t,t,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s});(r||0===r)&&(i+=r);i+="\n</ul>\n\n";return i})})();var t="dialog-cancel-order-restock.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-order-history.html":function(e,t){YUI.add("squarespace-dialog-order-history-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-order-history.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i,r="function",o=this.escapeExpression,l=this;function c(e,t){var a="",s;a+='\n\n  <div class="order-event">\n    <div class="statement">\n      <span class="event-description">';if(s=n.description)s=s.call(e,{hash:{},data:t});else{s=e.description;s=typeof s===r?s.apply(e):s}a+=o(s)+'</span>\n    </div>\n    <div class="date">';if(s=n.eventActorAndDateTime)s=s.call(e,{hash:{},data:t});else{s=e.eventActorAndDateTime;s=typeof s===r?s.apply(e):s}a+=o(s)+"</div>\n  </div>\n\n";return a}i=n.each.call(t,t,{hash:{},inverse:l.noop,fn:l.program(1,c,s),data:s});return i||0===i?i:""})})();var t="dialog-order-history.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-order-tracking-row.html":function(e,t){YUI.add("squarespace-dialog-order-tracking-row-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-order-tracking-row.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o="function",l=this.escapeExpression;i+='<div class="order">\n  <div class="cell order-id">#'+l((r=t.orderNumber,typeof r===o?r.apply(t):r))+'</div>\n  <div class="cell recipient">\n    <div class="tooltip-wrapper">\n      <div class="tooltip-target">'+l((r=(r=(r=t.shippingDetails,null==r||false===r?r:r.customer),null==r||false===r?r:r.name),typeof r===o?r.apply(t):r))+'</div>\n    </div>\n  </div>\n  <div class="cell tracking-number"></div>\n  <div class="cell carrier-label"></div>\n</div>';return i})})();var t="dialog-order-tracking-row.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-order-tracking.html":function(e,t){YUI.add("squarespace-dialog-order-tracking-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-order-tracking.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o,l="function",c=this.escapeExpression,u=this;function d(e,t){var a="",s;a+='\n<div class="title">'+c((s=(s=e.strings,null==s||false===s?s:s.title),typeof s===l?s.apply(e):s))+"</div>\n";return a}function p(e,t){var a="",s;a+='\n<div class="description">'+c((s=(s=e.strings,null==s||false===s?s:s.description),typeof s===l?s.apply(e):s))+"</div>\n";return a}o=a["if"].call(t,(r=t.strings,null==r||false===r?r:r.title),{hash:{},inverse:u.noop,fn:u.program(1,d,n),data:n});(o||0===o)&&(i+=o);i+="\n";o=a["if"].call(t,(r=t.strings,null==r||false===r?r:r.description),{hash:{},inverse:u.noop,fn:u.program(3,p,n),data:n});(o||0===o)&&(i+=o);i+='\n<div class="orders-wrapper">\n  <div class="orders-header">\n    <div class="label order-id">'+c((r=(r=t.strings,null==r||false===r?r:r.order),typeof r===l?r.apply(t):r))+'</div>\n    <div class="label recipient">'+c((r=(r=t.strings,null==r||false===r?r:r.recipient),typeof r===l?r.apply(t):r))+'</div>\n    <div class="label tracking-number">'+c((r=(r=t.strings,null==r||false===r?r:r.tracking),typeof r===l?r.apply(t):r))+'</div>\n    <div class="label carrier-label">'+c((r=(r=t.strings,null==r||false===r?r:r.carrier),typeof r===l?r.apply(t):r))+'</div>\n  </div>\n  <div class="orders-list"></div>\n</div>';return i})})();var t="dialog-order-tracking.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-payment-link.html":function(e,t){YUI.add("squarespace-dialog-payment-link-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-payment-link.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o,l="function",c=this.escapeExpression;i+='<div class="label">'+c((r=(r=t.strings,null==r||false===r?r:r.charge),typeof r===l?r.apply(t):r))+'</div>\n<div class="charge-id">';if(o=a.chargeId)o=o.call(t,{hash:{},data:n});else{o=t.chargeId;o=typeof o===l?o.apply(t):o}i+=c(o)+'</div>\n<div class="action">\n  <a target="_blank" href="';if(o=a.url)o=o.call(t,{hash:{},data:n});else{o=t.url;o=typeof o===l?o.apply(t):o}i+=c(o)+'">';if(o=a.label)o=o.call(t,{hash:{},data:n});else{o=t.label;o=typeof o===l?o.apply(t):o}i+=c(o)+" &rarr;</a>\n</div>";return i})})();var t="dialog-payment-link.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-range-table.html":function(e,t){YUI.add("squarespace-dialog-range-table-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-range-table.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i,r="function",o=this.escapeExpression,l=this;function c(e,t){var a="",s;a+='\n  <div class="field-lhs top">\n    ';if(s=n.title)s=s.call(e,{hash:{},data:t});else{s=e.title;s=typeof s===r?s.apply(e):s}a+=o(s)+'\n  </div>\n  <div class="field-rhs">\n    <div class="field-description-wrapper">\n      <div class="field-description">\n        ';if(s=n.description)s=s.call(e,{hash:{},data:t});else{s=e.description;s=typeof s===r?s.apply(e):s}a+=o(s)+"\n      </div>\n    </div>\n\n    <table>\n      <thead>\n      <tr>\n        <th>\n          ";if(s=n.dimensionsLabel)s=s.call(e,{hash:{},data:t});else{s=e.dimensionsLabel;s=typeof s===r?s.apply(e):s}a+=o(s)+"\n        </th>\n        <th>\n          ";if(s=n.valueLabel)s=s.call(e,{hash:{},data:t});else{s=e.valueLabel;s=typeof s===r?s.apply(e):s}a+=o(s)+'\n        </th>\n      </tr>\n      </thead>\n      <tbody class="range-table-body">\n      </tbody>\n\n    </table>\n\n    <div class="add-row">\n      <img src="//assets.squarespace.com/universal/images-v6/standard/icon_add_11_light.png"/>\n    </div>\n\n  </div>\n';return a}i=n["with"].call(t,t.strings,{hash:{},inverse:l.noop,fn:l.program(1,c,s),data:s});return i||0===i?i:""})})();var t="dialog-range-table.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipping-container-table.html":function(e,t){YUI.add("squarespace-dialog-shipping-container-table-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipping-container-table.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o="function",l=this.escapeExpression;i+='<table class="system">\n  <thead>\n    <tr>\n      <th>\n        '+l((r=(r=t.strings,null==r||false===r?r:r.container),typeof r===o?r.apply(t):r))+"\n      </th>\n      <th>\n        "+l((r=(r=t.strings,null==r||false===r?r:r.dimensions),typeof r===o?r.apply(t):r))+'\n      </th>\n    </tr>\n  </thead>\n  <tbody class="table-body list"></tbody>\n</table>\n\n<div class="add-row">\n  <img src="//assets.squarespace.com/universal/images-v6/standard/icon_add_11_light.png" />\n</div>';return i})})();var t="dialog-shipping-container-table.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipping-legend.html":function(e,t){YUI.add("squarespace-dialog-shipping-legend-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipping-legend.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o,l="function",c=this.escapeExpression,u=this;function d(e,t,a){var s="",n;s+='\n      <tr class="shipping-legend-item" data-box-index="'+c((n=e.boxIndex,typeof n===l?n.apply(e):n))+'">\n        <td class="key">\n          <div class="swatch gray" style="background-color: '+c((n=e.grayColor,typeof n===l?n.apply(e):n))+';"></div>\n          <div class="swatch activeColor" style="background-color: '+c((n=e.activeColor,typeof n===l?n.apply(e):n))+';"></div>\n        </td>\n        <td class="item">\n          <div>'+c((n=e.title,typeof n===l?n.apply(e):n))+'</div>\n        </td>\n        <td class="dimensions">\n          <div>'+c((n=e.length,typeof n===l?n.apply(e):n))+c((n=a.dimensionUnit,typeof n===l?n.apply(e):n))+" x "+c((n=e.width,typeof n===l?n.apply(e):n))+c((n=a.dimensionUnit,typeof n===l?n.apply(e):n))+" x "+c((n=e.height,typeof n===l?n.apply(e):n))+c((n=a.dimensionUnit,typeof n===l?n.apply(e):n))+'</div>\n        </td>\n        <td class="weight">\n          <div>'+c((n=(n=e.weight,null==n||false===n?n:n.value),typeof n===l?n.apply(e):n))+" "+c((n=a.weightUnit,typeof n===l?n.apply(e):n))+"</div>\n        </td>\n      </tr>\n      ";return s}i+='<div class="shipping-legend-table">\n  <table>\n    <thead>\n      <tr>\n        <th class="key">\n          <div class="swatch gray"></div>\n        </th>\n        <th class="item">'+c((r=(r=t.strings,null==r||false===r?r:r.item),typeof r===l?r.apply(t):r))+'</th>\n        <th class="dimensions">'+c((r=(r=t.strings,null==r||false===r?r:r.dimensions),typeof r===l?r.apply(t):r))+'</th>\n        <th class="weight">'+c((r=(r=t.strings,null==r||false===r?r:r.weight),typeof r===l?r.apply(t):r))+'</th>\n      </tr>\n    </thead>\n    <tbody class="scrollable">\n      ';o=a.each.call(t,t.items,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,d,n,t),data:n});(o||0===o)&&(i+=o);i+="\n    </tbody>\n  </table>\n</div>";return i})})();var t="dialog-shipping-legend.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipping-rendering.html":function(e,t){YUI.add("squarespace-dialog-shipping-rendering-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipping-rendering.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o="function",l=this.escapeExpression;i+='<div class="shipping-rendering">\n    <div class="title">'+l((r=(r=t.strings,null==r||false===r?r:r.packingConfiguration),typeof r===o?r.apply(t):r))+'</div>\n    <div class="canvas-container">'+l((r=(r=t.strings,null==r||false===r?r:r.loading),typeof r===o?r.apply(t):r))+"&hellip;</div>\n</div>";return i})})();var t="dialog-shipping-rendering.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipping-rule-list.html":function(e,t){YUI.add("squarespace-dialog-shipping-rule-list-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipping-rule-list.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};return'<div class="shipping-rule-list">\n  <div class="list-summary regionsServed"></div>\n  <div class="list-body">\n    <div class="loading-text">Loading options&hellip;</div>\n  </div>\n  <div class="list-add">Add Shipping Option</div>\n</div>'})})();var t="dialog-shipping-rule-list.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipping-summary.html":function(e,t){YUI.add("squarespace-dialog-shipping-summary-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipping-summary.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o,l="function",c=this.escapeExpression;i+='<div>\n  <div class="sqs-description">\n    <div class="title">'+c((r=(r=t.strings,null==r||false===r?r:r.shipmentOverview),typeof r===l?r.apply(t):r))+'</div>\n    <div class="text">'+c((r=(r=t.strings,null==r||false===r?r:r.description),typeof r===l?r.apply(t):r))+'</div>\n  </div>\n  <div class="shipping-summary-table">\n    <table>\n      <thead>\n        <tr>\n          <th class="service">'+c((r=(r=t.strings,null==r||false===r?r:r.service),typeof r===l?r.apply(t):r))+'</th>\n          <th class="packages">'+c((r=(r=t.strings,null==r||false===r?r:r.packages),typeof r===l?r.apply(t):r))+'</th>\n          <th class="items">'+c((r=(r=t.strings,null==r||false===r?r:r.items),typeof r===l?r.apply(t):r))+'</th>\n          <th class="weight">'+c((r=(r=t.strings,null==r||false===r?r:r.weight),typeof r===l?r.apply(t):r))+'</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td class="service">';if(o=a.shippingMethod)o=o.call(t,{hash:{},data:n});else{o=t.shippingMethod;o=typeof o===l?o.apply(t):o}i+=c(o)+'</td>\n          <td class="packages">';if(o=a.numContainersMessage)o=o.call(t,{hash:{},data:n});else{o=t.numContainersMessage;o=typeof o===l?o.apply(t):o}i+=c(o)+'</td>\n          <td class="items">';if(o=a.numItemsMessage)o=o.call(t,{hash:{},data:n});else{o=t.numItemsMessage;o=typeof o===l?o.apply(t):o}i+=c(o)+'</td>\n          <td class="weight">';if(o=a.totalWeight)o=o.call(t,{hash:{},data:n});else{o=t.totalWeight;o=typeof o===l?o.apply(t):o}i+=c(o)+" ";if(o=a.weightUnit)o=o.call(t,{hash:{},data:n});else{o=t.weightUnit;o=typeof o===l?o.apply(t):o}i+=c(o)+"</td>\n        </tr>\n      </tbody>\n  </div>\n</div>";return i})})();var t="dialog-shipping-summary.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipping-system-container-table.html":function(e,t){YUI.add("squarespace-dialog-shipping-system-container-table-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipping-system-container-table.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o="function",l=this.escapeExpression;i+='<table class="system">\n  <thead>\n    <tr>\n      <th>\n        '+l((r=(r=t.strings,null==r||false===r?r:r.container),typeof r===o?r.apply(t):r))+"\n      </th>\n      <th>\n        "+l((r=(r=t.strings,null==r||false===r?r:r.dimensions),typeof r===o?r.apply(t):r))+'\n      </th>\n    </tr>\n  </thead>\n  <tbody class="table-body list"></tbody>\n</table>\n\n';return i})})();var t="dialog-shipping-system-container-table.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/dialog-shipstation-connect.html":function(e,t){YUI.add("squarespace-dialog-shipstation-connect-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["dialog-shipstation-connect.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o="function",l=this.escapeExpression;i+='<div class="title">\n  Connect ShipStation to Print Shipping Labels\n</div>\n\n<div class="text shipstation-description-message">\n\n</div>\n\n<div class="connection-info">\n  <div class="label-container username">\n    <div class="label">Username</div>\n    <div class="value">';if(r=a.siteIdentifier)r=r.call(t,{hash:{},data:n});else{r=t.siteIdentifier;r=typeof r===o?r.apply(t):r}i+=l(r)+'</div>\n  </div>\n  <div class="label-container password">\n    <div class="label">Password</div>\n    <div class="value"></div>\n  </div>\n  <div class="label-container last-synced">\n    <div class="label">Last Synced</div>\n    <div class="value"></div>\n  </div>\n  <div class="label-container last-notified">\n    <div class="label">Last Shipment Notification</div>\n    <div class="value"></div>\n  </div>\n</div>\n\n<div class="configure-button">Connect ShipStation</div>\n<div class="disconnect-button">Disconnect</div>\n';return i})})();var t="dialog-shipstation-connect.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/navigation-item-list.html":function(e,t){YUI.add("squarespace-navigation-item-list-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["navigation-item-list.html"]=e(function(e,t,i,a,s){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);s=s||{};var n="",r,o,l="function",c=this.escapeExpression,u=this;function d(e,t){var a="",s,n;a+="\n<header>\n  ";n=i["if"].call(e,(s=e.strings,null==s||false===s?s:s.icon),{hash:{},inverse:u.program(4,m,t),fn:u.program(2,p,t),data:t});(n||0===n)&&(a+=n);a+="\n  ";n=i["if"].call(e,(s=e.strings,null==s||false===s?s:s.description),{hash:{},inverse:u.noop,fn:u.program(6,h,t),data:t});(n||0===n)&&(a+=n);a+="\n</header>\n";return a}function p(e,t){var a="",s;a+='\n    <div class="header-nav-title"><h1>'+c((s=(s=e.strings,null==s||false===s?s:s.title),typeof s===l?s.apply(e):s))+"</h1></div>\n  ";return a}function m(e,t){var a="",s;a+="\n    <h1>"+c((s=(s=e.strings,null==s||false===s?s:s.title),typeof s===l?s.apply(e):s))+"</h1>\n  ";return a}function h(e,t){var a="",s,n;a+='\n    <div class="description">';n=(s=(s=e.strings,null==s||false===s?s:s.description),typeof s===l?s.apply(e):s);(n||0===n)&&(a+=n);a+="</div>\n  ";return a}function v(e,t){return"empty-item-list-wrapper"}function g(e,t){var a="",s;a+='\n    <div class="empty-message">'+c((s=(s=e.strings,null==s||false===s?s:s.emptyMessage),typeof s===l?s.apply(e):s))+"</div>\n  ";return a}function f(e,t){var a="",s;a+='\n<footer>\n  <div class="add-page">\n    <span class="icon icon-add add-page-anchor"></span>\n    <h3 class="title">'+c((s=(s=e.strings,null==s||false===s?s:s.addText),typeof s===l?s.apply(e):s))+"</h3>\n  </div>\n</footer>\n";return a}r=i["if"].call(t,t.showHeader,{hash:{},inverse:u.noop,fn:u.program(1,d,s),data:s});(r||0===r)&&(n+=r);n+='\n\n<section class="item-list-wrapper '+c((r=(r=t.strings,null==r||false===r?r:r.className),typeof r===l?r.apply(t):r))+" ";o=i["if"].call(t,t.empty,{hash:{},inverse:u.noop,fn:u.program(8,v,s),data:s});(o||0===o)&&(n+=o);n+='">\n  <div class="item-list"></div>\n  ';o=i["if"].call(t,(r=t.strings,null==r||false===r?r:r.emptyMessage),{hash:{},inverse:u.noop,fn:u.program(10,g,s),data:s});(o||0===o)&&(n+=o);n+="\n</section>\n\n";o=i["if"].call(t,t.showFooter,{hash:{},inverse:u.noop,fn:u.program(12,f,s),data:s});(o||0===o)&&(n+=o);n+="\n";return n})})();var t="navigation-item-list.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/navigation-item.html":function(e,t){YUI.add("squarespace-navigation-item-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["navigation-item.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o="function",l=this.escapeExpression;i+='<div class="item-wrapper">\n  <span class="icon icon-';if(r=a.icon)r=r.call(t,{hash:{},data:n});else{r=t.icon;r=typeof r===o?r.apply(t):r}i+=l(r)+'"></span>\n  <div class="title" title="';if(r=a.title)r=r.call(t,{hash:{},data:n});else{r=t.title;r=typeof r===o?r.apply(t):r}i+=l(r)+'">';if(r=a.title)r=r.call(t,{hash:{},data:n});else{r=t.title;r=typeof r===o?r.apply(t):r}i+=l(r)+'</div>\n  <div class="icons">\n    <span class="icon icon-homepage"></span>\n    <span class="icon icon-mahomepage"></span>\n    <span class="icon icon-configure"></span>\n    <span class="icon icon-delete"></span>\n    <span class="icon icon-chevron"></span>\n  </div>\n</div>\n';return i})})();var t="navigation-item.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/settings-panel.html":function(e,t){YUI.add("squarespace-settings-panel-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["settings-panel.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i="",r,o="function",l=this;function c(e,t){var a="",s;a+="\n  ";s=n["if"].call(e,e.description,{hash:{},inverse:l.noop,fn:l.program(2,u,t),data:t});(s||0===s)&&(a+=s);a+='\n  <div class="loading-message">';if(s=n.loadingMessage)s=s.call(e,{hash:{},data:t});else{s=e.loadingMessage;s=typeof s===o?s.apply(e):s}(s||0===s)&&(a+=s);a+="</div>\n";return a}function u(e,t){var a="",s;a+='\n  <div class="panel-description">';if(s=n.description)s=s.call(e,{hash:{},data:t});else{s=e.description;s=typeof s===o?s.apply(e):s}(s||0===s)&&(a+=s);a+="</div>\n  ";return a}r=n["with"].call(t,t.strings,{hash:{},inverse:l.noop,fn:l.program(1,c,s),data:s});(r||0===r)&&(i+=r);i+='\n\n<div class="settings-panel-fields"></div>';return i})})();var t="settings-panel.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/tax-rule-view.html":function(e,t){YUI.add("squarespace-tax-rule-view-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["tax-rule-view.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i,r="function",o=this.escapeExpression,l=this;function c(e,t){var a="",s;a+='\n\n<div class="rule-body">\n  <div>\n    <div class="name">\n      ';if(s=n.name)s=s.call(e,{hash:{},data:t});else{s=e.name;s=typeof s===r?s.apply(e):s}a+=o(s)+'\n    </div>\n    <div class="actions">\n      ';s=n["if"].call(e,e.addAction,{hash:{},inverse:l.noop,fn:l.program(2,u,t),data:t});(s||0===s)&&(a+=s);a+='\n    </div>\n  </div>\n  <div>\n    <div class="description">\n      ';if(s=n.description)s=s.call(e,{hash:{},data:t});else{s=e.description;s=typeof s===r?s.apply(e):s}a+=o(s)+'\n    </div>\n    <span class="aggregate">';if(s=n.aggregate)s=s.call(e,{hash:{},data:t});else{s=e.aggregate;s=typeof s===r?s.apply(e):s}a+=o(s)+'</span>\n  </div>\n  <div class="subrules-list">\n  </div>\n</div>\n\n\n';return a}function u(e,t){var a="",s;a+='\n      <span class="add">';if(s=n.addAction)s=s.call(e,{hash:{},data:t});else{s=e.addAction;s=typeof s===r?s.apply(e):s}a+=o(s)+"</span>\n      ";return a}i=n["with"].call(t,t.strings,{hash:{},inverse:l.noop,fn:l.program(1,c,s),data:s});return i||0===i?i:""})})();var t="tax-rule-view.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-blog-item-view.html":function(e,t){YUI.add("squarespace-widgets-blog-item-view-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-blog-item-view.html"]=e(function(e,t,i,a,s){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);s=s||{};var n="",r,o,l,c="function",u=this.escapeExpression,d=i.helperMissing,p=this,m=i.blockHelperMissing;function h(e,t){return"has-thumbnail"}function v(e,t){return"has-comments"}function g(e,t){var a="",s;a+='\n    <div class="thumbnail" style="background-image: url(';if(s=i.coverImageUrl)s=s.call(e,{hash:{},data:t});else{s=e.coverImageUrl;s=typeof s===c?s.apply(e):s}a+=u(s)+'?format=300w"></div>\n  ';return a}function f(e,t){return"has-title"}function b(e,t){return"no-title"}function y(e,t){var a;if(a=i.title)a=a.call(e,{hash:{},data:t});else{a=e.title;a=typeof a===c?a.apply(e):a}return a||0===a?a:""}function w(e,t){var a;if(a=i.noTitle)a=a.call(e,{hash:{},data:t});else{a=e.noTitle;a=typeof a===c?a.apply(e):a}return u(a)}function S(e,t){var a="",s;a+='</span>\n      <span class="comment-count">';if(s=i.commentCount)s=s.call(e,{hash:{},data:t});else{s=e.commentCount;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>";return a}function C(e,t){var a="",s;a+='\n      <span class="status">';if(s=i.message)s=s.call(e,{hash:{},data:t});else{s=e.message;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>\n    ";return a}function _(e,t){var a="",s;a+='\n      <span class="event-date-descriptor">';if(s=i.eventDateDescriptor)s=s.call(e,{hash:{},data:t});else{s=e.eventDateDescriptor;s=typeof s===c?s.apply(e):s}(s||0===s)&&(a+=s);a+="</span>\n    ";return a}function T(e,t){var a="",s;a+="\n      ";s=i["if"].call(e,e.publishOn,{hash:{},inverse:p.program(24,q,t),fn:p.program(22,j,t),data:t});(s||0===s)&&(a+=s);a+="\n    ";return a}function j(e,t){var a="",s;a+='\n        <span class="publish-on">';if(s=i.publishOn)s=s.call(e,{hash:{},data:t});else{s=e.publishOn;s=typeof s===c?s.apply(e):s}a+=u(s)+"</span>\n      ";return a}function q(e,t){var a="",s;a+="\n        ";s=i["if"].call(e,e.addedOn,{hash:{},inverse:p.noop,fn:p.program(25,I,t),data:t});(s||0===s)&&(a+=s);a+="\n      ";return a}function I(e,t){var a="",s,n;a+='\n          <span class="added-on">';n={hash:{format:"ll"},data:t};a+=u((s=i["date-format"]||e["date-format"],s?s.call(e,e.addedOn,n):d.call(e,"date-format",e.addedOn,n)))+"</span>\n        ";return a}function E(e,t){var a="",s;a+='\n      <span class="separator">&nbsp;&middot;&nbsp;</span> <span class="display-name">'+u((s=(s=e.author,null==s||false===s?s:s.displayName),typeof s===c?s.apply(e):s))+"</span>\n    ";return a}function A(e,t){var a="",s;a+='\n    <div class="flag ';if(s=i.className)s=s.call(e,{hash:{},data:t});else{s=e.className;s=typeof s===c?s.apply(e):s}a+=u(s)+'">\n      ';if(s=i.message)s=s.call(e,{hash:{},data:t});else{s=e.message;s=typeof s===c?s.apply(e):s}a+=u(s)+"\n    </div>\n  ";return a}n+='<div class="blog-list-item list-item ';r=i["if"].call(t,t.coverImageUrl,{hash:{},inverse:p.noop,fn:p.program(1,h,s),data:s});(r||0===r)&&(n+=r);n+=" ";r=i["if"].call(t,t.commentCount,{hash:{},inverse:p.noop,fn:p.program(3,v,s),data:s});(r||0===r)&&(n+=r);n+='">\n  ';r=i["if"].call(t,t.coverImageUrl,{hash:{},inverse:p.noop,fn:p.program(5,g,s),data:s});(r||0===r)&&(n+=r);n+='\n\n  <header class="blog-list-item-header list-item-header">\n    <h2 class="';r=i["if"].call(t,t.title,{hash:{},inverse:p.program(9,b,s),fn:p.program(7,f,s),data:s});(r||0===r)&&(n+=r);n+=" ";r=i["if"].call(t,t.commentCount,{hash:{},inverse:p.noop,fn:p.program(3,v,s),data:s});(r||0===r)&&(n+=r);n+='">\n      <span class="title">';r=i["if"].call(t,t.title,{hash:{},inverse:p.program(13,w,s),fn:p.program(11,y,s),data:s});(r||0===r)&&(n+=r);r=i["if"].call(t,t.commentCount,{hash:{},inverse:p.noop,fn:p.program(15,S,s),data:s});(r||0===r)&&(n+=r);n+='\n    </h2>\n  </header>\n\n  <div class="meta">\n    ';l={hash:{},inverse:p.noop,fn:p.program(17,C,s),data:s};if(r=i.flag)r=r.call(t,l);else{r=t.flag;r=typeof r===c?r.apply(t):r}i.flag||(r=m.call(t,r,l));(r||0===r)&&(n+=r);n+="\n\n    ";r=i["if"].call(t,t.eventDateDescriptor,{hash:{},inverse:p.program(21,T,s),fn:p.program(19,_,s),data:s});(r||0===r)&&(n+=r);n+="\n\n    ";o=i["if"].call(t,(r=t.author,null==r||false===r?r:r.displayName),{hash:{},inverse:p.noop,fn:p.program(27,E,s),data:s});(o||0===o)&&(n+=o);n+="\n  </div>\n\n  ";l={hash:{},inverse:p.noop,fn:p.program(29,A,s),data:s};if(o=i.flag)o=o.call(t,l);else{o=t.flag;o=typeof o===c?o.apply(t):o}i.flag||(o=m.call(t,o,l));(o||0===o)&&(n+=o);n+="\n</div>\n";return n})})();var t="widgets-blog-item-view.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-commerce-donation.html":function(e,t){YUI.add("squarespace-widgets-commerce-donation-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-commerce-donation.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o,l,c="function",u=this.escapeExpression,d=a.helperMissing,p=this;function m(e,t){return'\n  <div class="status-text-wrapper"><div class="status-text">TEST</div></div>\n'}i+='<div class="summary">\n  <div class="amount">';if(r=a.amountFormatted)r=r.call(t,{hash:{},data:n});else{r=t.amountFormatted;r=typeof r===c?r.apply(t):r}i+=u(r)+'</div>\n</div>\n<div class="details">\n  <div class="donation-title">';if(r=a.donationTitle)r=r.call(t,{hash:{},data:n});else{r=t.donationTitle;r=typeof r===c?r.apply(t):r}i+=u(r)+'</div>\n    <div class="name">'+u((r=(r=t.donor,null==r||false===r?r:r.name),typeof r===c?r.apply(t):r))+'</div>\n    <div class="email">'+u((r=(r=t.donor,null==r||false===r?r:r.email),typeof r===c?r.apply(t):r))+'</div>\n  <div class="date">';l={hash:{format:"LLL"},data:n};i+=u((r=a["date-format"]||t["date-format"],r?r.call(t,t.submittedOn,l):d.call(t,"date-format",t.submittedOn,l)))+"</div>\n</div>\n";o=a["if"].call(t,t.testMode,{hash:{},inverse:p.noop,fn:p.program(1,m,n),data:n});(o||0===o)&&(i+=o);i+="\n";return i})})();var t="widgets-commerce-donation.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-commerce-payment-activity.html":function(e,t){YUI.add("squarespace-widgets-commerce-payment-activity-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-commerce-payment-activity.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o,l,c="function",u=this.escapeExpression,d=this,p=a.helperMissing;function m(e,t){var a="",s;a+="\n        #"+u((s=(s=e.model,null==s||false===s?s:s.orderNumber),typeof s===c?s.apply(e):s))+"\n      ";return a}function h(e,t){return"\n        --\n      "}i+='<div class="payment-activity-row ';if(r=a.typeCssClass)r=r.call(t,{hash:{},data:n});else{r=t.typeCssClass;r=typeof r===c?r.apply(t):r}i+=u(r)+'">\n  <div class="description">'+u((r=(r=t.model,null==r||false===r?r:r.description),typeof r===c?r.apply(t):r))+'</div>\n\n    <div class="order-number">\n      ';o=a["if"].call(t,(r=t.model,null==r||false===r?r:r.orderNumber),{hash:{},inverse:d.program(3,h,n),fn:d.program(1,m,n),data:n});(o||0===o)&&(i+=o);i+='\n    </div>\n    <div class="charge-id">'+u((r=(r=t.model,null==r||false===r?r:r.chargeId),typeof r===c?r.apply(t):r))+'</div>\n    <div class="timestamp">';l={hash:{format:t.dateFormat},data:n};i+=u((r=a["date-format"]||t["date-format"],r?r.call(t,(r=t.model,null==r||false===r?r:r.timestamp),l):p.call(t,"date-format",(r=t.model,null==r||false===r?r:r.timestamp),l)))+"</div>\n</div>";return i})})();var t="widgets-commerce-payment-activity.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-flow-dialog.html":function(e,t){YUI.add("squarespace-widgets-flow-dialog-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-flow-dialog.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};var i="",r,o=this;function l(e,t){return'\n  <div class="button cancel">Cancel</div>\n  <div class="button next">Next</div>\n'}function c(e,t){return'\n  <div class="button next">Next</div>\n  <div class="button cancel">Cancel</div>\n'}i+='<div class="back-arrow hidden"></div>\n<div class="flow-widget"></div>\n<div class="buttons">\n';r=a["if"].call(t,t.damask,{hash:{},inverse:o.program(3,c,n),fn:o.program(1,l,n),data:n});(r||0===r)&&(i+=r);i+="\n</div>\n";return i})})();var t="widgets-flow-dialog.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-frame-transitioner.html":function(e,t){YUI.add("squarespace-widgets-frame-transitioner-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-frame-transitioner.html"]=e(function(e,t,a,s,n){this.compilerInfo=[4,">= 1.0.0"];a=this.merge(a,e.helpers);n=n||{};return'<div class="titles"></div>\n\n<div class="progress-counter"></div>\n\n<div class="frames"></div>\n'})})();var t="widgets-frame-transitioner.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-infinite-scroll-list.html":function(e,t){YUI.add("squarespace-widgets-infinite-scroll-list-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-infinite-scroll-list.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i="",r,o="function",l=this.escapeExpression,c=this;function u(e,t){var a="",s;a+='\n    <img class="icon large" src="';if(s=n.emptyStateIconSrc)s=s.call(e,{hash:{},data:t});else{s=e.emptyStateIconSrc;s=typeof s===o?s.apply(e):s}a+=l(s)+'" />\n  ';return a}i+='<div class="children-wrapper"></div>\n<div class="no-models">\n  ';r=n["if"].call(t,t.emptyStateIconSrc,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s});(r||0===r)&&(i+=r);i+='\n  <div class="no-models-text"></div>\n</div>\n<div class="no-more-models">';if(r=n.noMoreModelsToLoad)r=r.call(t,{hash:{},data:s});else{r=t.noMoreModelsToLoad;r=typeof r===o?r.apply(t):r}i+=l(r)+'</div>\n<div class="spinner-wrapper"></div>';return i})})();var t="widgets-infinite-scroll-list.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-model-list-header.html":function(e,t){YUI.add("squarespace-widgets-model-list-header-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-model-list-header.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i="",r,o,l="function",c=this.escapeExpression,u=this;function d(e,t){return'\n  <div class="tab-select-container"></div>\n'}function p(e,t){var a="",s;a+='\n  <div class="header-action-buttons">\n    ';s=n.each.call(e,e.actionButtons,{hash:{},inverse:u.noop,fn:u.program(4,m,t),data:t});(s||0===s)&&(a+=s);a+="\n  </div>\n";return a}function m(e,t){var a="",s;a+='\n      <div class="action-button ';if(s=n.className)s=s.call(e,{hash:{},data:t});else{s=e.className;s=typeof s===l?s.apply(e):s}a+=c(s)+'" data-name="';if(s=n.name)s=s.call(e,{hash:{},data:t});else{s=e.name;s=typeof s===l?s.apply(e):s}a+=c(s)+'">';if(s=n.label)s=s.call(e,{hash:{},data:t});else{s=e.label;s=typeof s===l?s.apply(e):s}a+=c(s)+"</div>\n    ";return a}i+='<div class="header-title">'+c((r=(r=t.strings,null==r||false===r?r:r.title),typeof r===l?r.apply(t):r))+"</div>\n\n";o=n.unless.call(t,t.isSingleTab,{hash:{},inverse:u.noop,fn:u.program(1,d,s),data:s});(o||0===o)&&(i+=o);i+="\n\n";o=n["if"].call(t,t.hasActionButtons,{hash:{},inverse:u.noop,fn:u.program(3,p,s),data:s});(o||0===o)&&(i+=o);i+='\n\n<div class="tab-description"></div>\n<div class="header-controls"></div>\n';return i})})();var t="widgets-model-list-header.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-order.html":function(e,t){YUI.add("squarespace-widgets-order-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-order.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i="",r,o,l="function",c=this.escapeExpression,u=this;function d(e,t){var a="",s;a+='\n          <span class="test-tag">'+c((s=(s=e.strings,null==s||false===s?s:s.testOrder),typeof s===l?s.apply(e):s))+"</span>\n      ";return a}function p(e,t){var a="",s;a+='\n      <div class="cell order-channel">\n        <span class="tag">\n          ';s=n["if"].call(e,e.channelOnline,{hash:{},inverse:u.program(6,h,t),fn:u.program(4,m,t),data:t});(s||0===s)&&(a+=s);a+="\n        </span>\n      </div>\n    ";return a}function m(e,t){var a="",s;a+="\n            "+c((s=(s=e.strings,null==s||false===s?s:s.channelOnline),typeof s===l?s.apply(e):s))+"\n          ";return a}function h(e,t){var a="",s;a+="\n            ";s=n["if"].call(e,e.channelPOS,{hash:{},inverse:u.noop,fn:u.program(7,v,t),data:t});(s||0===s)&&(a+=s);a+="\n            ";s=n["if"].call(e,e.channelThirdParty,{hash:{},inverse:u.noop,fn:u.program(9,g,t),data:t});(s||0===s)&&(a+=s);a+="\n          ";return a}function v(e,t){var a="",s;a+="\n              "+c((s=(s=e.strings,null==s||false===s?s:s.channelPOS),typeof s===l?s.apply(e):s))+"\n            ";return a}function g(e,t){var a="",s;a+="\n              ";if(s=n.channelName)s=s.call(e,{hash:{},data:t});else{s=e.channelName;s=typeof s===l?s.apply(e):s}a+=c(s)+"\n            ";return a}function f(e,t){var a="",s;a+='\n        <span class="tag">'+c((s=(s=e.strings,null==s||false===s?s:s.fulfilled),typeof s===l?s.apply(e):s))+"</span>\n      ";return a}function b(e,t){var a="",s;a+="\n        ";s=n["if"].call(e,e.stateCanceled,{hash:{},inverse:u.program(16,w,t),fn:u.program(14,y,t),data:t});(s||0===s)&&(a+=s);a+="\n      ";return a}function y(e,t){var a="",s;a+='\n          <span class="tag">'+c((s=(s=e.strings,null==s||false===s?s:s.canceled),typeof s===l?s.apply(e):s))+"</span>\n        ";return a}function w(e,t){var a="",s;a+='\n          <span class="pending-tag">'+c((s=(s=e.strings,null==s||false===s?s:s.pending),typeof s===l?s.apply(e):s))+"</span>\n        ";return a}i+='<div class="order-selector"></div>\n\n<div class="order-content">\n\n  <div class="order-summary">\n\n    <div class="cell order-number" title="#'+c((r=(r=t.model,null==r||false===r?r:r.displayId),typeof r===l?r.apply(t):r))+'">#'+c((r=(r=t.model,null==r||false===r?r:r.orderNumber),typeof r===l?r.apply(t):r))+'</div>\n\n    <div class="cell test-order">\n      ';o=n["if"].call(t,(r=t.model,null==r||false===r?r:r.testMode),{hash:{},inverse:u.noop,fn:u.program(1,d,s),data:s});(o||0===o)&&(i+=o);i+='\n    </div>\n\n    <div class="cell date">\n      <span>';if(o=n.submittedOn)o=o.call(t,{hash:{},data:s});else{o=t.submittedOn;o=typeof o===l?o.apply(t):o}i+=c(o)+'</span>\n    </div>\n\n    <div class="cell placed-by"  title="'+c((r=(r=(r=t.model,null==r||false===r?r:r.customer),null==r||false===r?r:r.name),typeof r===l?r.apply(t):r))+'">\n      <span class="customer">'+c((r=(r=(r=(r=t.model,null==r||false===r?r:r.billingDetails),null==r||false===r?r:r.customer),null==r||false===r?r:r.name),typeof r===l?r.apply(t):r))+'</span>\n    </div>\n\n    <div class="cell placed-by-email"  title="'+c((r=(r=(r=t.model,null==r||false===r?r:r.customer),null==r||false===r?r:r.email),typeof r===l?r.apply(t):r))+'">\n      <span class="customer-email">'+c((r=(r=(r=(r=t.model,null==r||false===r?r:r.billingDetails),null==r||false===r?r:r.customer),null==r||false===r?r:r.email),typeof r===l?r.apply(t):r))+'</span>\n    </div>\n\n    <div class="cell total">\n      <span class="money-total">';if(o=n.amountFormatted)o=o.call(t,{hash:{},data:s});else{o=t.amountFormatted;o=typeof o===l?o.apply(t):o}i+=c(o)+'</span>\n    </div>\n\n    <div class="cell payment">\n      <span class="tag">\n        ';if(o=n.paymentState)o=o.call(t,{hash:{},data:s});else{o=t.paymentState;o=typeof o===l?o.apply(t):o}i+=c(o)+"\n      </span>\n    </div>\n\n    ";o=n["if"].call(t,t.multipleChannels,{hash:{},inverse:u.noop,fn:u.program(3,p,s),data:s});(o||0===o)&&(i+=o);i+='\n\n    <div class="cell fulfillment-status">\n      ';o=n["if"].call(t,t.stateShipped,{hash:{},inverse:u.program(13,b,s),fn:u.program(11,f,s),data:s});(o||0===o)&&(i+=o);i+="\n    </div>\n  </div>\n</div>\n\n";return i})})();var t="widgets-order.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/templates-v6/handlebars/widgets-recycle-bin-item-view.html":function(e,t){YUI.add("squarespace-widgets-recycle-bin-item-view-template",function(e){var a=e.Handlebars;(function(){var e=a.template,t=a.templates=a.templates||{};t["widgets-recycle-bin-item-view.html"]=e(function(e,t,n,a,s){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);s=s||{};var i="",r,o="function",l=this.escapeExpression,c=this;function u(e,t){return" has-thumbnail"}function d(e,t){var a="",s;a+='\n    <div class="thumbnail" style="background-image: url(';if(s=n.coverImageUrl)s=s.call(e,{hash:{},data:t});else{s=e.coverImageUrl;s=typeof s===o?s.apply(e):s}a+=l(s)+'?format=100w)"></div>\n  ';return a}function p(e,t){var a;if(a=n.icon)a=a.call(e,{hash:{},data:t});else{a=e.icon;a=typeof a===o?a.apply(e):a}return l(a)}function m(e,t){var a;if(a=n.title)a=a.call(e,{hash:{},data:t});else{a=e.title;a=typeof a===o?a.apply(e):a}return a||0===a?a:""}function h(e,t){return"No Title"}i+='<div class="list-item';r=n["if"].call(t,t.coverImageUrl,{hash:{},inverse:c.noop,fn:c.program(1,u,s),data:s});(r||0===r)&&(i+=r);i+='">\n  ';r=n["if"].call(t,t.coverImageUrl,{hash:{},inverse:c.noop,fn:c.program(3,d,s),data:s});(r||0===r)&&(i+=r);i+='\n  <div class="list-item-header">\n    <h2>\n      <span class="icon collection-icon ';r=n["if"].call(t,t.icon,{hash:{},inverse:c.noop,fn:c.program(5,p,s),data:s});(r||0===r)&&(i+=r);i+='"></span>\n      <span class="title">';r=n["if"].call(t,t.title,{hash:{},inverse:c.program(9,h,s),fn:c.program(7,m,s),data:s});(r||0===r)&&(i+=r);i+='</span>\n    </h2>\n  </div>\n  <span class="meta">';if(r=n.formattedUpdatedOnDate)r=r.call(t,{hash:{},data:s});else{r=t.formattedUpdatedOnDate;r=typeof r===o?r.apply(t):r}i+=l(r)+"</span>\n</div>";return i})})();var t="widgets-recycle-bin-item-view.html";e.Handlebars.registerPartial(t.replace("/","."),a.templates[t])},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/universal/packages/enums/CertificateStatus.js":function(e,t){var a={ERROR:"ERROR",UNKNOWN:"UNKNOWN",NOT_FOUND:"NOT_FOUND",FAILED_DNS:"FAILED_DNS",FAILED:"FAILED",PROCESSING:"PROCESSING",ISSUED:"ISSUED"};e.exports=a},"./src/main/webapp/universal/packages/enums/DomainConnectionStrategyId.js":function(e,t){var a={MANUAL:"manual",DOMAINCONNECT:"domainconnect"};e.exports=a},"./src/main/webapp/universal/packages/enums/DomainNameStatus.js":function(e,t){var a={IN_USE:1,INVALID_SYNTAX:2,INVALID_NAME:3,VALID:4};e.exports=a},"./src/main/webapp/universal/packages/enums/DomainProviderId.js":function(e,t){var a={UNKNOWN:1,GO_DADDY:2,GOOGLE:3,OPEN_SRS:4,NAMECHEAP:5,ENOM:6,NETWORK_SOLUTIONS:7,DREAMHOST:8,BLUEHOST:9,I_WANT_MY_NAME:10,NAME_COM:11,HOVER:12,DOMAINS101:13,ONE_AND_ONE:14,DOTSTER:15,DYN_AND_NETTICA:16,DYNADOT:17,EASY_DNS:18,REGISTER_COM:19,WORDPRESS:20,YAHOO:21};e.exports=a},"./src/main/webapp/universal/packages/enums/DomainTransferStatus.js":function(e,t){var a={UNINITIATED:1,PENDING_CUSTOMER_APPROVAL:2,PENDING_WINNER_APPROVAL:3,PENDING_LOSER_APPROVAL:4,CANCELED:5,COMPLETED:6,UNKNOWN_STATUS:7,USER_CANCELED:8,PENDING_IPS_TAG_UPDATE:9,FAILED:10,AWAITING_PROCESSING:11,PROCESSING:12,DISMISSED:13,AWAITING_UNLOCKING:14,AWAITING_AUTH_CODE:15};e.exports=a},"./src/main/webapp/universal/packages/enums/DomainVerificationStatus.js":function(e,t){var a={VERIFIED:"verified",PENDING:"pending",SUSPENDED:"suspended",UNVERIFIED:"unverified"};e.exports=a},"./src/main/webapp/universal/packages/enums/GiftCardStatuses.js":function(e,t){var a={CANCELED:"CANCELED",FULL:"FULL",PARTIAL:"PARTIAL",DEPLETED:"DEPLETED"};e.exports=a},"./src/main/webapp/universal/packages/enums/GoogleAppsPlanType.js":function(e,t){var a={FLEXIBLE:1,TRIAL:2,ANNUAL:3};e.exports=a},"./src/main/webapp/universal/packages/enums/MemberAccountGuild.js":function(e,t){var a={CIRCLE_USER:1,DEVELOPER:2,ENTERPRISE:3};e.exports=a},"./src/main/webapp/universal/packages/enums/OrderChannelTypes.js":function(e,t){var a={THIRD_PARTY:"THIRD_PARTY",POS:"POS",ONLINE:"ONLINE"};e.exports=a},"./src/main/webapp/universal/packages/enums/OrderItemType.js":function(e,t){var a={PHYSICAL:1,DIGITAL:2,SERVICE:3,GIFT_CARD:4,PAYWALL:5,CUSTOM_SALE:6,DONATION:7};e.exports=a},"./src/main/webapp/universal/packages/enums/RegionType.js":function(e,t){var a={COUNTRY:10,SUBDIVISION:20,POSTAL_CODE:30};e.exports=a},"./src/main/webapp/universal/packages/enums/ShippingOptionMarkupType.js":function(e,t){var a={FIXED_AMOUNT:"FIXED_AMOUNT",PERCENTAGE:"PERCENTAGE"};e.exports=a},"./src/main/webapp/universal/packages/enums/SslSetting.js":function(e,t){var a={INSECURE:1,PREFER_SECURE:2,FORCE_SECURE:3};e.exports=a},"./src/main/webapp/universal/scripts-v6/async-wrappers/collections.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/router/widths.ts");var n=a("./src/main/webapp/universal/src/shared/router/widthUtils.ts");YUI.add("squarespace-async-wrappers-collections",function(u){u.namespace("Squarespace.AsyncWrappers");var t={GALLERY:"gallery",PAGE:"page",PRODUCTS:"products",PROJECT:"project"};var a={};a[t.GALLERY]=s.WIDE;a[t.PRODUCTS]=s.WIDE;a[t.PAGE]=s.PAGES;a[t.PROJECT]=s.PAGES;function d(){return u.Array.flatten(u.Squarespace.Singletons.TemplateNavigationList.toArray().map(function(e){return e.get("itemList").toArray().map(function(e){return[].concat(e,e.get("children").toArray())})}))}u.Squarespace.AsyncWrappers.CollectionEditor=u.Base.create("CollectionEditor",u.Squarespace.Damask.Panel.AsyncDataPanel,[],{destructor:function(){var e=this.constructor.superclass.destructor;e&&e.apply(this,arguments);this.cleanup&&this.cleanup()},getPanel:function(e,t,a){var s=u.Squarespace.ContentCollectionCache.getById(e.id);if(!s){a("/pages");return}this.set("typeName",this.getTypeNameForCollection(s));this.setPanelWidth();this.ensureFrameURL(s);this.renderPanel(e,t,a,s)},setPanelWidth:function(){var e=this.get("width");var t=n.getCSSPanelWidth(e);this.get("boundingBox").setStyle("width",t)},ensureFrameURL:function(e){var t=this.get("location.state.frameUrl");var a="/"+e.get("urlId");t===a||u.Squarespace.Navigation.ListUtils.isCollectionInIndex(e)||u.Squarespace.Navigation.ListUtils.indexCollectionRequiresReload(e)||this.get("router").replaceFrameUrl(a)},renderPanel:function(a,e,t,s){var n=d().find(function(e){var t=e.get("collection");return t&&t.get("id")===a.id});var i=u.Squarespace.Navigation.Utils.getNavigationItemType(n);var r=i.ATTRS.managerConfig&&i.ATTRS.managerConfig.value;if(!r){t("/pages");return}var o={};r.config&&"function"===typeof r.config&&(o=r.config(n.get("collection")));var l=u.merge(o,{collection:s,collectionConfiguration:s.getTemplateConfiguration(),damask:this.get("damask")});r.defaultCollectionConfig&&(l.defaultCollectionConfig=new u.Model(r.defaultCollectionConfig));var c=u.Base.create(r.ctor.NAME,r.ctor,[u.Squarespace.Damask.Menu.MixinContentManager],{},{CSS_PREFIX:r.ctor.CSS_PREFIX});setTimeout(function(){e(new c(l))},0)},getTypeNameForCollection:function(e){if(u.Squarespace.ContentCollectionUtils.isProduct(e))return t.PRODUCTS;if(u.Squarespace.ContentCollectionUtils.isGallery(e))return t.GALLERY;if(u.Squarespace.ContentCollectionUtils.isPage(e))return t.PAGE;if(u.Squarespace.Navigation.ListUtils.isCollectionAPortfolio(e))return t.PROJECT;return e.get("typeName")}},{ATTRS:{typeName:{},width:{readOnly:true,getter:function(){var e=a[this.get("typeName")];if(e)return e;return s.PANEL}}}})},"1.0",{requires:["base","model","squarespace-damask-panel-async-data-panel","squarespace-models-content-collection","squarespace-models-template-navigation-list","squarespace-navigation-list-utils"]})},"./src/main/webapp/universal/scripts-v6/async-wrappers/cover-page-editors-for-website.js":function(e,t,a){var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-async-wrappers-cover-page-editors-for-website",function(c){c.namespace("Squarespace.AsyncWrappers");var u={video:function(e,t){return{strings:{title:r("Video"),description:r("Paste the URL of a video (Vimeo, YouTube, Animoto, Wistia, etc.) you'd like to embed, and Squarespace will attempt to locate and format this video for your site.")},slideSummary:e,sliceAreas:t.filterBySliceTypes(c.Squarespace.SliceTypeGroups.VIDEO),sliceTypeOrdering:[c.Squarespace.SliceType.VIDEO]}},audio:function(e,t){return{strings:{title:r("Audio"),description:r("Add one or more tracks to create a playlist of songs. Then organize your tracks to create an album.")},slideSummary:e,sliceAreas:t.filterBySliceTypes(c.Squarespace.SliceTypeGroups.AUDIO),sliceTypeOrdering:[c.Squarespace.SliceType.ALBUM]}},location:function(e,t){return{strings:{title:r("Map Location"),description:r("Input your address into the fields below to let people know where you, your business, or your next event can be found. To edit how this location appears in text, navigate to the Branding & Text panel.")},slideSummary:e,sliceAreas:t.filterBySliceTypes(c.Squarespace.SliceTypeGroups.LOCATION),sliceTypeOrdering:[c.Squarespace.SliceType.MAP]}},twitter:function(e,t){return{strings:{title:r("Twitter"),description:r("Pick the account below you would like to import content from, or press Add Account to connect a new one.")},slideSummary:e,sliceAreas:t.filterBySliceTypes(c.Squarespace.SliceTypeGroups.TWITTER),sliceTypeOrdering:[c.Squarespace.SliceType.TWITTER]}},action:function(e,t){return{strings:{title:r("Action"),description:r("Your Cover Page should have a clear goal. Choose which type best meets your needs.")},slideSummary:e,sliceAreas:t.filterBySliceTypes(c.Squarespace.SliceTypeGroups.ACTION),sliceTypeOrdering:[c.Squarespace.SliceType.ACTION,c.Squarespace.SliceType.CUSTOM_FORM]}}};function t(e,t){var a=new c.Squarespace.Models.SlideSummary({url:c.Lang.sub("{root}content-collections/{collectionId}/slide-summary",{root:c.Squarespace.API_ROOT,collectionId:e}),slideType:c.Squarespace.SlideType.COVER_PAGE});a.load(function(){t(a)})}function s(e,t){var a=new c.Squarespace.Models.SlideLayoutList({slide:e.get("slide")});a.load(function(){t(a)})}function n(e,t,a){var s=e.get("slide");var n=s.get("layoutIdentifier");var i=t.getByIdentifier(n);e.get("slices").updateForLayout(i,s);e.after("load",function(){e.get("slices").updateForLayout(i,s)});a()}function i(e,a){t(e,function(t){s(t,function(e){n(t,e,function(){a(t,e)})})})}c.Squarespace.AsyncWrappers.CoverPageEditorForWebsite=c.Base.create("CoverPageEditor",c.Squarespace.Damask.Panel.AsyncDataPanel,[],{getPanel:function(e,o,t){var a=this.get("location.pathname");var l=a.slice(a.lastIndexOf("/")).substr(1);i(e.id,function(e,t){var a=e.get("slide");var s=a.get("layoutIdentifier");var n=t.getByIdentifier(s);var i=n.get("sliceAreas");var r=u[l](e,i);setTimeout(function(){o(new c.Squarespace.Widgets.SliceGroupEditor(r))})})}})},"1.0",{requires:["base","squarespace-damask-panel-async-data-panel"]})},"./src/main/webapp/universal/scripts-v6/async-wrappers/popup-overlay-editors.js":function(e,t,r){var o=r("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var l=r("./src/main/webapp/universal/src/shared/utils/YuiElimination.ts").isYuiClassEnabled;YUI.add("squarespace-async-wrappers-popup-overlay-editors",function(c){c.namespace("Squarespace.AsyncWrappers");var a=r("./src/main/webapp/universal/src/apps/App/screens/PopupOverlay/constants/ActionSlices.js");var u={action:function(e,t){return{strings:{title:o("Action"),description:o("Create buttons or a newsletter forms")},slideSummary:e,sliceAreas:t.filterBySliceTypes(a),sliceTypeOrdering:[c.Squarespace.SliceType.POPUP_OVERLAY_ACTION]}}};function t(e,t){var a=new c.Squarespace.Models.SlideSummary({url:c.Lang.sub("{root}popup-overlay/slide-summary",{root:c.Squarespace.API_ROOT}),slideType:c.Squarespace.SlideType.POPUP_OVERLAY});a.load(function(){t(a)})}function s(e,t){var a=new c.Squarespace.Models.SlideLayoutList({slide:e.get("slide")});a.load(function(){t(a)})}function n(e,t,a){var s=e.get("slide");var n=s.get("layoutIdentifier");var i=t.getByIdentifier(n);e.get("slices").updateForLayout(i,s);e.after("load",function(){e.get("slices").updateForLayout(i,s)});a()}function i(e,a){t(e,function(t){s(t,function(e){n(t,e,function(){a(t,e)})})})}l("PopupOverlayEditor")&&(c.Squarespace.AsyncWrappers.PopupOverlayEditor=c.Base.create("PopupOverlayEditor",c.Squarespace.Damask.Panel.AsyncDataPanel,[],{getPanel:function(e,o,t){var a=this.get("location.pathname");var l=a.slice(a.lastIndexOf("/")).substr(1);i(e.id,function(e,t){var a=e.get("slide");var s=a.get("layoutIdentifier");var n=t.getByIdentifier(s);var i=n.get("sliceAreas");var r=u[l](e,i);setTimeout(function(){o(new c.Squarespace.Widgets.SliceGroupEditor(r))})})}}))},"lord-4give-rick-4-this-code",{requires:["base","squarespace-damask-panel-async-data-panel"]})},"./src/main/webapp/universal/scripts-v6/blog-list-pagination.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-blog-list-pagination",function(e){e.namespace("Squarespace.Widgets");var t=e.Squarespace.Widgets.BlogListPagination=e.Base.create("BlogListPagination",e.Squarespace.Widgets.Pagination,[],{bindUI:function(){t.superclass.bindUI.call(this);this.get("contentBox").delegate("click",function(e){e.target.siblings().removeClass("active");e.target.addClass("active");this.set("filter",e.target.getAttribute("data-filter"));e.halt()},"a[data-filter]",this);this.after("filterChange",this.syncUI,this)},toggleNav:function(e){var t=this.get("contentBox").one(".nav");t.toggleClass(this.getClassName("nav-hidden"),!e)},syncUI:function(){if(this.get("hasNextPage")||this.get("hasPreviousPage")||"all"!==this.get("filter")){this.set("visible",true);this._prevEl.toggleClass("disabled",!this.get("hasPreviousPage"));this._nextEl.toggleClass("disabled",!this.get("hasNextPage"));this.set("className","")}else this.set("visible",false)}},{CSS_PREFIX:"sqs-pagination",TEMPLATE:'<span class="filters"><a href="#" data-filter="all">'+s("All")+'</a><a href="#" data-filter="published">'+s("Published")+'</a><a href="#" data-filter="draft">'+s("Draft")+'</a></span><span class="nav"><span class="page-prev"></span><span class="page">Pages</span><span class="page-next"></span><span class="loading"></span></span>',ATTRS:{filter:{value:"all"}}})},"1.0",{requires:["base","squarespace-pagination"]})},"./src/main/webapp/universal/scripts-v6/code-editor-legacy.js":function(e,t,a){var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var r=a("./src/main/webapp/universal/src/shared/constants/MediaProcessingErrors.js");var o=a("./src/main/webapp/universal/packages/enums/RecordType.js");var n=a("./common/temp/node_modules/lodash/throttle.js");YUI.add("squarespace-code-editor-legacy",function(h){var s=a("./src/main/webapp/universal/src/shared/components/BaseCodeMirror.js");function i(){try{return h.config.win.opener&&h.config.win.opener.document}catch(e){return false}}h.namespace("Squarespace");h.Squarespace.CodeEditorManager=Class.extend(h.Squarespace.Gizmo,{_name:"CodeEditorManager",_fetchLess:function(){return new h.Promise(function(t,e){if(window.less){t(window.less);return}a.e(93).then(function(e){return a("./src/main/webapp/universal/scripts-thirdparty/less/index.js")}.bind(null,a)).catch(a.oe).then(function(e){this._isFetchingLess=false;t(e)}).catch(function(){this._isFetchingLess=false;e(d("CSS parser failed to load."))})})},initialize:function(e){this._fetchLess();this.container=e.container;this.syntaxOk=true;this.saved=true;this.currentError=null;this.initDone=false;this.initialData=null;this._super(e);this._maxLength=128e3;var t=h.Node.create(this.getTemplateMarkup());this.container.append(t);var a=t.one(".code-area");var s=this._saveButton=t.one(".save");this._codeUnsavedEl=t.one(".code-editor-unsaved");this.createCodeMirrorInstance(a);this._resetEditor();s.on("click",function(){this.save()},this);this.container.one(".upload-asset").on("click",function(){this.toggleUploadPanel()},this);a.on("preview",function(){this.preview()},this);this.uploader=new h.Squarespace.Uploader({dragAndDropArea:h.one(".asset-upload-canvas"),uploadURL:"/api/uploads/css-assets",process:false,autoUpload:true,fileFilters:[{description:d("Fonts"),extensions:"*.eot;*.ttf;*.otf;*.woff;*woff2"},{description:d("Images"),extensions:"*.jpeg;*.jpg;*.png;*.gif"},{description:d("Videos"),extensions:"*.webm;*.mp4;*.ogg;*.h264"}],selectButtonLabel:d("Add images or fonts."),processFile:h.bind(function(e){e.postData={contentType:"css-asset",recordType:o.CSSASSET}},this),addPlaceholder:h.bind(function(e){return this.renderPlaceholder(e.file).one(".item")},this),fileComplete:h.bind(function(e,t){this.renderItem(t.media[0],e.placeholder.get("parentNode"))},this)});var n=this.uploader.render(this.container.one(".asset-upload-canvas"));n.after(["uploaderror","jobFailure"],function(e){var t=e.fileData||n.fileDataFromFile(e.file);t.placeholder.setContent(n.makeDefaultErrorBlock(t))});i()||(window.onunload=h.bind(function(){if(this.isDestroyed()){false;return}this.codeMirror.setValue(this.initialData)},this));this.getCssAssets();this.container.one(".asset-upload-panel").hide();this._windowResizeBinding=h.on("windowresize",h.bind(function(){this.setEditorSize()},this));this._bodyKeyupBinding=h.one("body").on("keyup",this._onKeyUp,this);this.codeMirror.focus();h.Lang.isFunction(window.scrollTo)&&h.one(window).set("scrollTop",0);this.setEditorSize();this.container.one(".asset-upload-panel").on("dragover",function(){h.all(".item").setStyle("zIndex",0)});this.container.one(".asset-upload-panel").on("mouseenter",function(){setTimeout(function(){h.all(".item").setStyle("zIndex",999)},50)});i()&&this._bootstrapAsDamaskPopupEditor()},destructor:function(){this.preview.cancel()},_bootstrapAsDamaskPopupEditor:function(){h.one("html").addClass("code-editor-damask");this.getTargetWindow=function(){return null};window.addEventListener("message",h.bind(this._handlePostMessage,this));this.onceAfter("sync",function(){this.postMessage({type:"ready"});this.after("sync",function(){this.postMessage({type:"sync"})})});window.addEventListener("unload",h.bind(function(){this.postMessage({type:"close"})},this))},_handlePostMessage:function(t){if("change"===t.data.type){this.codeMirror.setValue(t.data.value);this._codeUnsavedEl.setStyle("visibility","hidden");this.codeMirror.on("change",h.bind(function(e){this._codeUnsavedEl.setStyle("visibility","visible");this.postMessage({type:"change",value:e.getValue()},t.source.origin)},this))}},postMessage:function(e,t){if(!i())return;window.opener&&!window.opener.closed&&window.opener.postMessage(e,t||window.opener.location.origin)},getTemplateMarkup:function(){return'<div class="code-editor"><div class="code-container"><div class="code-area"></div><div class="asset-upload-panel"><div class="asset-upload-canvas"></div></div></div><div class="code-editor-footer"><div class="code-editor-footer-inner"><div class="code-editor-status"><div class="code-editor-unsaved">'+d("unsaved")+'</div><div class="code-editor-error"></div></div><div class="code-editor-buttons"><input class="upload-asset" type="button" value="'+d("Manage Custom Files")+'" /><input class="save" type="button" value="'+d("Save")+'" disabled="disabled" /></div></div></div></div>'},_onKeyUp:function(e){83===e.keyCode&&(e.ctrlKey||e.altKey)&&this.save()},getCssAssets:function(e){var t={websiteId:h.Object.getValue(Static,["SQUARESPACE_CONTEXT","website","id"]),templateId:Static.SQUARESPACE_CONTEXT.templateId,recordType:o.CSSASSET};h.Data.get({url:"/api/template/GetTemplateCSSAssets",data:h.merge(t,e),success:function(e){for(var t=0;t<e.assets.length;t++)this.renderItem(e.assets[t])}},this)},removeCssAsset:function(s,e){var t={websiteId:h.Object.getValue(Static,["SQUARESPACE_CONTEXT","website","id"]),templateId:Static.SQUARESPACE_CONTEXT.templateId};h.Data.post({url:"/api/template/RemoveTemplateCSSAsset",data:h.merge(t,e),success:function(e){var t=new h.Anim({node:s,duration:.25,to:{height:0,opacity:0}});var a=h.bind(function(){s.remove();this.setEditorSize()},this);t.on("end",a);t.run()}},this)},renderPlaceholder:function(e,t){var a=h.Node.create('<div class="pseudo-item"></div>');var s=h.Node.create('<div class="item"></div>');s.plug(h.Squarespace.Plugin.ProgressSpinner,{show:false,spinnerColor:"dark"});a.append(s);var n=this.uploader.get("boundingBox");n.get("parentNode").append(a);this._subscribe(a,"click",function(e){if(e.target.ancestor(".failed .button",true)){var t=e.target.ancestor(".failed",true);var a=e.target.ancestor(".pseudo-item",true);t.getData("errorType")===r.UPLOAD&&a.transition({opacity:0,transform:"scale(0.94)",duration:.4},h.bind(function(){a.remove();this.emptyStateCheck()},this))}},this);a.transition({opacity:1,transform:"scale(1)",duration:.6});return a},renderItem:function(a,e){var t=h.Node.create('<div class="main-image"></div>');t.setAttribute("data-img-src",a.assetUrl);if(a.contentType.startsWith("image"))t.setStyles({background:"url("+a.assetUrl+")",backgroundSize:"cover"});else if(a.contentType.startsWith("video"))t.setStyles({background:"url(/universal/images-v6/damask/video-64-dark.png)",backgroundSize:"70%",backgroundRepeat:"no-repeat",backgroundPosition:"center center"});else{var s="font"+a.id;var n="styleNode-"+s;var i=h.Node.create("<style>@font-face {font-family: "+s+";src: url("+a.assetUrl+");}</style>");i.set("id",n);i.appendTo(h.one("body"));t.addClass("font-swatch");t.setStyle("fontFamily","'"+s+"'");t.set("text",d("Sample Font 12345"))}var r=h.Node.create('<div class="asset-info"><a class="main-image-link" href="'+a.fullUrl+'">'+a.filename+"</a></div>");var o=h.Node.create('<div class="asset-remove"><img class="remove-x" src="/universal/images-v6/configuration/x-20x20-dark.png" /></div>');var l=h.Node.create('<div class="item"></div>');var c=h.Node.create('<div class="item-inner"></div>');c.append(t).append(r).append(o);l.append(c);l.setAttribute("id","item-"+a.id);l.on("click",h.bind(function(e){this.pasteAssetUrlForItem(l);e.preventDefault();e.stopPropagation()},this));l.one(".asset-remove").on("click",function(e){e.halt(true);var t=new h.Squarespace.Widgets.Confirmation({"strings.title":d("Are You Sure?"),"strings.message":d("This upload will be permanently deleted."),"strings.confirm":d("Delete")});t.get("eventListeners").push(t.on("confirm",function(){e.currentTarget.hide();this.removeCssAsset(l,{itemId:a.id});e.stopPropagation()}.bind(this)))}.bind(this));e&&e.remove();var u=this.uploader.get("boundingBox");u.get("parentNode").append(l);this.setEditorSize();return l},createCodeMirrorInstance:function(e){var t="squarespace-light";var a=e.getDOMNode();a.value=a.value||"";this.codeMirror=s.fromTextArea(e.getDOMNode(),{mode:"text/x-less",lineNumbers:true,theme:t,indentUnit:2,tabMode:"indent",matchBrackets:true,autoCloseBrackets:true,lineWrapping:true});this.codeMirror.on("keyup",h.bind(function(e,t){var a=e.getCursor();var s=e.getTokenAt(a);var n;var i;if(a.ch>3&&"("===s.string){n=e.getTokenAt({line:a.line,ch:a.ch-1});i=e.getTokenAt({line:a.line,ch:a.ch+1});"url"===n.string&&")"===i.string&&this.showAssetCodeCompletions()}},this));this.codeMirror.on("change",function(){e.fire("preview")});this.setEditorSize()},pasteAssetUrlForItem:function(e){var t=e.one(".main-image").getAttribute("data-img-src");this.codeMirror.replaceRange(t,this.codeMirror.getCursor())},showAssetCodeCompletions:function(){var a=this.codeMirror;var s=this;if(this._completionCooldown)return;var t=[];h.all(".item").each(function(e){t.push({assetId:e.get("id"),displayName:e.one(".main-image-link").get("text"),url:e.one(".main-image").getAttribute("data-img-src")})});if(0===t.length)return;var e=document.createElement("div");e.className="CodeMirror-completions";var n=e.appendChild(document.createElement("select"));for(var i=0;i<t.length;++i){var r=n.appendChild(document.createElement("option"));r.appendChild(document.createTextNode(t[i].displayName));r.setAttribute("data-css-asset-id",t[i].assetId)}n.firstChild.selected=true;n.size=Math.min(10,t.length);var o=this.codeMirror.cursorCoords();e.style.position="absolute";e.style.left=o.left+"px";e.style.top=o.bottom+"px";document.body.appendChild(e);var l=false;function c(e){a.replaceRange(e,a.getCursor())}function u(){if(l)return;l=true;e.parentNode.removeChild(e)}function d(){c(t[n.selectedIndex].url);u();setTimeout(function(){a.focus()},50)}function p(e){var t=e.keyCode;if(13===t){e.preventDefault();d()}else if(27===t||38!==t&&40!==t){e.preventDefault();u();a.focus();s._completionCooldown=true;setTimeout(function(){s._completionCooldown=false},750)}}var m=new h.Node(n);m.on("dblclick",d);m.on("blur",u);m.on("keydown",p);n.focus()},setUploadCanvasSize:function(){var t=0;this.container.all(".item").each(function(e){t+=e.get("offsetHeight")});t+=135;var e=Math.max(t,this.getAvailableHeightForEditor());this.container.one(".asset-upload-canvas").setStyles({height:e+"px"})},setEditorSize:function(e){var t=this.codeMirror.getScrollerElement();h.Node(t).setStyles({height:this.getAvailableHeightForEditor()+"px",width:e||this.getAvailableWidthForEditor()+"px"});this.container.one(".asset-upload-panel").setStyles({height:this.getAvailableHeightForEditor()});this.codeMirror.refresh();this.setUploadCanvasSize()},getAvailableHeightForEditor:function(){var e=this.container.one(".code-editor-footer");return e.get("winHeight")-parseInt(e.get("offsetHeight"),10)},getAvailableWidthForEditor:function(){var e=this.container.one(".asset-upload-panel");return e.get("winWidth")-parseInt(e.get("offsetWidth"),10)},_resetEditor:function(){this._codeUnsavedEl.setStyle("visibility","hidden");window.onbeforeunload=null;this._disableSaveButton();this.saved=true;this.initDone=false;h.Data.get({url:"/api/template/GetTemplateCustomCss",data:{},success:function(e){i()||(e&&e.css?this.codeMirror.setValue(e.css):this.codeMirror.setValue(""));this.initialData=this.codeMirror.getValue();this.initDone=true;this.fire("sync")}},this)},getSanitizedCss:function(n){return new h.Promise(function(a,s){var t=this.codeMirror.getValue();this._fetchLess().then(function(e){try{(new e.Parser).parse(t||"",function(e,t){e&&s(e);h.Lang.isValue(t.toCSS)&&a(t.toCSS({compress:n}))})}catch(e){s(e)}}).catch(function(e){s({message:e})})}.bind(this))},getTargetWindow:function(){if(null!==window.opener&&!window.opener.closed){if("undefined"!==typeof window.opener.frames["preview-frame"])return window.opener.frames["preview-frame"];return window.opener}false;return null},preview:n(function(){if(this.saved&&this.initDone){this._codeUnsavedEl.setStyle("visibility","visible");i()||(window.onbeforeunload=function(){return d("You have unsaved changes.")});this.saved=false;this._enableSaveButton()}this.getSanitizedCss(true).then(function(e){var t=this.getTargetWindow();if(t){var a=h.one(t.document).one("body");a.all("style").each(function(e){e.hasClass("SquarespaceInjectedCustomCss")&&e.remove()});h.UA.ie?t.insertCSS(e):a.append('<style type="text/css" class="SquarespaceInjectedCustomCss">'+e+"</style>")}this.setStatus(false)}.bind(this)).catch(function(e){this.setStatus(e)}.bind(this))},1e3,{leading:false}),_shorterThanMaxLength:function(e){var t=e.replace(/\n/g,"");return t.length<=this._maxLength},_saveTemplateCustomCss:function(t){h.Data.post({url:"/api/template/SetTemplateCustomCss",data:{css:t},success:function(e){this.saved=true;this.initialData=t;this._disableSaveButton();this.fire("sync")},failure:function(){this.saved=false;this._codeUnsavedEl.setStyle("visibility","visible");window.onbeforeunload=function(){return d("You have unsaved changes.")};this.setStatus({message:d("Failed to save. Please try again.")});this._enableSaveButton()}},this)},save:function(e){var t=this.codeMirror.getValue();this._shorterThanMaxLength(t)?e?this._saveCSS(t):this.getSanitizedCss(false).then(function(){this._saveCSS(t)}.bind(this)):this.setStatus({message:d("You have entered too much CSS, please reduce the amount before proceeding.")})},_saveCSS:function(e){this._codeUnsavedEl.setStyle("visibility","hidden");window.onbeforeunload=null;this._saveTemplateCustomCss(e)},toggleUploadPanel:function(){var e=this.container.one(".asset-upload-panel");if(e.hasClass("asset-upload-panel-open")){var t=new h.Anim({node:e,from:{right:0},to:{right:-1*e.get("offsetWidth")},duration:.25,easing:"easeIn"});t.on("end",h.bind(function(){e.hide()},this));this.setEditorSize(e.get("winWidth"));t.run();e.removeClass("asset-upload-panel-open")}else{e.addClass("asset-upload-panel-open");e.show();e.setStyles({right:-1*e.get("offsetWidth")+"px"});var a=new h.Anim({node:e,from:{right:-1*e.get("offsetWidth")},to:{right:0},duration:.25,easing:"easeOut"});a.on("end",h.bind(function(){this.setEditorSize()},this));a.run()}},_enableSaveButton:function(){this._saveButton.removeAttribute("disabled")},_disableSaveButton:function(){this._saveButton.set("disabled","disabled")},setStatus:function(e){var t=this.currentError;if(t){var a=t.lineHandler;a&&this.codeMirror.clearGutter(a)}this.currentError=e;var s=this.container.one(".code-editor-error");if(false===e){this.container.removeClass("error");s.setContent("");this._enableSaveButton()}else{this.container.addClass("error");this._disableSaveButton();e.line&&(e.lineHandler=this.codeMirror.setGutterMarker(--e.line,"%N%","error"));s.setContent(e.message)}}})},"1.0",{requires:["cookie","event","json","node","squarespace-common","squarespace-gizmo","squarespace-plugin-progress-spinner","squarespace-ui-base","squarespace-uploader","squarespace-util","squarespace-widgets-confirmation","squarespace-widgets-information","transition"]})},"./src/main/webapp/universal/scripts-v6/commerce-order-utils.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");YUI.add("squarespace-commerce-order-utils",function(a){a.namespace("Squarespace.Commerce");var s={};s[""]="";s[i.PENDING]=n("pending");s[i.COMPLETED]=n("fulfilled");s[i.CANCELLED]=n("canceled");a.Squarespace.Commerce.OrderUtils={getOrderStateString:function(e){var t=s[e];if(!a.Lang.isString(t))throw new Error("Invalid Order State provided");return t}}},"1.0",{requires:["squarespace-enum"]})},"./src/main/webapp/universal/scripts-v6/commerce-shipping-enums.js":function(e,t,a){var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-commerce-shipping-enums",function(e){e.namespace("Squarespace.Commerce");var t=e.Squarespace.Commerce.ShippingEnums={};var a=t.CarrierTypes={FEDEX:"FEDEX",UPS:"UPS",USPS:"USPS"};var s=t.FedexServiceTypes={GROUND_HOME_DELIVERY:o("FedEx Ground Home Delivery"),PRIORITY_OVERNIGHT:o("FedEx Priority Overnight"),STANDARD_OVERNIGHT:o("FedEx Standard Overnight"),FEDEX_2_DAY:o("FedEx 2Day"),FEDEX_EXPRESS_SAVER:o("FedEx Express Saver"),FIRST_OVERNIGHT:o("FedEx First Overnight")};var n=t.UPSServiceTypes={GROUND:o("UPS Ground"),NEXT_DAY_AIR:o("UPS Next Day Air"),NEXT_DAY_AIR_SAVER:o("UPS Next Day Air Saver"),TWO_DAY_AIR:o("UPS 2nd Day Air"),THREE_DAY_SELECT:o("UPS 3 Day Select")};var i=t.USPSServiceTypes={PRIORITY:o("USPS Priority Mail"),EXPRESS:o("USPS Priority Mail Express"),STANDARD:o("USPS Retail Ground")};var r=t.CarrierTypeServicesMap={};r[a.FEDEX]=s;r[a.UPS]=n;r[a.USPS]=i},"1.0",{requires:[]})},"./src/main/webapp/universal/scripts-v6/content-item-product.js":function(e,t,a){var p=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").pluralize;var n=a("./src/main/webapp/universal/packages/enums/ProductTypes.js");YUI.add("squarespace-content-item-product",function(d){d.namespace("Squarespace");var t=d.Squarespace.ContentItemProduct=d.Base.create("ContentItemProduct",d.Squarespace.ContentItemImage,[],{bindUI:function(){t.superclass.bindUI.apply(this,arguments);this.after("fadedChange",function(e){this.get("boundingBox").toggleClass("faded",e.newVal)});this.after("image-preview-loaded",function(){this._swapImageForBackgroundImage()},this)},_swapImageForBackgroundImage:function(){var e=this.get("contentBox");var t=e.one(".inside img");if(!t||t.hasClass("backgrounded"))return;var a=this.get("item").get("mediaFocalPoint");t.get("parentNode").setStyles({backgroundImage:'url("'+t.getAttribute("src")+'")',backgroundSize:"cover",backgroundPosition:100*a.y+"% "+100*a.x+"%"});t.addClass("backgrounded")},syncUI:function(){t.superclass.syncUI.apply(this,arguments);this.get("preventLoad")&&this._showItemSpecificInformation()},_showItemSpecificInformation:function(){var e=this.get("item");var t=this.get("contentBox");var a=t.one(".inside");t.all(".product-meta").remove();var s=[];this._isProductSoldOut()&&!this._isUnlimited()&&s.push("sold-out");var n=d.Squarespace.Commerce.onSale(e.toJSON());var i=this.get("item").get("title");var r=0===i.length;r&&(i=p("Unnamed Product"));var o=d.Node.create('<div class="product-meta"><div class="title '+(r?"empty":"")+'">'+i+'</div><div class="logistics"><div class="price '+(n?"on-sale":"")+'">'+this._getPriceLabel()+'</div><div class="stock '+s.join(" ")+'">'+this._getStockLabel()+"</div></div></div>");t.append(o);a.all(".notice").remove();if(this.get("showWorkflowState")){var l=e.get("workflowState");var c=p("Hidden");l===d.Squarespace.WorkflowStates.SCHEDULED&&(c=p("Scheduled"));if(l!==d.Squarespace.WorkflowStates.PUBLISHED){var u=d.Node.create('<div class="notice">'+c+"</div>");a.append(u)}}},_getPriceLabel:function(){var e=this.get("item");return d.Squarespace.Commerce.priceString(e.toJSON()).replace(/\.00/g,"")},_getStockLabel:function(){var e=this.get("item").get("structuredContent");if(e&&e.get("subscriptionPlan"))return p("Subscription");if(this._isUnlimited())return"&infin;";var t=this._getStockCount();return s({one:"1 Unit",other:"{%n} Units"},t)},_isUnlimited:function(){return this.get("item").get("variants").reduce(function(e,t){if(!e)return false;return t.unlimited&&e},true)},_getStockCount:function(){return this.get("item").get("variants").reduce(function(e,t){var a=t.qtyInStock;if(!d.Lang.isNumber(a))return e;return a+e},0)},_isProductSoldOut:function(){var e=this.get("item").get("productType");if(e===n.DIGITAL)return false;return 0===this._getStockCount()},getDragSelectableRegionNode:function(){return this.get("contentBox")},isValidMouseDownTarget:function(e){if(e===this.get("boundingBox"))return false;return true},buildEditor:function(){var e=t.superclass.buildEditor.apply(this,arguments);e.on("savingClose",function(){var e=this.get("item");e.load({forceReload:true},this.syncUI)}.bind(this));return e}},{CSS_PREFIX:"sqs-content-item-product",ATTRS:{imageLoaderMode:{value:"fill"},showActionOverlay:{value:false},faded:{value:false},imageLoaderUseFixedRatioRenderer:{value:true}}})},"1.0",{requires:["base","squarespace-commerce-utils","squarespace-content-item-image"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/blog.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./common/temp/node_modules/react/index.js");var r=a("./common/temp/node_modules/react-dom/index.js");var o=a("./src/main/webapp/universal/src/apps/App/components/FrameLoader.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js");var h=a("./src/main/webapp/universal/src/shared/utils/UrlUtils.js").stripTrailingSlashes;var l=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");var c=a("./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/index.jsx");var u="POST_EDIT_REFRESH_KEY";var d=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");YUI.add("squarespace-content-manager-widgets-blog",function(p){p.namespace("Squarespace.ContentManagerWidgets");var n=p.Squarespace.ContentManagerWidgets.Blog=p.Base.create("ContentManagerBlog",p.Squarespace.ContentManagerWidgets.ListBase,[p.Squarespace.Mixins.RecyclableItems],{initializer:function(){this.get("searchFilterEnabled")&&this._plugSearchFilter();this.appRedirectContainer=p.Node.create("<div></div>")},destructor:function(){p.one("body").removeClass(this.getClassName("active"));"function"===typeof this.onCollectionIdChangeUnsubscribe&&this.onCollectionIdChangeUnsubscribe();r.unmountComponentAtNode(this.appRedirectContainer.getDOMNode());this.appRedirectContainer.remove(true);this.appRedirectContainer=null},renderUI:function(){this._searchFilter&&this._searchFilter.render(this.get("contentBox"));n.superclass.renderUI.call(this);p.one("body").addClass(this.getClassName("active"));r.render(i.createElement(c,{backTo:"/pages"}),this.appRedirectContainer.getDOMNode())},hideSearchIfNoItems:function(){var e=this.get("collection").get("isEmpty");if(this.get("searchFilterEnabled")&&"all"===this._searchFilter.get("filter")){this._searchFilter.get("boundingBox").getDOMNode().classList.toggle("hidden",e);this._emptyPlaceholderWidget.get("boundingBox").getDOMNode().classList.toggle("with-hidden-search-filters",e)}},bindUI:function(){n.superclass.bindUI.call(this);this._registerEvent(this.get("collection").after("idChange",this.refreshPage,this));o.then(function(e){this.onCollectionIdChangeUnsubscribe=e.FrameAPI.onCollectionIdChange(function(a){this._listWidget&&a.collectionId===this.get("collection").get("id")&&this._listWidget.each(function(e){var t=e.get("item").get("id")===a.itemId?1:0;e.set("selected",t)})}.bind(this))}.bind(this))},syncUI:function(){n.superclass.syncUI.call(this);this.hideSearchIfNoItems()},_addListWidget:function(){var e=this.get("collection").items;this._listWidget=new(this.getProperty("LIST_WIDGET"))({collection:this.get("collection"),items:e,stickyHeadersEnabled:false});this._listWidget.addTarget(this)},_refreshPagingAfterEditing:function(e){var t=e.source;var a=["bulk-remove","upload","reorder",this.name];if(p.Lang.isValue(t)&&-1!==p.Array.indexOf(a,t))return;"ContentItemList:add"===e.type&&this._hasActiveSearch()&&this._resetSearchFilter();this.refreshPage()},loadNextPage:function(){if(this.get("addingPage"))return;if(this._hasActiveSearch()){if(this._searchFilter&&this._searchFilter.hasMoreItems()){this.set("addingPage",true);this._searchFilter.loadNextPage()}}else n.superclass.addPage.call(this,"next")},_plugSearchFilter:function(){this._searchFilter=this.add({childType:p.Squarespace.Widgets.Blog.ListSearchFilter,collectionId:this.get("collection").get("id")}).item(0);var e=p.Squarespace.Widgets.Blog.ListSearchFilter.EVENTS;this.on("*:"+e.FILTER_CHANGED,function(e){if(p.Lang.isString(e.filter)){this.set("filter",e.filter.toLowerCase());e.silent||this.refreshPage()}},this);this.on("*:"+e.SEARCH_RETURNED,function(e){var t=this._mapSearchToContentItemList(e.items);0!==e.page&&t.size()>0?this._listWidget.get("items").add(t):this._listWidget.set("items",t);var a=!e.empty||0!==this._listWidget.get("items").size();this.set("addingPage",false);this._emptyPlaceholderWidget.set("visible",!a)});this.on("*:"+e.SEARCH_CLEARED,this._handleClearSearch)},_mapSearchToContentItemList:function(e){p.Array.each(e,function(e){e.body=void 0;e.location=void 0;e.excerpt=void 0;!e.itemUrl||e.fullUrl||(e.fullUrl=e.itemUrl);e.workflowState||(e.workflowState=this._getWorkflowStateFromFilter())},this);var t=new p.ModelList({model:p.Squarespace.Models.ContentItem,items:e});this._registerEvent(t.on("*:save",function(e){e.target.get("fullUrl")===p.Squarespace.Singletons.Location.getFrameUrl()&&p.Squarespace.Singletons.Location.requestFrameRefresh()},this));return t},_getWorkflowStateFromFilter:function(){if("draft"===this.get("filter"))return p.Squarespace.WorkflowStates.DRAFT;return p.Squarespace.WorkflowStates.PUBLISHED},_handleClearSearch:function(){this._listWidget.set("items",this.get("collection").items);this._syncVisibility()},_resetSearchFilter:function(){this._handleClearSearch();this._searchFilter._clearSearch()},_updatePages:function(e,t){var a=this._listWidget.get("selection");var s=[];a&&!a.isEmpty()&&a.each(function(e,t){e.get("selected")&&s.push(e.get("item").get("id"))},this);n.superclass._updatePages.call(this,e,t);0!==s.length&&this._listWidget.each(function(e,t){var a=e.get("item").get("id");-1!==s.indexOf(a)&&e.set("selected",1)})},_deleteItem:function(e){e.set("workflowState",p.Squarespace.WorkflowStates.DELETED);var t=this.get("router");var a=t.getCurrentLocation();var s=a.state.frameUrl;var n=e.get("fullUrl");var i=e.get("urlId");var r=n.substring(0,n.indexOf(i));var o=h(s);var l=s===n;var c=o===h(r);var u="/"===o;var d=this.get("collection").get("homepage");setTimeout(function(){e.destroy({remove:true},p.bind(function(){this.fire(this.getProperty("EVENTS").ITEM_DELETED,{item:e});this.loadPage();l?t.replaceFrameUrl(r):(c||d&&u)&&m.refresh("content-manager-widgets/blog _deleteItem");if(this.get("collection").get("isEmpty")){this._searchFilter.get("contentBox").all(".filter-button").each(function(e){e.toggleClass("active","all"===e.getAttribute("data-filter-name"))});this._searchFilter.set("filter","all");this.get("collection").onceAfter("load",function(){this.refreshPage()},this)}},this))}.bind(this),300)},_hasActiveSearch:function(){return this.get("searchFilterEnabled")&&this._searchFilter.hasActiveQuery()},_showConfigurationDialog:function(e){if(l.isSevenOne()){d.editCollectionItem({itemId:e.get("id"),collectionType:"blog",collectionId:e.get("collectionId")});return this._enterInlineEditMode(e)}return n.superclass._showConfigurationDialog.call(this,e)},_enterInlineEditMode:function(e){if(this.pendingEnterEditMode)return;this.pendingEnterEditMode=true;m.addLoadHandler(u,function(){setTimeout(function(){m.removeLoadHandler(u);m.enterItemEditingMode();this.pendingEnterEditMode=false}.bind(this),100)}.bind(this));m.setUrl(e.get("fullUrl"))}},{LIST_WIDGET:p.Squarespace.Widgets.Blog.ListView,PAGINATION_WIDGET:p.Squarespace.Widgets.BlogListPagination,CSS_PREFIX:"sqs-content-manager-blog",ATTRS:{addDebounceTime:{value:5e3},fields:{value:["addedOn","publishOn","body","author","title","urlId","fullUrl","likeCount","collectionId","id","coverImageUrl","recordType","commentCount","workflowState","recordTypeLabel","updatedOn"].join(",")},filter:{value:"all"},helpSectionIdentifier:{value:"blog"},pagination:{value:void 0},multiple:{value:true},"strings.confirmTitle":{value:s("Delete Post?")},"strings.confirmMessage":{value:s("Are you sure you wish to delete this post?")},"strings.emptyTitle":{value:s("Add Post")},"strings.emptyDescription":{value:s("No Posts")},"strings.noResultsTitle":{value:s("No Results")},searchFilterEnabled:{value:true}}})},"1.0",{requires:["base","squarespace-blog-list-pagination","squarespace-content-item-types-base","squarespace-content-item-types-selector","squarespace-content-manager-blog-item-template","squarespace-content-manager-widgets-base","squarespace-content-manager-widgets-list-base","squarespace-content-manager-widgets-placeholder","squarespace-settings-item-recycle-bin","squarespace-mixins-recyclable-items","squarespace-models-content-item-list","squarespace-ss-widget","squarespace-util-authenticated","squarespace-widgets-blog-list-search-filter","squarespace-widgets-blog-list-view"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/calendar.js":function(e,t,a){var s=a("./common/temp/node_modules/react/index.js");var n=a("./common/temp/node_modules/react-dom/index.js");var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var r=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js");var l=a("./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/index.jsx");var c="POST_EDIT_REFRESH_KEY";YUI.add("squarespace-content-manager-widgets-calendar",function(e){e.namespace("Squarespace.ContentManagerWidgets");var t=e.Squarespace.ContentManagerWidgets.Calendar=e.Base.create("ContentManagerCalendar",e.Squarespace.ContentManagerWidgets.ListBase,[],{initializer:function(){this.appRedirectContainer=e.Node.create("<div></div>")},destructor:function(){n.unmountComponentAtNode(this.appRedirectContainer.getDOMNode());this.appRedirectContainer.remove(true);this.appRedirectContainer=null},bindUI:function(){t.superclass.bindUI.call(this);this.get("items")&&this._registerEvent(this.get("items").after(["*:save","*:remove","*:destroy"],this.refreshPage,this))},renderUI:function(){t.superclass.renderUI.call(this);n.render(s.createElement(l,{backTo:"/pages"}),this.appRedirectContainer.getDOMNode())},syncUI:function(){t.superclass.syncUI.call(this);var e=this.get("collection").get("isEmpty");this._emptyPlaceholderWidget.set("visible",e);this._listWidget.set("visible",!e)},_showConfigurationDialog:function(e){if(r.isSevenOne())return this._enterInlineEditMode(e);return t.superclass._showConfigurationDialog.call(this,e)},_enterInlineEditMode:function(e){o.addLoadHandler(c,function(){setTimeout(function(){o.removeLoadHandler(c);o.enterItemEditingMode()},100)});o.setUrl(e.get("fullUrl"))}},{LIST_WIDGET:e.Squarespace.Widgets.Event.ListView,PAGINATION_WIDGET:e.Squarespace.Widgets.Pagination,CSS_PREFIX:"sqs-content-manager-calendar",ATTRS:{fields:{value:null},pageSize:{value:40},searchFilterEnabled:{value:false},"strings.confirmTitle":{value:i("Remove Event?")},"strings.confirmMessage":{value:i("Are you sure you wish to remove this event?")},"strings.emptyTitle":{value:i("Add Event")},"strings.emptyDescription":{value:i("There are no events. Click here to add your first item.")},multiple:{value:true}}})},"1.0",{requires:["base","squarespace-widgets-event-list-view","squarespace-ss-widget","squarespace-content-manager-widgets-list-base","squarespace-content-manager-widgets-base","squarespace-content-manager-widgets-placeholder","squarespace-content-manager-blog-item-template","squarespace-content-item-types-selector","squarespace-content-item-types-base","squarespace-util-authenticated"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/gallery.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/packages/enums/WorkflowStates.js");YUI.add("squarespace-content-manager-widgets-gallery",function(a){a.namespace("Squarespace.ContentManagerWidgets");var t=a.Squarespace.ContentManagerWidgets.Gallery=a.Base.create("ContentManagerGallery",a.Squarespace.ContentManagerWidgets.Base,[a.WidgetChild],{initializer:function(){this._contentItemGrid=this._createContentItemGrid();this._itemsLoaded=false;this._loadItems()},destructor:function(){a.one("body").removeClass("sqs-content-manager-gallery-active");a.Lang.isValue(this.get("collection").items)&&this.get("collection").items.detach(this.get("id")+"|*");this._contentItemGrid.destroy()},renderUI:function(){t.superclass.renderUI.call(this);a.one("body").addClass("sqs-content-manager-gallery-active");var e=a.Node.create('<div class="loading-state"></div>');new a.Squarespace.Spinner({size:100,color:"dark",render:e}).spin();this.get("contentBox").append(e)},bindUI:function(){t.superclass.bindUI.call(this);var e=this.get("collection");this._registerEvent(e.after("synchronizingChange",function(e){!e.newVal&&e.prevVal&&this._loadItems()},this));this._registerEvent(e.after("idChange",this._loadItems,this));this._registerEvent(this._contentItemGrid.after("itemSaved",e.load,e));this._registerEvent(e.items.after("*:save",function(e){var t=e.target.get("workflowState");t!==n.DELETED&&t!==n.PUBLISHED||a.Squarespace.Singletons.Location.pointFrameToCollection(this.get("collection"),true)},this))},syncUI:function(){t.superclass.syncUI.call(this);this._itemsLoaded?this._setLoadedState():this._setLoadingState();this.get("collection").get("isDemoCollection")&&this._contentItemGrid.set("dragSelectionEnabled",false)},handleAddContentRequest:function(){this._contentItemGrid.handleAddContentRequest.apply(this._contentItemGrid,arguments)},_loadItems:function(){this.get("collection").items.load({limit:this.get("pageSize"),html:false},this._registerCallback(function(){this._itemsLoaded=true;this.syncUI()},this))},_setLoadedState:function(){this._loadingTimer&&this._loadingTimer.cancel();this.get("boundingBox").removeClass("content-loading");var e=this._contentItemGrid;e.get("rendered")?e.syncUI():e.render(this.get("contentBox"));this.fire("gallery-loaded")},_setLoadingState:function(){this._loadingTimer&&this._loadingTimer.cancel();this._loadingTimer=this._registerTimer(a.later(500,this,function(){this.get("boundingBox").addClass("content-loading")}))},_createContentItemGrid:function(){return new a.Squarespace.ContentItemGrid(a.merge({collectionConfiguration:this.get("collectionConfiguration"),moveable:true,dragRegion:this.get("boundingBox"),model:this.get("collection"),collection:this.get("collection"),contentItemImageOptions:{editable:true,progressSpinnerSize:45,showActionOverlay:true},showEmptyState:true,imageSize:230,"strings.emptyUploadText":"<h1>"+s("Add Media")+"</h1><p>"+s("This Gallery contains no items. Drag and drop images from your desktop to add some.")+"</p>"},this.get("galleryOptions")))}},{CSS_PREFIX:"sqs-content-manager-gallery",ATTRS:{pageSize:{value:250},galleryOptions:{valueFn:function(){var e={minMargin:15,imageSize:120,dragRegion:this.get("boundingBox")};return e}},helpSectionIdentifier:{value:"gallery"},damask:{}}})},"1.0",{requires:["base","squarespace-ss-widget","squarespace-content-item-grid","squarespace-content-manager-widgets-base","squarespace-singletons-location","squarespace-spinner"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/list-base.js":function(e,t,a){var s=a("./common/temp/node_modules/lodash/debounce.js");var l=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");var c=a("./src/main/webapp/universal/packages/enums/RecordType.js");var n=a("./src/main/webapp/universal/packages/enums/WorkflowStates.js");var r=a("./common/temp/node_modules/alt-utils/lib/ActionListeners.js");var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var d=a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js");var p=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");var m=a("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js");YUI.add("squarespace-content-manager-widgets-list-base",function(i){i.namespace("Squarespace.ContentManagerWidgets");var e={ITEM_DELETED:"itemDeleted"};var t=i.Squarespace.ContentManagerWidgets.ListBase=i.Base.create("ContentManagerBlog",i.Squarespace.ContentManagerWidgets.Base,[i.Squarespace.Mixins.AddContentItemHandlerMixin],{initializer:function(){this.publish(e.ITEM_DELETED);this._addListWidget();this._paginationWidget=this.headerTray.add({childType:this.getProperty("PAGINATION_WIDGET"),pageSize:this.get("pageSize"),filter:this.get("filter"),totalPages:0,currentPage:0}).item(0);this._emptyPlaceholderWidget=this.add({childType:i.Squarespace.ContentManagerWidgets.PlaceHolderWidget,icon:"add",strings:{title:this.get("strings.emptyTitle"),description:this.get("strings.emptyDescription")},visible:false,onClickHandler:i.bind(this.handleAddContentRequest,this)}).item(0);this._listEndSymbol=i.Node.create('<div class="sqs-list-end">'+u("~ fin ~",{})+"</div>");this.loadPage();m.viewManageCollection(this.get("collection").get("id"));this.actionListener=new r(o);this.actionListener.addActionListener(d.CONTENT_BROWSER_DELETE_ITEM,this._onContentBrowserDeleteItem.bind(this))},destructor:function(){var e=this.get("collection").items;i.Lang.isValue(e)&&e.invoke("destroy");this._listWidget.removeTarget(this);this._listWidget.destroy();this._listWidget=null;this._paginationWidget=null;this._emptyPlaceholderWidget=null;if(i.Lang.isValue(this._scroller)){this._scroller.unplug(i.Plugin.ScrollInfo);this._scroller=null;this._stopSpinner()}this.actionListener.removeAllActionListeners();this.actionListener=null},renderUI:function(){t.superclass.renderUI.call(this);var e=this.get("contentBox");this._listWidget.render(e);e.append(this._listEndSymbol)},bindUI:function(){t.superclass.bindUI.call(this);var e=i.one(i.config.doc.body);this._registerEvent(e.on("keydown",this._changeCurrentPage,this));this._bindItemEvents();this.after("paginationChange",this._updatePagingWidgets);this.after("addingPageChange",this._handleSpinner);this._registerEvent(this._paginationWidget.on("pageRequested",this._loadPageAndScrollTop,this));this._registerEvent(this._paginationWidget.on("filterChange",function(e){this.set("filter",e.newVal);this.refreshPage()},this));this._bindScrollEvents();this._registerEvent(this._listWidget.after("editRequested",function(e){this._showConfigurationDialog(e.item)},this));this._registerEvent(this._listWidget.after("deleteRequested",function(e){"bulk-remove"===e.source?this._deleteItem(e.item):this._showDeleteConfirmation(e.item);this._setSelection(e)},this));this._registerEvent(this.get("collection").items.after("*:save",function(e){e.target.get("workflowState")===n.DELETED?i.Squarespace.Singletons.Location.pointFrameToCollection(this.get("collection"),true):i.Squarespace.Singletons.Location.setFrameUrlOrRefresh(e.target.get("fullUrl"))},this))},_bindItemEvents:function(e){e=e||this.get("collection").items;var t=["add","create","remove","bulk-remove","move-items","restored-items"];this._registerEvent(e.after(t,this._refreshPagingAfterEditing,this));this._registerEvent(e.after(["load","add","remove","reset"],i.bind(this._syncVisibility,this)));this._registerEvent(this.get("collection").after("clonedExampleContent",function(){e.reset()},this))},_eventSourceIsRecycleBin:function(e){if(!i.Lang.isValue(e))return false;var t=i.Lang.isValue(e)?e.source:null;if(i.Lang.isValue(t)&&"ContentItemRecycleBin"===t)return true;var a=e.options||{};t=a.source;return"ContentItemRecycleBin"===t},_syncVisibility:function(e){if(this._eventSourceIsRecycleBin(e))return;var t=!this.get("collection").get("isEmpty");this._emptyPlaceholderWidget.set("visible",!t);this._listWidget.set("visible",t);this._listEndSymbol.toggleView(t);if(i.Lang.isValue(this._noItemsFoundPlaceholder)){var a=this.get("contentBox");var s=0!==a.all(".sqs-blog-item:not(.sqs-blog-item-hidden)").size();var n=0!==a.all(".sqs-blog-item-hidden").size();this._noItemsFoundPlaceholder.set("visible",n&&!s)}"all"!==this.get("filter")&&this._paginationWidget.toggleNav(t)},getSelectedContentItem:function(){var e=this._listWidget.getFocusedWidget();if(e)return e.get("item");return null},_addListWidget:function(){this._listWidget=new(this.getProperty("LIST_WIDGET"))({collection:this.get("collection"),items:this.get("collection").items});this._listWidget.addTarget(this)},_bindScrollEvents:function(){this._scroller=i.one(this._getClosestScrollingAncestor());this._scroller.plug(i.Plugin.ScrollInfo);this._scroller.scrollInfo.on("scrollDown",s(this._loadNextPageWhenScrolled,50),this)},_handleSpinner:function(e){e.newVal&&!this.hasSpinner()?this._startSpinner():this.hasSpinner()&&this._stopSpinner();this.get("boundingBox").toggleClass("fully-loaded",!this.get("nextPageStart"))},_startSpinner:function(){this._stopSpinner();var e=new i.Squarespace.Spinner({color:"dark"});var t=i.Node.create('<div class="spinner-container"></div>');var a=i.later(10,this,function(){e.render(t)});this.get("contentBox").append(t);this._currentSpinHandle={cancel:function(){e.get("rendered")||a.cancel();e.destroy();t.remove(true)}}},_stopSpinner:function(){if(this.hasSpinner()){this._currentSpinHandle.cancel();this._currentSpinHandle=null}},hasSpinner:function(){return i.Lang.isValue(this._currentSpinHandle)},_loadNextPageWhenScrolled:function(e){var t=Math.ceil(100*e.scrollBottom/e.scrollHeight);if(t<75)return;this.loadNextPage()},_refreshPagingAfterEditing:function(e){var t=e.source;var a=["bulk-remove","upload","reorder",this.name];if(i.Lang.isValue(t)&&-1!==i.Array.indexOf(a,t))return;this.refreshPage()},_loadPageAndScrollTop:function(e){var t="next"===e.direction;var a={limit:this.get("pageSize"),pageAction:t?i.Squarespace.PageAction.NEXT:i.Squarespace.PageAction.PREVIOUS,start:e.start};this.loadPage(a)},_changeCurrentPage:function(e){if(i.Squarespace.OPEN_DIALOGS.length)return;37===e.keyCode||"37"===e.keyCode?this._paginationWidget.nextPage():39!==e.keyCode&&"39"!==e.keyCode||this._paginationWidget.prevPage()},refreshPage:function(){this.loadPage()},loadPage:function(e){e=e||{};var t=this.get("collection").items;this._registerEvent(t.onceAfter(this.get("id")+"|load",this._updatePages,this,t));t.load(i.merge(this._getOptions(),e))},loadNextPage:function(){this.addPage("next")},addPage:function(e){var t=this.get("nextPageStart");var a="next"===e;var s=new i.Squarespace.Models.ContentItemList({parent:this.get("collection")});if(!t||this.get("addingPage"))return;this.set("addingPage",true);var n=this._getOptions();n.pageAction=a?i.Squarespace.PageAction.NEXT:i.Squarespace.PageAction.PREVIOUS;n.start=t;s.load(n,i.bind(function(e){var t=s.get("pagination").nextPageStart||null;this.set("nextPageStart",t);this.get("collection").items.add(s,{silent:true});this._listWidget.syncUI();this._registerItemPushers(e,s);this.set("addingPage",false)},this))},_getOptions:function(){var e=this.get("filter");var t={limit:this.get("pageSize")};this.get("fields")&&(t.fields=this.get("fields"));if("all"!==e){var a=i.Squarespace.WorkflowStates[e.toUpperCase()];i.Lang.isValue(a)&&(t.workflowState=a)}return t},_updatePages:function(e,t){var a=t.get("pagination");this._listWidget.set("items",t);this.set("pagination",i.merge(a,{}))},_updatePagingWidgets:function(e){var t;i.Object.hasKey(e,"newVal")&&i.Lang.isValue(e.newVal)&&(t=e.newVal);this._paginationWidget.update(t);this.set("nextPageStart",t.nextPageStart);this.set("page",t.currentPage);this.syncUI()},_getClosestScrollingAncestor:function(){var e=this.get("contentBox");return i.Squarespace.NodeUtils.getClosestScrollingAncestor(e)},_setSelection:function(e){var t=e.item;this._listWidget.getWidgetForItem(t).set("selected",0)},_showConfigurationDialog:function(e){var t=i.Squarespace.ContentItemEditorFactory.getEditor(e);var o=new t({model:e});e.load({forceReload:true},function e(t,a){if(!t)try{var s=this.get("collection");var n=s.get("type");var i=a.recordType;var r="blog";n===l.COLLECTION_TYPE_GENERIC&&i===c.EVENT&&(r="events");p.editCollectionItem({itemId:a.id,collectionType:r,collectionId:s.get("id")})}catch(e){window.SQUARESPACE_SENTRY&&window.SQUARESPACE_SENTRY.captureMessage("track edit collection failed")}o.show()}.bind(this))},_showDeleteConfirmation:function(t){new i.Squarespace.Widgets.Confirmation({"strings.title":this.get("strings.confirmTitle"),"strings.message":this.get("strings.confirmMessage")}).on("confirm",function e(){t.set("selected",0);this._deleteItem(t)},this)},_deleteItem:function(e){e.set("workflowState",i.Squarespace.WorkflowStates.DELETED);e.sync("delete",{},i.bind(function(){this.fire(this.getProperty("EVENTS").ITEM_DELETED,{item:e});this.loadPage()},this))},scrollToTop:function(){var e=this.get("contentBox");while(e.get("parentNode")){if(e.get("scrollTop")>0){e.anim({scroll:[0,0]}).run();break}e=e.get("parentNode")}},hasUnsavedChanges:function(){return false},_onContentBrowserDeleteItem:function(t){this.get("collection").items.each(function(e){e.get("id")===t&&e.destroy()})}},{LIST_WIDGET:i.Squarespace.Widgets.List.SelectableListView,PAGINATION_WIDGET:i.Squarespace.Widgets.Pagination,EVENTS:e,CSS_PREFIX:"sqs-content-manager-list-base",ATTRS:{addingPage:{value:false},fields:{},filter:{value:"all"},helpSectionIdentifier:{value:"list"},pagination:{value:void 0},multiple:{value:true},"strings.emptyDescription":{value:u("This list contains no items. Click here to add your first item.")},"strings.noResultsDescription":{value:u("No results found. Please refine your search.")},"strings.noResultsTitle":{value:u("No Results")},pageSize:{value:20},searchFilterEnabled:{value:false}}})},"1.0",{requires:["base","node-scroll-info","squarespace-content-item-types-base","squarespace-content-item-types-selector","squarespace-content-manager-widgets-base","squarespace-content-manager-widgets-placeholder","squarespace-models-content-item-list","squarespace-node-utils","squarespace-pagination","squarespace-singletons-location","squarespace-spinner","squarespace-ss-widget","squarespace-widgets-list-selectable-view"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/music-album-details-editor.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-content-manager-widgets-music-album-details-editor",function(s){s.namespace("Squarespace.MusicAlbum");var t=s.Squarespace.MusicAlbum.DetailsEditor=s.Base.create("detailsEditor",s.Squarespace.Widgets.SSWidget,[s.WidgetParent,s.WidgetChild],{initializer:function(){var t=this.get("collection");var e={};this._imageField=this.add({childType:s.Squarespace.DialogFields.FileImage,required:false,height:282,square:true,name:"mainImage",autoSaveFocalPoint:true,contentLabel:n("Album Art"),strings:e,description:n("The image to be used to represent this page if it is placed within an index"),fieldStyle:"normal",titleStyle:"top",data:t.get("metadata.albumCover")||null,spinnerColor:"dark"}).item(0);this._albumNameField=this.add({childType:s.Squarespace.DialogFields.Text,strings:{title:n("Album Info"),placeholder:n("Album Name")},className:"thin album-name",render:this.get("contentBox").one(".album-name"),data:t.get("title")}).item(0);this._artistNameField=this.add({childType:s.Squarespace.DialogFields.Text,strings:{placeholder:n("Artist Name")},className:"thin",render:this.get("contentBox").one(".artist-name"),data:t.get("metadata.artistName")}).item(0);this._descriptionField=this.add({childType:s.Squarespace.DialogFields.Wysiwyg,name:"description",editorHeight:176,classNames:"title",saveOnEnter:true,data:t.get("metadata.albumDescription"),preventThrottling:true,strings:{title:n("Description")}}).item(0);this.publish("change");t.load(this._registerCallback(function(){var e={silent:true};this._imageField.set("data",t.get("metadata.albumCover")||null,e);this._albumNameField.set("data",t.get("title"),e);this._artistNameField.set("data",t.get("metadata.artistName"),e);this._descriptionField.set("data",t.get("metadata.albumDescription"),e)},this))},destructor:function(){this._artistNameField=null;this._descriptionField=null;this._imageField=null;this._albumNameField=null},renderUI:function(){t.superclass.renderUI.call(this);var e=this.get("contentBox");this._imageField.render(e.one(".main-image"));this._albumNameField.render(e.one(".album-name"));this._artistNameField.render(e.one(".artist-name"));this._descriptionField.render(e.one(".description"))},bindUI:function(){t.superclass.bindUI.call(this);var a=this.get("collection");s.Lang.isObject(a.get("metadata"))||a.set("metadata",{});a.set("metadata.typeName","music-album");this._imageField.on("dataChange",function(e){if(!e.silent){var t=e.newVal;a.set("metadata.albumCoverId",t instanceof s.Squarespace.Models.ContentItem?t.get("id"):null);this.fire("change")}},this);this._albumNameField.on("dataChange",function(e){e.silent||this.fire("change")},this);this._artistNameField.on("dataChange",function(e){e.silent||this.fire("change")},this);this._descriptionField.on("dataChange",function(e){e.silent||this.fire("change")},this);s.Do.before(function(){a.set("title",this._albumNameField.get("data"));a.set("metadata.artistName",this._artistNameField.get("data"));a.set("metadata.albumDescription",this._descriptionField.get("data"))},this.get("parent"),"_saveChanges",this)}},{CSS_PREFIX:"sqs-music-album-details-editor",TEMPLATE:'<div class="main-image"><div class="title">'+n("Album Art")+'</div></div><div class="strings artist-strings"><div class="album-name"></div><div class="artist-name"></div><div class="description"></div></div>',ATTRS:{collection:{value:null,validator:function(e){return e instanceof s.Squarespace.Models.ContentCollection}}}})},"1.0",{requires:["base","squarespace-dialog-file-image","squarespace-dialog-text","squarespace-models-content-collection","squarespace-ss-widget","squarespace-dialog-wysiwyg","widget-parent"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/music-album.js":function(e,t){YUI.add("squarespace-content-manager-widgets-music-album",function(a){a.namespace("Squarespace.ContentManagerWidgets");var t=a.Squarespace.ContentManagerWidgets.MusicAlbum=a.Base.create("ContentManagerMusicAlbum",a.Squarespace.ContentManagerWidgets.Base,[a.Squarespace.Mixins.SaveChanges,a.Squarespace.Mixins.AddContentItemHandlerMixin],{initializer:function(){var e=this.get("collection");var t=e.items;this._trackListWidget=new a.Squarespace.Widgets.MusicAlbums.ListView({collection:e,items:t,stickyHeadersEnabled:false});this._detailsEditorWidget=this.add({childType:a.Squarespace.MusicAlbum.DetailsEditor,collection:e,trackList:this._trackListWidget}).item(0);this.add(this._trackListWidget);this._itemsLoaded=false;t.load({limit:60},this._registerCallback(function(){this._itemsLoaded=true;this.syncUI()},this))},destructor:function(){this._loadingTimer&&this._loadingTimer.cancel();this._loadingTimer=null;a.one("body").removeClass("sqs-content-manager-music-album-active");this._detailsEditorWidget=null;this._trackListWidget.destroy(true);this._trackListWidget=null},renderUI:function(){t.superclass.renderUI.call(this);a.one("body").addClass("sqs-content-manager-music-album-active");var e=a.Node.create('<div class="loading-state"></div>');new a.Squarespace.Spinner({size:100,color:"dark",render:e}).spin();this.get("contentBox").append(e)},bindUI:function(){t.superclass.bindUI.call(this);var e=this.get("collection");this._registerEvent(this._detailsEditorWidget.on("change",this.markAsDirty,this));this._registerEvent(e.on("save",this._updateSavedMessage,this))},syncUI:function(){t.superclass.syncUI.call(this);this._itemsLoaded?this._setLoadedState():this._setLoadingState()},_setLoadedState:function(){this._loadingTimer&&this._loadingTimer.cancel();this.get("boundingBox").removeClass("content-loading");var e=this.get("contentBox");var t=this._detailsEditorWidget;var a=this._trackListWidget;t.get("rendered")?t.syncUI():t.render(e);a.get("rendered")?a.syncUI():a.render(e)},_setLoadingState:function(){this._loadingTimer&&this._loadingTimer.cancel();this._loadingTimer=a.later(500,this,function(){this.get("boundingBox").addClass("content-loading")})},_updateSavedMessage:function(){},_revertChanges:function(e){return a.Squarespace.Promises.create(function(t,a){this.get("collection").load(this._registerCallback(function(e){e?a(e):t()}))},this)},_saveChanges:function(e){return a.Squarespace.Promises.create(function(t,a){this.get("collection").save(function(e){if(e)a(e);else{t();this.get("damask").requestFrameRefresh()}}.bind(this))},this)}},{CSS_PREFIX:"sqs-content-manager-music-album",ATTRS:{multiple:{value:true}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-base","squarespace-content-manager-widgets-music-album-details-editor","squarespace-mixin-save-changes","squarespace-widgets-music-albums-list-view","squarespace-promises"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/placeholder.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-content-manager-widgets-placeholder",function(e){var t=e.Squarespace.ContentManagerWidgets.PlaceHolderWidget=e.Base.create("PlaceHolderWidget",e.Squarespace.Widgets.SSWidget,[e.WidgetChild],{renderUI:function(){this.get("boundingBox").addClass(this.getClassName("icon-"+this.get("icon")));this.get("contentBox").appendChild(e.Lang.sub(t.TEMPLATE,this.get("strings")));this.get("onClickHandler")&&this.get("boundingBox").addClass(this.getClassName("clickable"))},bindUI:function(){var e=this.get("onClickHandler");e&&this.get("boundingBox").on("click",e,this)}},{CSS_PREFIX:"sqs-content-manager-placeholder",TEMPLATE:'<div class="title">{title}</div><div class="description">{description}</div>',ATTRS:{icon:{value:"add"},strings:{value:{title:s("Empty"),description:s("There are no items to display.")}},onClickHandler:{value:null}}})},"1.0",{requires:["base","squarespace-ss-widget","widget-child"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/products-grid.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var r=a("./common/temp/node_modules/@sqs/styles/variables/baseDamask.js");var n=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var o=a("./src/main/webapp/universal/packages/enums/Features.js");var l=a("./src/main/webapp/universal/src/shared/router/widths.ts");var c=a("./src/main/webapp/universal/src/shared/router/widthUtils.ts");var u=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackLegacyProductPagePanel.ts");var d=a("./src/main/webapp/universal/src/shared/utils/commerce/api/ProductsApi.ts");var p=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Onboarding/components/WrappedSetupWizardCard/index.tsx");var m=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Onboarding/utils/isSetupWizardCardVisible.ts");var h="sqs-content-manager-product-grid-active";var v="sqs-content-manager-product-grid-minimized";var g="sqs-content-manager-product-grid-maximized";var f="sqs-content-manager-product-grid-setup-wizard-container";var b="sqs-content-manager-product-grid-setup-wizard-card";var y="sqs-content-manager-panel-width-transition";var w="sqs-content-manager-product-grid-hide-resize-btn";var S=1030;var C=140;var _=210;YUI.add("squarespace-content-manager-widgets-products-grid",function(i){var t=i.namespace("Squarespace.ContentManagerWidgets").ProductsGrid=i.Base.create("ContentManagerProducts",i.Squarespace.ContentManagerWidgets.Gallery,[],{initializer:function(){this._contentItemGrid.set("onDelete",function(e){var t=e.map(function(e){return e.get("id")});if(t.length)return d.deleteProducts(t);return i.Promise.resolve()})},destructor:function(){i.one("body").removeClass(h);i.one("body").removeClass(v);i.one("body").removeClass(g);this._addPaymentMethodsCard&&this._addPaymentMethodsCard.destroy();this._setupWizardCard&&this._setupWizardCard.destroy()},renderUI:function(){t.superclass.renderUI.apply(this,arguments);u.trackProductPagePanelView({collectionId:this.get("collection").get("id"),collectionTitle:this.get("collection").get("title")});i.one("body").addClass(h);i.one("body").addClass(v);this._parentNode.addClass(y);this.once("gallery-loaded",function(){this.widthBelowBreakpoint=false;this._renderResizeButton();this._bindResizeButton();this._bindReorderAnalytics();this._renderSetupWizardCard();if(window.innerWidth<S){this.widthBelowBreakpoint=true;this._resizeProductsGrid();this._resizeButton.addClass(w)}}.bind(this));n.isFeatureEnabled(o.COMMERCE)||n.isFeatureInAllPlans(o.COMMERCE)||this._renderOptionalUpgradeBanner()},bindUI:function(){t.superclass.bindUI.apply(this,arguments);this._bindQuickSearch();this._registerEvent(this._contentItemGrid.after("selectedChange",this._syncSelectedIndicator,this))},handleAddContentRequest:function(){t.superclass.handleAddContentRequest.apply(this,[{analytics:{productPage:"collection-panel"}}])},_renderSetupWizardCard:function(){if(0===this.get("collection").items.size()||!m())return;var e=this.get("srcNode").one(".sqs-header-tray");var t=i.Node.create("<div />");t.addClass(f);e.insert(t,"after");this._setupWizardCard=new p({container:t.getDOMNode(),title:s("Start selling your products"),description:s("Now that you have products, follow these steps to set up your store."),className:b,buttonText:s("Go to steps"),onClick:function(){i.Squarespace.Singletons.Location.go("/commerce")},productPage:"product-page-panel"});this._setupWizardCard.render()},_renderResizeButton:function(){var e=this._contentItemGrid.get("boundingBox");var t=i.Node.create('<div class="sqs-resize-button-container"><div class="sqs-resize-button" /></div>');this._resizeButton=t;e.appendChild(t)},_renderOptionalUpgradeBanner:function(){var e=this.get("contentBox");var t=s("To take orders, you will need to upgrade to the Business or a Commerce plan.");var a=new i.Squarespace.Widgets.CommerceUpgradeBanner({dismissAction:i.bind(function(){this.get("upsellBanner").hide()},this),message:t,identifier:"product-grid"});a.render(e);this.set("upsellBanner",a)},_syncSelectedIndicator:function(){this.get("boundingBox").toggleClass("sqs-content-item-grid-has-selected-items",0!==this._contentItemGrid.get("selected"))},_getHeaderTrayOptions:function(){var e=t.superclass._getHeaderTrayOptions.apply(this,arguments);e.buttons=[].concat(e.buttons,[{label:s("Search"),className:"search",action:"revealQuickSearch"}]);e.inlineTitleEditingEnabled=false;e.searchFieldEnabled=true;e.itemIdRequestHandler=this._quickSearchItemIdRequestHandler.bind(this);return e},_quickSearchItemIdRequestHandler:function(){var e=this._contentItemGrid;var t=e.get("defaultChildType");var a=[];e.each(function(e){if(!(e instanceof t))return;a.push(e.get("item"))});return a.sort(function(e,t){var a=e.get("displayIndex");var s=t.get("displayIndex");if(a<s)return-1;if(a>s)return 1;return 0}).map(function(e){return e.get("id")})},_bindQuickSearch:function(){this._registerEvent(this.headerTray.on("QuickSearch:attemptedClose",function(){this._resetGridSearchStates()},this));this._registerEvent(this.headerTray.on("QuickSearch:onResult",function(e){var s=e.results.map(function(e){return e.id});var t=this._contentItemGrid;var n=t.get("defaultChildType");u.trackProductPageSearch({collectionId:this.get("collection").get("id"),collectionTitle:this.get("collection").get("title"),itemCount:e.results.length});t.each(function(e){if(!(e instanceof n))return;var t=e.get("item").get("id");var a=false;s.indexOf(t)>-1&&(a=true);e.set("faded",!a)})},this));this._registerEvent(this.headerTray.on("QuickSearch:onSearchClear",function(e){this._resetGridSearchStates()},this));this._registerEvent(this.headerTray.after("QuickSearch:focusedItemIdChange",function(e){var s=e.newVal;var t=this._contentItemGrid;var n=t.get("defaultChildType");var i=null;t.each(function(e){if(!(e instanceof n))return;var t=e.get("item").get("id");var a=false;if(t===s){a=true;i=e}e.set("selected",a?1:0)});if(i){var a=i.get("boundingBox").get("offsetTop");var r=i.get("boundingBox").get("offsetHeight");var o=this._contentItemGrid.get("boundingBox");var l=o.get("offsetHeight");var c=a+r/2-l/2;o.anim({scroll:[0,c]}).run()}else false},this))},_bindReorderAnalytics:function(){this._registerEvent(this._contentItemGrid._ddDelegate.on("reorder:reordered",function(e){var t=e.reordered;var a=this._isMinimized()?"collapsed_view":"expanded_view";u.trackProductPageReorder({indirectObjectId:a,numberOfProductsMoved:t.length,collectionId:this.get("collection").get("id")})},this))},_bindResizeButton:function(){if(!this._resizeButton)return;this._registerEvent(this._resizeButton.one(".sqs-resize-button").on("click",function(){this._resizeProductsGrid();this._isMinimized()?u.trackProductPageExpandCollapse({collectionId:this.get("collection").get("id"),objectValue:"collapse"}):u.trackProductPageExpandCollapse({collectionId:this.get("collection").get("id"),objectValue:"expand"})},this));this._registerEvent(this._contentItemGrid._resizeEmitter.on("resize",function(){if(window.innerWidth<S&&!this.widthBelowBreakpoint){this.widthBelowBreakpoint=true;this._resizeButton.addClass(w);this._wasPreviouslyMinimized=this._isMinimized();this._wasPreviouslyMinimized&&this._resizeProductsGrid()}else if(window.innerWidth>=S&&this.widthBelowBreakpoint){this.widthBelowBreakpoint=false;this._resizeButton.removeClass(w);this._wasPreviouslyMinimized&&!this._isMinimized()&&this._resizeProductsGrid()}},this))},_isMinimized:function(){return i.one("body").hasClass(v)},_resizeProductsGrid:function(){var e=0;this.get("collection").items&&this.get("collection").items.size()>0&&(e=this.get("contentBox").one(".sqs-content-item-product").getDOMNode().getBoundingClientRect().width);if(this._isMinimized()){var t=window.innerWidth-2*r.GRID_PX;var a=this._contentItemGrid.get("minMargin");var s=Math.floor(t/(2*a+_));var n=100/s;this._contentItemGrid._stylesheet.set("innerHTML",this._contentItemGrid._stylesheet.get("innerHTML").concat(".sqs-content-item-product { min-width: "+e+"px !important; width: "+n+"% !important }"));this._parentNode.setStyle("width",c.getCSSPanelWidth(l.FULL));this.get("widthCallback")(l.FULL);i.one("body").replaceClass(v,g);i.Global.once("manual-resize",function(){this._contentItemGrid.set("imageSize",_)}.bind(this))}else{this._contentItemGrid._stylesheet.set("innerHTML",this._contentItemGrid._stylesheet.get("innerHTML").concat(".sqs-content-item-product { min-width: "+C+"px !important;  max-width: "+e+"px; width: 33.3% !important }"));this._parentNode.setStyle("width",c.getCSSPanelWidth(l.FULL_WITHOUT_TUCKED_FRAME));this.get("widthCallback")(l.WIDE);i.one("body").replaceClass(g,v);i.Global.once("manual-resize",function(){this._contentItemGrid.set("imageSize",C)}.bind(this))}},_resetGridSearchStates:function(){var e=this._contentItemGrid;var t=e.get("defaultChildType");e.each(function(e){if(!(e instanceof t))return;e.set("faded",false)})}},{CSS_PREFIX:"sqs-content-manager-widgets-products-grid",ATTRS:{resizeable:{value:true},resizeableMinWidth:{value:3*r.COLUMN_WIDTH_PX},upsellBanner:{value:null},galleryOptions:{valueFn:function(){var e={};var t=i.Squarespace.ContentManagerWidgets.Gallery.ATTRS.galleryOptions.valueFn;t&&(e=t.apply(this,arguments));e.defaultChildType=i.Squarespace.ContentItemProduct;e.imageSize=C;e.contentItemImageOptions=e.contentItemImageOptions||{};e.contentItemImageOptions.showActionOverlay=false;e.showActionTray=true;e.actionTrayCtor=i.Squarespace.Widgets.ProductGridActionTray;e.buttonsOrder=["moveToCollection","moveToBeginning","moveToEnd"];e.moveable=true;e.useBoundingBoxAsScrollNode=true;e["strings.emptyTitle"]=s("Add Products");e["strings.emptyDesc"]=s("No Products")+"<br/>"+s("Click here to add your first product.");e["strings.removeLabel"]=s("Delete");return e}}}})},"1.0",{requires:["base","squarespace-content-item-product","squarespace-content-manager-widgets-gallery","squarespace-widgets-commerce-upgrade-banner"]})},"./src/main/webapp/universal/scripts-v6/content-manager-widgets/recyclable-items.js":function(e,t,a){YUI.add("squarespace-mixins-recyclable-items",function(s){s.namespace("Squarespace.Mixins");s.Squarespace.Mixins.RecyclableItems=s.Base.create("recyclableItems",s.Base,[s.Squarespace.Mixins.EventRegistrar],{initializer:function(){if(!(this instanceof s.Squarespace.ContentManagerWidgets.ListBase))throw new Error("This needs to be mixed to a Content Manager List Base.");s.Do.after(this._renderButton,this,"renderUI",this);s.Do.after(this.checkDeletedItems,this,"renderUI",this);s.Do.after(this._bindListeners,this,"bindUI",this)},destructor:function(){this._binButton=null;s.Squarespace.Mixins.EventRegistrar.prototype.destructor.call(this)},_renderButton:function(){this._plugItemsBin()},_bindListeners:function(){this._binButton.on("click",function(e){e.halt();this.showRecycleBin()},this);this._bindRecycleBinListeners()},_plugItemsBin:function(){if(s.Lang.isValue(this._binButton))return;this._binButton=this.get("boundingBox").appendChild('<div class="recycle-bin-button"><div class="icon"></div></div>')},_syncRecycleBinVisibility:function(e){this._binButton&&this._binButton.toggleClass("visible",!!e)},_bindRecycleBinListeners:function(){var e=this.get("collection");var t=e.items;this._registerEvent(t.after("*:save",this.checkDeletedItems,this));this._registerEvent(t.on("*:destroy",this._syncRecycleBinVisibility,this));this._registerEvent(e.on("empty-trash",function(){this._syncRecycleBinVisibility(false)},this));var a=s.Squarespace.ContentManagerWidgets.ListBase.EVENTS;this.on(a.ITEM_DELETED,function(e){this._syncRecycleBinVisibility(true)},this)},checkDeletedItems:function(){var e=s.Squarespace.Promises.create(function(t,a){s.Data.get({url:"/api/content-collections/"+this.get("collection").get("id")+"/content-items",data:{workflowState:s.Squarespace.WorkflowStates.DELETED,limit:1,fields:"id"},success:function(e){t(0!==e.results.length)},failure:function(e){false;a(e)}},this)},this);e.then(s.bind(this._syncRecycleBinVisibility,this))},showRecycleBin:function(){var e=this.get("collection");var t="/pages/"+e.get("id")+"/recycle-bin";var a=this.get("router");a.cacheAttrs(t,{collection:e});a.push(t)}})},"1.0",{requires:["base","squarespace-settings-item-recycle-bin","squarespace-mixins-event-registrar","squarespace-promises","squarespace-singletons-location","squarespace-util"]})},"./src/main/webapp/universal/scripts-v6/damask/menu/commerce/email/base-email-template.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-damask-menu-commerce-base-email-template",function(e){e.namespace("Squarespace.Damask.Menu.Commerce");var t=e.Squarespace.Damask.Menu.Commerce.BaseTemplate=e.Base.create("BaseTemplate",e.Squarespace.Widgets.ModelBackedFieldEditor,[e.Squarespace.Damask.Panel.MixinPanel,e.Squarespace.Damask.Panel.MixinPanelParent,e.Squarespace.Mixins.CommerceEmailPreview],{renderUI:function(){t.superclass.renderUI.call(this)}},{CSS_PREFIX:"sqs-damask-menu-commerce-base-template",ATTRS:{"strings.title":{value:s("Header And Footer")},emailAddress:{valueFn:function(){return e.Squarespace.Context.getInstance().get("authenticatedAccount").get("email")}},urlExtension:{value:"base-template"},restoreDefaultsMessage:{valueFn:function(){return s("Restore default settings for header and footer?")}},model:{readOnly:true,valueFn:function(){return new e.Squarespace.Models.BaseEmailTemplateSettings}},fields:{valueFn:function(){return[{ctor:e.Squarespace.DialogFields.Description,config:{name:"headerDescription",title:s("Header"),className:"titleField"}},{ctor:e.Squarespace.DialogFields.jsonTemplateCode,config:{$dontRecurse:true,name:"header",fieldStyle:"normal",className:"codeTextArea"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"headerDescription",text:s("This is included at the top of every email."),className:"descriptionField"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"footerDescription",title:s("Footer"),className:"titleField"}},{ctor:e.Squarespace.DialogFields.jsonTemplateCode,config:{$dontRecurse:true,name:"footer",fieldStyle:"normal",className:"codeTextArea"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"footerDescription",text:s("This is included at the bottom of every email."),className:"descriptionField"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"businessNameDescription",title:s("Business Name"),className:"titleField"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"businessNameDescription",text:s("This is the legal name of your business. It will appear on all invoices and emails sent to your customers."),className:"descriptionField"}},{ctor:e.Squarespace.DialogFields.Text,config:{name:"businessName","strings.placeholder":s("Legal Business Name")}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"contactLocationDescription",title:s("Business Address"),className:"titleField"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"contactLocationDescription",text:s("This is the legal address of your business. It will appear on all invoices and emails sent to your customers."),className:"descriptionField"}},{ctor:e.Squarespace.DialogFields.Map,config:{name:"contactLocation",showTitle:false,googleTrackingContext:{productPage:"commerce-customer-notifications-business-address",productSection:"panel"}}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"businessIdDescription",title:s("Tax Registration ID"),className:"titleField"}},{ctor:e.Squarespace.DialogFields.Description,config:{name:"businessIdDescription",text:s("This is your businesss tax registration number. It will appear on all invoices and emails sent to your customers."),className:"descriptionField"}},{ctor:e.Squarespace.DialogFields.Text,config:{name:"businessId","strings.placeholder":s("Tax Registration ID")}},{ctor:e.Squarespace.DialogFields.Button,config:{$dontRecurse:true,"strings.text":s("Send Test Email"),name:"previewDonationEmail",onClick:this._sendPreview,context:this,className:"sendTestEmailButton"}},{ctor:e.Squarespace.DialogFields.Description,config:{text:s("Addressed to {emailAddress}",{emailAddress:this.get("emailAddress")}),className:"addressedTo"}},{ctor:e.Squarespace.DialogFields.Button,config:{name:"restoreDefaults",$dontRecurse:true,"strings.text":s("Restore Defaults"),onClick:this._restoreDefaults,context:this}}]}}}})},"1.0",{requires:["base","squarespace-commerce-base-email-template-template","squarespace-damask-panel-mixin-panel","squarespace-models-commerce-base-email-template-settings","squarespace-dialog-description","squarespace-dialog-structured-input","squarespace-mixins-commerce-email-preview","squarespace-widgets-model-backed-field-editor"]})},"./src/main/webapp/universal/scripts-v6/damask/menu/commerce/email/contribution-confirmed.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/shared/utils/YuiElimination.ts").isYuiClassEnabled;YUI.add("squarespace-damask-menu-commerce-contribution-confirmed",function(e){if(n("ContributionConfirmed")){e.namespace("Squarespace.Damask.Menu.Commerce");var t=e.Object.getValue(Static,["SQUARESPACE_CONTEXT","website","siteTitle"]);var a={variables:{"%d":{title:s("Donation Title"),description:s("The name of the donation."),exampleText:s("Our Cause")},"%s":{title:s("Site Name"),description:s("The title of your website."),exampleText:t}}};e.Squarespace.Damask.Menu.ContributionConfirmed=e.Base.create("ContributionConfirmed",e.Squarespace.Widgets.ModelBackedFieldEditor,[e.Squarespace.Damask.Panel.MixinPanel,e.Squarespace.Mixins.CommerceEmailPreview],{},{CSS_PREFIX:"sqs-damask-menu-commerce-email-contribution-confirmed",ATTRS:{"strings.title":{value:s("Donation Confirmation")},emailAddress:{valueFn:function(){return e.Squarespace.Context.getInstance().get("authenticatedAccount").get("email")}},model:{readOnly:true,valueFn:function(){return new e.Squarespace.Models.ContributionConfirmedEmailSettings}},urlExtension:{value:"contribution-confirmed"},fields:{valueFn:function(){return[{ctor:e.Squarespace.DialogFields.Description,config:{text:s("You could use the following variables in the Subject Line and Title of your donation confirmation:")+"<div>%d - "+a.variables["%d"].description+"</div><div>%s - "+a.variables["%s"].description+"</div>",className:"subDesktopPanelDescription"}},{ctor:e.Squarespace.DialogFields.Description,config:{title:s("Subject Line"),className:"fieldTitle"}},{ctor:e.Squarespace.DialogFields.StructuredInput,config:e.merge(a,{name:"subjectFormat",placeholder:s("%s: Thank You"),className:"input"})},{ctor:e.Squarespace.DialogFields.Description,config:{title:s("Title"),className:"fieldTitle"}},{ctor:e.Squarespace.DialogFields.StructuredInput,config:e.merge(a,{name:"titleFormat",placeholder:s("Thank You"),className:"input"})},{ctor:e.Squarespace.DialogFields.Description,config:{title:s("Message"),className:"fieldTitle"}},{ctor:e.Squarespace.DialogFields.jsonTemplateCode,config:{$dontRecurse:true,name:"message",className:"input"}},{ctor:e.Squarespace.DialogFields.Description,config:{title:s("Header"),className:"fieldTitle"}},{ctor:e.Squarespace.DialogFields.jsonTemplateCode,config:{$dontRecurse:true,name:"header",fieldStyle:"normal",className:"input"}},{ctor:e.Squarespace.DialogFields.Description,config:{text:s("This is included at the top of every donation email."),className:"fieldDescription"}},{ctor:e.Squarespace.DialogFields.Description,config:{title:s("Footer"),className:"fieldTitle"}},{ctor:e.Squarespace.DialogFields.jsonTemplateCode,config:{$dontRecurse:true,name:"footer",fieldStyle:"normal",className:"input"}},{ctor:e.Squarespace.DialogFields.Description,config:{text:s("This is included at the bottom of every donation email."),className:"fieldDescription"}},{ctor:e.Squarespace.DialogFields.Button,config:{$dontRecurse:true,"strings.text":s("Send Test Email"),name:"previewDonationEmail",onClick:this._sendPreview,context:this,className:"sendTestEmailButton"}},{ctor:e.Squarespace.DialogFields.Description,config:{text:s("Addressed to {email}",{email:this.get("emailAddress")}),className:"addressedTo fieldDescription"}},{ctor:e.Squarespace.DialogFields.Button,config:{$dontRecurse:true,"strings.text":s("Restore Defaults"),onClick:this._restoreDefaults,context:this,className:"restoreDefaultsButton"}}]}}}})}},"1.0",{requires:["base","squarespace-damask-panel-mixin-panel","squarespace-dialog-description","squarespace-dialog-structured-input","squarespace-mixins-commerce-email-preview","squarespace-models-contribution-confirmed-email-settings","squarespace-widgets-model-backed-field-editor"]})},"./src/main/webapp/universal/scripts-v6/damask/menu/commerce/taxes.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/components/TaxSettingsField.jsx");YUI.add("squarespace-damask-menu-commerce-taxes",function(e){e.namespace("Squarespace.Damask.Menu.Commerce");var t=e.Squarespace.Damask.Menu.Commerce.Taxes=e.Base.create("Taxes",e.Squarespace.Widgets.SettingsPanel,[e.Squarespace.Damask.Panel.MixinPanel,e.Squarespace.Damask.Panel.MixinPanelParent],{bindUI:function(){t.superclass.bindUI.call(this);this._registerPushers()},syncUI:function(){this.get("rendered")||t.superclass.syncUI.call(this)},_initHeaderTray:function(){this._header=new e.Squarespace.Widgets.CommerceTaxPanelHeader;return this.add(this._header).item(0)},_addCountry:function(){this.getField("taxRules").showAddCountry()},_getRenderedPushersArray:function(){return[this._header.get("taxSettingsPusher")]}},{CSS_PREFIX:"sqs-commerce-tax-rates",ATTRS:{fields:{valueFn:function(){return[{ctor:e.Squarespace.DialogFields.ReactDialogField,config:{name:"taxIncludedInProductPrice",component:n}},{ctor:e.Squarespace.DialogFields.Button,config:{"strings.text":s("Add Country"),onClick:this._addCountry.bind(this)}},{ctor:e.Squarespace.Widgets.CommerceTaxRuleList,config:{name:"taxRules"}}]}}}})},"1.0",{requires:["base","squarespace-settings-panel","squarespace-widgets-commerce-taxes-tax-rule-list","squarespace-widgets-commerce-taxes-tax-panel-header","squarespace-damask-panel-mixin-panel","squarespace-react-dialog-field"]})},"./src/main/webapp/universal/scripts-v6/damask/menu/design/custom-css.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./common/temp/node_modules/@sqs/styles/variables/baseDamask.js");var r=a("./common/temp/node_modules/lodash/throttle.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js");var l=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");var c=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");YUI.add("squarespace-damask-menu-design-custom-css",function(i){var e=i.Base.create("CustomCSSCodeEditorAdaptor",i.Squarespace.CodeEditorManager,[],{getTemplateMarkup:function(){return'<div class="code-editor"><div class="code-container"><div class="code-area"></div><div class="asset-upload-panel"><div class="asset-upload-canvas"></div></div><div class="code-editor-error"></div></div><div class="code-editor-footer"><div class="code-editor-unsaved">'+s("unsaved")+'</div><input class="save" type="button" value="'+s("Save")+'" disabled="disabled" /></div><div class="button-block"><input class="upload-asset button" type="button" value="'+s("Manage Custom Files")+'" /></div></div>'},getAvailableHeightForEditor:function(){var e=this.container.ancestor(".sqs-settings-panel-content");var t=e.one(".sqs-header-tray");var a=this.container.one(".button-block");return e.get("offsetHeight")-t.get("offsetHeight")-a.get("offsetHeight")-4*n.GRID_PX},setEditorSize:function(){var e=this.codeMirror.getScrollerElement();var t=this.getAvailableHeightForEditor();t<400&&(t=400);i.Node(e).setStyles({height:t+"px"});this.container.one(".asset-upload-panel").setStyles({height:.5*t+"px"});this.codeMirror.refresh();this.setUploadCanvasSize()},setUploadCanvasSize:function(){var t=0;this.container.all(".item, .sqs-uploader").each(function(e){t+=e.get("offsetHeight")});this.container.one(".asset-upload-canvas").setStyles({height:t+"px"})},toggleUploadPanel:function(e){var t=this.container.one(".asset-upload-panel");var a="asset-upload-panel-open";if(e&&!t.hasClass(a))return;if(t.hasClass(a)){t.removeClass(a);var s=new i.Anim({node:t,from:{top:"50%"},to:{top:"100%"},duration:.25,easing:"easeIn"});s.on("end",function(){t.hide()});s.run()}else{t.addClass(a);t.show();var n=new i.Anim({node:t,from:{top:"100%"},to:{top:"50%"},duration:.25,easing:"easeIn"});n.on("end",i.bind(function(){this.setEditorSize()},this));n.run()}},getTargetWindow:function(){return this._target||null},setTarget:function(e){this._target=e},preview:r(function(){if(!CONFIG_PANEL.get("previewFrame")||CONFIG_PANEL.get("previewFrame").get("loading")){i.Global.on("previewFrame:load",this.preview,this);return}if(i.Squarespace.Damask.ContextGlobals.getWindow().get("Static").SQUARESPACE_CONTEXT.collection.type===i.Squarespace.PageTypes.SPLASH_PAGE)return;this.getSanitizedCss(true).then(function(e){var t=this.getTargetWindow();if(i.Lang.isValue(t)){var a=i.one(t).one("body");if(i.Lang.isValue(a)){a.all("style").each(function(e){e.hasClass("SquarespaceInjectedCustomCss")&&e.remove()});a.append('<style type="text/css" class="SquarespaceInjectedCustomCss">'+e+"</style>")}this.setStatus(false)}}.bind(this)).catch(function(e){this.setStatus(e)}.bind(this))},1e3,{leading:false})},{});i.namespace("Squarespace.Damask.Menu.Design");var t=i.Squarespace.Damask.Menu.Design.CustomCSS=i.Base.create("CustomCSS",i.Squarespace.Widgets.SettingsPanel,[i.Squarespace.Damask.Panel.MixinPanel],{destructor:function(){this.editor._target=null;this.editor._windowResizeBinding.detach();this.editor._bodyKeyupBinding.detach();this.editor.destroy();this.closePopupEditor()},renderUI:function(){t.superclass.renderUI.apply(this,arguments);setTimeout(function(){this.editor=new e({container:i.one(".settings-panel-fields")});this.editor.codeMirror.on("change",i.bind(function(){this._editorDataChange()},this));this.editor.codeMirror.on("keyup",i.bind(function(e,t){27===t.which&&t.stopPropagation()},this));this.editor.codeMirror.on("focus",i.bind(function(){this.editor.toggleUploadPanel(true)},this));this._registerEvent(this.editor.on("sync",function(){this.markAsClean()},this));this.editor.once("sync",function(){this.editor.codeMirror.on("change",i.bind(function(){this.markAsDirty()},this));var e=this.get("damask").get("previewFrame");this._registerEvent(i.Global.on("previewFrame:load",function(){this._setEditorTarget();this._resetPreviewFrameCss()},this));if(e&&!e.get("loading")){this._setEditorTarget();this._resetPreviewFrameCss()}},this);this.once("inViewChange",function(){this.editor.setEditorSize()})}.bind(this),0)},_editorDataChange:function(){this.set("hasData",this.editor.codeMirror.getValue().length>0)},_setEditorTarget:function(){var e=this.get("damask").get("previewFrame");var t=e.get("iframe").get("contentDocument");this.editor.setTarget(t);this.editor.preview()},_resetPreviewFrameCss:function(){if(i.Squarespace.Damask.ContextGlobals.getWindow().get("Static").SQUARESPACE_CONTEXT.collection.type===i.Squarespace.PageTypes.SPLASH_PAGE)return;var e=this.get("damask").get("previewFrame");var t=e.get("iframe").get("contentWindow.Y");var a=t.one('[href*="/site.css"]');if(!a){console.warn("site.css not found, aborting reset");return}var s=a.get("href");s.indexOf("?")>0?s+="&":s+="?";s+="nocustom=true";t.Get.css(s,function(){a.remove()})},_revertChanges:function(){this.editor._resetEditor();l.designPanelCancel("custom-css");return i.when(true)},_saveChanges:function(){this.editor.save(true);l.designPanelSave("custom-css");return i.when(true)},openPopupEditor:function(){if(i.Lang.isValue(this.popup)&&!this.popup.closed){this.popup.focus();return}this.popup=i.config.win.open("/config/editor","customcss","width=700,height=600,scrollbars=no,menubar=no,status=no,titlebar=no,toolbar=no");this._messageListener=i.bind(this._handlePostMessage,this);window.addEventListener("message",this._messageListener);c.isSevenOne()?o.setEditingCustomCss(true):o.toggleExpanded();var e=this.get("damask").get("previewFrame");this._registerEvent(e.onceAfter(i.Squarespace.Damask.Preview.Frame.EVENTS.CONTRACTED,this.closePopupEditor,this))},postMessage:function(e,t){if(!i.Lang.isValue(this.popup)||this.popup.closed)return;this.popup.postMessage(e,t||this.popup.location.origin)},_handlePostMessage:function(e){switch(e.data.type){case"ready":this.postMessage({type:"change",value:this.editor.codeMirror.getValue()},e.source.origin);break;case"change":this.editor.codeMirror.setValue(e.data.value);break;case"close":this.closePopupEditor();break;case"sync":this._revertChanges();break}},closePopupEditor:function(){if(i.Lang.isValue(this.popup)&&!this.popup.closed){this.popup.updateDamaskEditor=null;this.popup.onbeforeunload=null;this.popup.close();this.popup=null}if(i.Lang.isValue(this._messageListener)){window.removeEventListener("message",this._messageListener);this._messageListener=null}c.isSevenOne()?o.setEditingCustomCss(false):o.toggleExpanded(false)}},{CSS_PREFIX:"sqs-custom-css",ATTRS:{buttons:{value:[{label:s("Open in Window"),action:function(){this.openPopupEditor()}}]},hasData:{validator:i.Lang.isBoolean,value:false},"strings.title":{value:s("Custom CSS")},"strings.description":{value:s("This area will allow you to inject custom CSS rules into your site.<br /><br /><strong>Warning: Adding custom CSS to your site can break your design. Please use caution when using this feature. Our support team will be limited in their ability to help you with design related issues if you have custom CSS.</strong><br /><br />Note: Custom CSS does not apply to Cover Pages.")}}})},"1.0",{requires:["base","node","squarespace-code-editor-legacy","squarespace-dialog-description","squarespace-models-composite","squarespace-settings-panel","squarespace-damask-panel-mixin-panel"]})},"./src/main/webapp/universal/scripts-v6/damask/menu/design/templates.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-damask-menu-design-templates",function(a){var s={width:420,name:"advancedTemplateInstallation",tabs:[{title:n("Template Installation (Manual Override)"),scroll:false,fields:[{ctor:a.Squarespace.DialogFields.Text,config:{name:"identifier",description:n("The identifier of the template you wish to install."),submitOnEnter:true}}]}]};a.namespace("Squarespace.Damask.Menu.Design");var t=a.Squarespace.Damask.Menu.Design.Templates=a.Base.create("Templates",a.Squarespace.Settings.Site.Templates,[a.Squarespace.Damask.Panel.MixinPanel],{addItem:function(e){if(a.Squarespace.UtilAuthenticated.isSquarespaceAdmin()&&e.domEvent.altKey){this._showAdvancedTemplateInstallation();return}t.superclass.addItem.apply(this,arguments)},_showAdvancedTemplateInstallation:function(){var t=new a.Model({identifier:""});var e=new a.Squarespace.ModelEditorDialog({dialogConfig:s,model:t});e.show();t.on("save",function(){var e=t.get("identifier");this.installTemplate(e)},this)}},{ATTRS:{strings:{value:{installTemplateText:n("Install New Template")}}}})},"1.0",{requires:["base","squarespace-damask-panel-mixin-panel","squarespace-settings-site-templates","squarespace-util-authenticated"]})},"./src/main/webapp/universal/scripts-v6/damask/menu/mixin-content-manager.js":function(e,t,a){var s=a("./src/main/webapp/universal/packages/enums/MediaProcessingState.js");var n=a("./src/main/webapp/universal/packages/enums/WorkflowStates.js");var i=a("./src/main/webapp/universal/src/shared/utils/SqsVersion.js");YUI.add("squarespace-damask-menu-mixin-content-manager",function(a){a.namespace("Squarespace.Damask.Menu");a.Squarespace.Damask.Menu.MixinContentManager=a.Base.create("contentNavItem",a.Base,[],{initializer:function(){this.bindEvents()},bindEvents:function(){if(this._listWidget){this.after("contentItemChange",function(e){if(a.Lang.isValue(e.contentItem)){var t=this._listWidget.getWidgetForItem(e.contentItem);this._listWidget.setFocusedChild(t,{source:"preview"})}else this._listWidget.clearSelected()},this);this._listWidget.after("*:focusedChange",function(e){if(e.newVal){var t=e.target.get("item");this.set("selectedContentItemUrlId",t.get("urlId"),{item:t,source:e.source})}},this)}this.after("selectedContentItemUrlIdChange",function(e){"afterSave"!==e.source&&a.Squarespace.Singletons.Location.pointFrameToContentItem(e.item,true)});var e=this.get("collection").items;this._bindItemsReordering(e);this._registerEvent(e.after("*:save",function(e){if(e.options&&"bulk-save-operation"===e.options.source)return;var t={item:e.target};if(e.target.get("workflowState")===n.DELETED){this.fire("item:remove",t);a.Squarespace.Singletons.Location.pointFrameToCollection(this.get("collection",true))}else{this.fire("item:save",t);this.get("selectedContentItemUrlId")===t.item.get("id")?a.Squarespace.Singletons.Location.requestFrameRefresh():i.isV8()||this.set("selectedContentItemUrlId",t.item.get("urlId"),{item:t.item,source:"afterSave"})}},this));this._registerEvent(e.after("remove",function(e){this._isContentItemPublished(e.model)&&"reorder"!==e.source&&a.Squarespace.Singletons.Location.pointFrameToCollection(this.get("collection"),true)},this));this._registerEvent(e.after("*:mediaProcessingStateChange",function(e){this._isContentItemPublished(e.target)&&e.newVal===s.READY&&null!==e.prevVal&&a.Squarespace.Singletons.Location.requestFrameRefresh()},this))},_bindItemsReordering:function(e){this._registerEvent(e.on("reordered",function(){a.Squarespace.Singletons.Location.requestFrameRefresh()},this))},_isContentItemPublished:function(e){return e.get("workflowState")===n.PUBLISHED}},{ATTRS:{selectedContentItemUrlId:{}}})},"1.0",{requires:["base","promise","squarespace-content-item-types-selector","squarespace-singletons-location"]})},"./src/main/webapp/universal/scripts-v6/damask/panel/menu-item-with-progress.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/src/shared/utils/YuiElimination.ts").isYuiClassEnabled;YUI.add("squarespace-damask-panel-menu-item-with-progress",function(s){if(i("MenuItemWithProgress")){s.namespace("Squarespace.Damask.Panel");var e=s.Squarespace.Damask.Panel.MenuItemWithProgress=s.Base.create("MenuItemWithProgress",s.Squarespace.Damask.Panel.MenuItem,[],{bindUI:function(){e.superclass.bindUI.apply(this,arguments);this.after("progressChange",this.syncUI,this)},syncUI:function(){e.superclass.syncUI.apply(this,arguments);if(s.Lang.isValue(this.get("progress"))){this._syncProgressIndicator();this._syncProgressPulser()}},_syncProgressIndicator:function(){var e=this.get("contentBox");var t=this.get("progress");var a=e.one(".progress");if(!s.Lang.isValue(a)){e.append('<div class="progress"></div>');a=e.one(".progress")}a.toggleClass("done",t.complete);a.setContent(s.Lang.sub(n("{current} of {max}"),t))},_syncProgressPulser:function(){var e=this.get("boundingBox");var t=this.get("progress");s.Lang.isValue(e.pulseWarn)||this.get("boundingBox").plug(s.Squarespace.Plugin.PulseWarn,{iterations:2,useClass:true,targetClass:"warn",interval:600});t.current<t.max&&this._registerTimer(s.later(500,this,function(){e&&e.pulseWarn&&e.pulseWarn.warn()}))}},{CSS_PREFIX:"sqs-damask-menu-item",ATTRS:{progress:{value:null,validator:s.Squarespace.AttrValidators.isObjectOrNull}}})}},"1.0",{requires:["base","squarespace-attr-validators","squarespace-damask-panel-menu-item","squarespace-plugin-pulsewarn"]})},"./src/main/webapp/universal/scripts-v6/dialog-feature-gate-description.js":function(e,t,a){var s=a("./common/temp/node_modules/react/index.js");var n=a("./common/temp/node_modules/react-dom/index.js");var i=a("./src/main/webapp/universal/src/shared/components/FeatureGate/Logo/index.js");var r=a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeatureGateStore/index.js");var l=a("./common/temp/node_modules/lodash/noop.js");YUI.add("squarespace-dialog-feature-gate-description",function(e){e.namespace("Squarespace.DialogFields");var a=e.Squarespace.DialogFields.FeatureGateDescription=e.Base.create("FeatureGateDescriptionField",e.Squarespace.DialogFields.DescriptionField,[],{destructor:function(){if(this.upsellMenuEl){n.unmountComponentAtNode(this.upsellLogoEl);this.upsellLogoEl.remove();this.upsellLogoEl=null;this.upsellLogo=null}},renderUI:function(){a.superclass.renderUI.call(this);if(this.get("isFeatureGated")){var e=r.isTrial();this.upsellLogoEl=document.createElement("span");var t=o.getUpsellCopy(this.get("feature"));this.upsellLogo=n.render(s.createElement(i,{isTrial:e,analyticsId:this.get("analyticsId"),learnMoreUrl:this.get("learnMoreUrl"),upgradeTitle:t.upgradeTitle,upgradeDescription:t.upgradeDescription,knockout:true}),this.upsellLogoEl);this.get("contentBox").one(".custom-field-description").append(this.upsellLogoEl)}},syncUI:l},{CSS_PREFIX:"sqs-feature-gate-description",ATTRS:{learnMoreUrl:{value:""},analyticsId:{value:""},feature:{value:null},isFeatureGated:{value:false}}});e.Squarespace.DialogFields.FeatureGateDescriptionField=e.Squarespace.DialogFields.FeatureGateDescription},"1.0",{requires:["base","node","squarespace-dialog-description","squarespace-dialog-field-2"]})},"./src/main/webapp/universal/scripts-v6/dialog-promises.js":function(e,t){YUI.add("squarespace-dialog-promises",function(r){var e=r.namespace("Squarespace.Promises");e.submitDialog=function(s,n,e){var i=e||this;return new r.Promise(function(t,e){var a=new r.Squarespace.EditingDialog(s);a.on("send-requested",function(){var e=n.call(i,a.getData());window.action=e;e.then(function(e){a.close();t(e)},function(e){e.errors&&a.showErrors(e.errors)})});a.on(["cancel-click","cancel"],function(){e(null)});a.show()})};e.getDialogData=function(s){return e.create(function(t,e){var a=new r.Squarespace.EditingDialog(s);a.on("send-requested",function(){var e=a.getData();a.close();t(e)});a.on(["cancel-click","cancel"],function(){e(null)});a.show()},this)}},"1.0",{requires:["promise","squarespace-dialog","squarespace-promises"]})},"./src/main/webapp/universal/scripts-v6/dialog-shipping-container-table.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-shipping-container-table",function(s){s.namespace("Squarespace");var e=s.Squarespace.Commerce.ShippingEnums;var n=s.Base.create("containerRow",s.Squarespace.DialogField2,[],{renderUI:function(){n.superclass.renderUI.call(this);var e=this.get("contentBox");var t=s.Lang.sub(this.getProperty("ROW_TEMPLATE"),this.getAttrs());e.setHTML(t);var a=e.all(".right input");a.plug(s.Squarespace.Plugin.NumericFormatter,{displayFormatter:function(e){return e.toFixed(2)},postfixUnit:this.get("parent").get("unit")})},bindUI:function(){n.superclass.bindUI.call(this);var e=this.get("contentBox");e.one(".remove").on("click",this._remove,this);e.one('input[name="name"]').on("change",function(e){this.set("name",e.target.get("value"))},this);e.one('input[name="length"]').on("change",function(e){this.set("containerLength",e.target.numericFormatterPlugin.get("data"))},this);e.one('input[name="width"]').on("change",function(e){this.set("containerWidth",e.target.numericFormatterPlugin.get("data"))},this);e.one('input[name="height"]').on("change",function(e){this.set("containerHeight",e.target.numericFormatterPlugin.get("data"))},this)},_remove:function(e){var t=this.get("parent");this.remove(true);e.stopPropagation();t.fire("rowRemoved")},BOUNDING_TEMPLATE:'<tr class="row user-row"></tr>',CONTENT_TEMPLATE:null},{ROW_TEMPLATE:'<td class="left"><input type="text" class="name" name="name" value="{name}" /></td><td class="right"><input type="text" placeholder="length" class="length" name="length" value="{containerLength}" /><span class="dimensionSeparator"></span> <input type="text" placeholder="width" class="width" name="width" value="{containerWidth}" /><span class="dimensionSeparator"></span> <input type="text" placeholder="height" class="height" name="height" value="{containerHeight}" /></td><td class="remove"><div class="remove-row"></div></td>',ATTRS:{name:{value:i("Custom Box")},containerLength:{value:0},containerWidth:{value:0},containerHeight:{value:0},data:{value:{},getter:function(){return{name:this.get("name"),length:this.get("containerLength"),width:this.get("containerWidth"),height:this.get("containerHeight")}}}}});var t=s.Squarespace.DialogFields.ShippingContainerTable=s.Base.create("shippingContainerTable",s.Squarespace.DialogField2,[],{renderUI:function(){t.superclass.renderUI.call(this);this._childrenContainer=this.get("contentBox").one(".list")},bindUI:function(){t.superclass.bindUI.call(this);this.after(["rowAdded","rowRemoved"],function(){this._syncData();this.syncUI()});this.after("containerRow:change",this._syncData);var e=this.get("contentBox");e.on("click",this.clearError,this);e.one(".add-row").on("click",this._addRow,this);e.delegate("click",function(e){e.stopPropagation();this._addRow()},".empty-message",this)},syncUI:function(){t.superclass.syncUI.call(this);this.removeAll();this._childrenContainer.empty();this._addRows();this._syncEmptyMessage()},setErrorAnchor:function(a){this.each(function(e){var t=this._containerKey(e.get("data"));t==a&&this._set("errorFlyoutAnchor",e.get("boundingBox"))},this)},_syncEmptyMessage:function(){var e=this.get("contentBox");var t=e.one("thead");var a=e.one(".add-row");if(0===this.size()){t.hide();a.hide();var s='<tr class="empty-message"><td colspan="2" class="empty-message-content">'+i("Add a Custom Container")+"</td></tr>";this._childrenContainer.append(s)}else{t.show();a.show()}},_addRows:function(){var t=this.get("unit");this.get("data").forEach(function(e){this.add({containerLength:e.length,containerWidth:e.width,containerHeight:e.height,name:e.name,unit:t})},this)},_addRow:function(){this.add({});this.fire("rowAdded");this.get("contentBox").one(".add-row").scrollIntoView()},_containerKey:function(e){var t=[e.length,e.width,e.height].sort();t=t.map(function(e){return e.toFixed(3)});return t[0]+"x"+t[1]+"x"+t[2]},_syncData:function(){var t=[];this.each(function(e){t.push(e.get("data"))});this.set("data",t,{noSyncUI:true})}},{CSS_PREFIX:"sqs-shipping-container-table",HANDLEBARS_TEMPLATE:"dialog-shipping-container-table.html",ATTRS:{defaultChildType:{value:n},strings:{value:{container:i("Container"),dimensions:i("Dimensions")}},carrier:{value:null},measurementStandard:{value:s.Squarespace.MeasurementStandard.IMPERIAL},unit:{valueFn:function(){return this.get("measurementStandard")===s.Squarespace.MeasurementStandard.IMPERIAL?'"':"cm"}},carrierServices:{valueFn:function(){return e.CarrierTypeServicesMap[this.get("carrier")]}},data:{value:[]}}})},"1.0",{requires:["base","handlebars","json","squarespace-animations","squarespace-commerce-shipping-enums","squarespace-commerce-utils","squarespace-dialog-field-2","squarespace-dialog-shipping-container-table-template","squarespace-plugin-numeric-formatter","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/dialog-shipping-system-container-table.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-shipping-system-container-table",function(s){s.namespace("Squarespace");var e=function(e){return e.toFixed(2)};var n=s.Base.create("containerRow",s.Squarespace.DialogField2,[],{renderUI:function(){n.superclass.renderUI.call(this);var e=this.get("contentBox");var t=this.getProperty("ROW_TEMPLATE");var a=s.Lang.sub(t,this.getAttrs());e.setHTML(a)},BOUNDING_TEMPLATE:'<tr class="row"></tr>',CONTENT_TEMPLATE:null},{ROW_TEMPLATE:'<td class="left">{name}</td><td class="right">{containerLength}{space}{unit}  {containerWidth}{space}{unit}  {containerHeight}{space}{unit}</td>',ATTRS:{name:{value:i("Custom Box")},containerLength:{value:0,setter:e},containerWidth:{value:0,setter:e},containerHeight:{value:0,setter:e},space:{value:""},unit:{value:""}}});var t=s.Squarespace.DialogFields.ShippingSystemContainerTable=s.Base.create("shippingSystemContainerTable",s.Squarespace.DialogField2,[],{renderUI:function(){t.superclass.renderUI.call(this);this._childrenContainer=this.get("contentBox").one(".list")},bindUI:function(){t.superclass.bindUI.call(this);this.after("dataChange",this.syncUI,this);this.after("isSupportedChange",this.syncUI,this)},syncUI:function(){t.superclass.syncUI.call(this);this.removeAll();this._childrenContainer.empty();this._syncUnsupportedServiceWarning();this._addRows()},_syncUnsupportedServiceWarning:function(){var e=this.get("contentBox").one("thead");if(this.get("isSupported"))e.show();else{e.hide();var t='<tr class="empty-message"><td colspan="2" class="empty-message-content"><div class="warning-icon"></div>'+i("Carrier containers are not available for the selected services.")+"</td></tr>";this._childrenContainer.append(t)}},_addRows:function(){var t=this.get("measurementStandard")===s.Squarespace.MeasurementStandard.IMPERIAL?"":" ";var a=this.get("unit");this.get("data").forEach(function(e){this.add({name:e.name,containerLength:e.length,containerWidth:e.width,containerHeight:e.height,space:t,unit:a})},this)}},{CSS_PREFIX:"sqs-shipping-system-container-table",HANDLEBARS_TEMPLATE:"dialog-shipping-system-container-table.html",ATTRS:{defaultChildType:{value:n},strings:{value:{container:i("Container"),dimensions:i("Dimensions")}},measurementStandard:{value:s.Squarespace.MeasurementStandard.IMPERIAL},isSupported:{value:true},unit:{valueFn:function(){return this.get("measurementStandard")===s.Squarespace.MeasurementStandard.IMPERIAL?'"':"cm"}},data:{value:[]}}})},"1.0",{requires:["base","handlebars","json","squarespace-animations","squarespace-commerce-shipping-enums","squarespace-commerce-utils","squarespace-dialog-field-2","squarespace-dialog-shipping-system-container-table-template","squarespace-plugin-numeric-formatter","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-cancel-order-restock.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-cancel-order-restock",function(a){a.namespace("Squarespace.DialogFields");a.Squarespace.DialogFields.CancelOrderRestock=a.Base.create("order-history",a.Squarespace.DialogField2,[],{renderUI:function(){a.Squarespace.DialogFields.CancelOrderRestock.superclass.renderUI.call(this);var e=this.get("contentBox");a.Lang.isValue(e.one(".missing"))&&(this.missingToolTip=new a.Squarespace.ToolTip({target:".missing",title:s("Product Missing"),body:s("This product no longer exists in your inventory and cannot be restocked."),hoverToShow:true,alwaysEnable:true,dialogTooltip:true}));a.Lang.isValue(e.one(".unlimited"))&&(this.unlimitedToolTip=new a.Squarespace.ToolTip({target:".unlimited",title:s("Unlimited Inventory"),body:s("This product has unlimited inventory and cannot be restocked."),hoverToShow:true,alwaysEnable:true,dialogTooltip:true}))},destructor:function(){a.Lang.isValue(this.missingToolTip)&&this.missingToolTip.destroy();a.Lang.isValue(this.unlimitedToolTip)&&this.unlimitedToolTip.destroy()},_getHBTemplateContext:function(){return a.Array.map(this.get("data").order.items,this._createRestockListItem,this)},_createRestockListItem:function(e){return{productName:e.productName,variantDescription:this._variantDescriptionFormat(e.variantOptions),restockQuantity:this._restockQuantityFormat(e),nonRestockableReason:this._nonRestockableReason(e),nonRestockableIndicatorClass:this._nonRestockableReason(e)}},_variantDescriptionFormat:function(e){if(!a.Lang.isValue(e))return null;var t=e.map(function(e){return e.value});return t.join(" / ")},_restockQuantityFormat:function(e){return"+"+e.quantity},_nonRestockableReason:function(e){if(true===e.restockableStatus.missing)return s("missing");if(true===e.restockableStatus.unlimited)return s("unlimited");return null}},{CSS_PREFIX:"sqs-cancel-order-restock",HANDLEBARS_TEMPLATE:"dialog-cancel-order-restock.html"})},"1.0",{requires:["squarespace-commerce-utils","squarespace-dialog-cancel-order-restock-template","squarespace-dialog-field-2","squarespace-ui-base","squarespace-util"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-checkbox-group.js":function(e,t){YUI.add("squarespace-dialog-checkbox-group",function(n){n.namespace("Squarespace.DialogFields");var i=n.Squarespace.DialogFields.CheckboxGroup=n.Base.create("CheckboxGroup",n.Squarespace.DialogField2,[],{initializer:function(){this.publish("check",{emitFacade:true})},renderUI:function(){i.superclass.renderUI.call(this);var e=this.get("contentBox");var t=this.get("strings.title");var a=this.get("strings.description");var s='<div class="title">'+t+"</div>";n.Lang.isValue(a)&&(s+='<div class="description">'+a+"</div>");s+='<div class="list"></div>';e.setHTML(s);this._childrenContainer=e.one(".list")},syncUI:function(){i.superclass.syncUI.call(this);var e=this.get("options");if(e.length>0){this.removeAll();this._childrenContainer.empty();e.forEach(function(e){this.add({name:e.name,defaultValue:e.value,"strings.title":e.label})},this)}},bindUI:function(){i.superclass.bindUI.call(this);this.after("optionsChange",this.syncUI,this);this.after("check:dataChange",function(){this.fire("check")},this)},_selectAll:function(){this.each(function(e){e.set("data",true)})},_deselectAll:function(){this.each(function(e){e.set("data",false)})}},{ATTRS:{defaultChildType:{value:n.Squarespace.DialogFields.Check},options:{value:[],validator:n.Squarespace.AttrValidators.isArray},data:{value:[],getter:function(){return this._items.filter(function(e){return e.get("data")}).map(function(e){return e.get("name")})}},testAttribute:{value:"checkbox-group"}}})},"1.0",{requires:["base","squarespace-dialog-check","squarespace-dialog-field-2"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-markup-input.js":function(e,t,a){var n=a("./common/temp/node_modules/react/index.js");var i=a("./common/temp/node_modules/react-dom/index.js");var r=a("./src/main/webapp/universal/packages/enums/ShippingOptionMarkupType.js");var o=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/MarkupInput/index.js");YUI.add("squarespace-dialog-markup-input",function(s){s.Squarespace.DialogFields.MarkupInput=s.Base.create("MarkupInput",s.Squarespace.DialogField2,[],{renderUI:function(){s.Squarespace.DialogFields.MarkupInput.superclass.renderUI.call(this);var e=this.get("data");var t=this.get("boundingBox");var a=this.get("title");a&&t.setAttribute("data-testValue",a);this.reactInstance=i.render(n.createElement(o,{value:e.markupValue,title:this.get("title"),description:this.get("description"),template:e.markupType,storeCurrency:this.get("storeCurrency"),onInputChange:this._onInputChange.bind(this)}),this.get("contentBox").getDOMNode())},_onInputChange:function(e){this.set("data",e)},didDataChange:function(){var e=this._initialData;var t=this.get("data");return JSON.stringify(e)!==JSON.stringify(t)},destructor:function(){i.unmountComponentAtNode(this.get("contentBox").getDOMNode());this.reactInstance=null}},{ATTRS:{title:{validator:s.Lang.isString},description:{validator:s.Lang.isString},storeCurrency:{validator:s.Lang.isString},data:{value:{markupType:r.PERCENTAGE,markupValue:0},validator:s.Lang.isObject}}})},"1.0",{requires:["base","node","squarespace-dialog-field-2"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-order-history.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").formatDateTime;var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-order-history",function(e){e.namespace("Squarespace.DialogFields");e.Squarespace.DialogFields.OrderHistory=e.Base.create("order-history",e.Squarespace.DialogField2,[],{_getHBTemplateContext:function(){return e.Array.map(this.get("data"),this._createOrderEvent,this)},_createOrderEvent:function(e){var t=e.initiatedBy.displayName;var a=e.initiatedBy.actorType;var s=i(e.timestamp,"lllLT");var n;n=t?r("by {actorName} on {eventDate}",{actorName:t,eventDate:s}):r("APP"===a?"by connected extension on {eventDate}":"on {eventDate}",{eventDate:s});return{eventActorAndDateTime:n,description:e.description}}},{CSS_PREFIX:"sqs-order-history",HANDLEBARS_TEMPLATE:"dialog-order-history.html"})},"1.0",{requires:["squarespace-commerce-utils","squarespace-dialog-field-2","squarespace-dialog-order-history-template","squarespace-util"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-order-summary.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-order-summary",function(e){var a=e.namespace("Squarespace.DialogFields").OrderSummaryField=e.Base.create("order-summary",e.Squarespace.DialogField2,[],{renderUI:function(){a.superclass.renderUI.call(this);var t=this.get("boundingBox");e.Data.get({url:"/api/2/commerce/orders/"+this.get("orderId")+"/receipt",success:e.bind(function(e){t.setContent(e.html)},this)})}},{TEMPLATE:'<div class="orderSummary"><div class="clearfix"><div class="billing"><span class="title"></span></div><div class="shipping"><span class="title"></span></div></div><div class="items"><span class="title"></span><div class="box"></div></div></div>',CSS_PREFIX:"sqs-order-summary",ATTRS:{strings:{value:{billingTitle:s("Billing"),shippingTitle:s("Shipping")}},orderId:{}}})},"1.0",{requires:["base","squarespace-commerce-utils","squarespace-dialog-field-2","squarespace-hb-number-format"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-order-tracking-row.js":function(e,t,a){var p=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/src/shared/constants/CarrierTypes.js");var s=a("./common/temp/node_modules/@sqs/utils/string/isBlank.js");var r=a("./common/temp/node_modules/lodash/debounce.js");YUI.add("squarespace-dialog-order-tracking-row",function(d){d.namespace("Squarespace.DialogFields.OrderTracking");var n=d.Squarespace.DialogFields.OrderTracking.OrderTrackingRow=d.Base.create("trackingRow",d.Squarespace.Widgets.SSWidget,[d.WidgetChild],{destructor:function(){this.get("input").destroy(true);this.get("select").destroy(true);this.get("tooltip").destroy(true)},renderUI:function(){n.superclass.renderUI.call(this);var e=this.get("parent");var t=this.get("contentBox").one(".order");var a=t.one(".tracking-number");var s=t.one(".carrier-label");this.set("trackingNumberNode",a);this.set("carrierNode",s);this.set("input",new d.Squarespace.DialogFields.Text({name:"trackingNumber",render:this.get("trackingNumberNode"),"strings.placeholder":p("Tracking Number")}));this.set("select",new d.Squarespace.DialogFields.Select({name:"carrier",options:e.get("carrierOptions"),render:s,className:"thin dark","strings.placeholder":p("Select")}));this.set("tooltip",this._buildTooltip())},bindUI:function(){n.superclass.bindUI.call(this);var e=this.get("input");var t=this.get("select");this._registerEvent(e.on("keyup",this._getCarrierDebounced,this));this._registerEvent(e.on("blur",this._updateCarrierSelection,this));this._registerEvent(t.on("change",this._showCustomCarrierDialog,this))},syncUI:function(){n.superclass.syncUI.call(this);var e=this.get("order").get("shipmentTracker");if(d.Lang.isValue(e)){this.get("input").set("data",e.trackingNumber);this.updateCarrier({carrierValue:e.carrier,carrierName:e.carrierName})}},validate:function(){if(!this._isCarrierValid()){this.get("select").showError(p("You must specify a carrier"));return false}if(!this._isUnknownCarrier()&&!this._isTrackingNumberBlankOrAlphanumericWithSpaces()){this.get("input").showError(p("Enter a valid number with letters and numbers"));return false}this._updateOrderShipmentTrackers();return true},updateCarrier:function(e){this.get("select").set("data",e.carrierValue);e.carrierValue===i.CUSTOM&&this._updateCustomCarrier(e.carrierName)},clearCarrierSelection:function(){this.get("select").set("data",null)},hideErrors:function(){this.get("input").hideError();this.get("select").hideError()},_getHBTemplateContext:function(){return this.get("order").toJSON()},_buildTooltip:function(){var e=this.get("contentBox");var t=e.one(".tooltip-target");var a=this.get("order").get("shippingDetails.customer");var s=a.name;var n=a.address.line1;var i=a.address.line2;var r=a.address.city;var o=a.address.region;var l=a.address.postalCode;var c=a.address.country;var u=[s,n,i,r+", "+o+" "+l,c].reduce(function(e,t){e+=t?'<div class="ellipsis">'+d.Escape.html(t)+"</div>":"";return e},"");return new d.Squarespace.ToolTip({target:t,title:p("Shipping Address"),body:u})},_updateOrderShipmentTrackers:function(){var e=this.get("order");var t=this.get("input");var a=this.get("select");this._isAllTrackingInfoBlank()?e.set("shipmentTrackers",[]):e.set("shipmentTrackers",[{orderId:e.get("id"),carrier:a.get("data")||i.UNKNOWN,carrierName:this.get("customCarrierName"),trackingNumber:t.get("data")}])},_isAllTrackingInfoBlank:function(){return this._isCarrierValueMissing()&&this._isCustomCarrierMissing()&&this._isTrackingNumberMissing()},_isCarrierValid:function(){return this._isTrackingNumberMissing()||!this._isCarrierValueMissing()},_isTrackingNumberMissing:function(){var e=this.get("input");var t=e.get("data");return s(t||"")},_isTrackingNumberBlankOrAlphanumericWithSpaces:function(){var e=this.get("input");var t=e.get("data");return null!==t.match(/^[a-z0-9\s]*$/i)},_isCarrierValueMissing:function(){var e=this.get("select");var t=e.get("data")||i.UNKNOWN;return t===i.UNKNOWN||"-1"===t},_isUnknownCarrier:function(){var e=this.get("select");var t=e.get("data")||i.UNKNOWN;return t===i.UNKNOWN||t===i.CUSTOM},_isCustomCarrierMissing:function(){var e=this.get("customCarrierName");return s(e||"")},_getShippingCarrierAndUpdate:function(e){this._requestShippingCarrier(e).then(d.bind(this.updateCarrier,this))},_updateCustomCarrier:function(e){if(!s(e)){this.set("customCarrierName",e);this._updateSelectFacade(e)}},_updateCarrierSelection:function(){if("CUSTOM"===this.get("select").getValue())return;var e=this.get("input").get("data");s(e)?this.clearCarrierSelection():this._getShippingCarrierAndUpdate(e)},_updateSelectFacade:function(e){var t=this.get("carrierNode");var a=t.one('option[value="'+i.CUSTOM+'"]');var s=t.one(".label");a.set("label",e);s.setHTML(e)},_requestShippingCarrier:function(e){return new d.Promise(function(t,a){s(e)?a():d.Data.get({url:d.Squarespace.API_ROOT+"commerce/shipping/carrier",data:{trackingNumber:e},success:function(e){t({carrierValue:e})},failure:function(e){d.Lang.isFunction(a)&&a(e)}})})},_showCustomCarrierDialog:function(){this.set("carrierName",null);this.get("select").get("data")===i.CUSTOM&&this.get("parent")._showCustomCarrierDialogForRow(this)},_showTooltip:function(e){this.get("tooltip").show();e.preventDefault()},_getCarrierDebounced:r(function(){this._updateCarrierSelection()},800)},{HANDLEBARS_TEMPLATE:"dialog-order-tracking-row.html",ATTRS:{defaultChildType:{value:n},order:{value:null},input:{value:null},select:{value:null},tooltip:{value:null},customCarrierName:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-dialog-order-tracking-row-template","squarespace-dialog-select","squarespace-dialog-text","squarespace-ss-widget","squarespace-ui-base"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-order-tracking.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/shared/constants/CarrierTypes.js");var i=a("./common/temp/node_modules/@sqs/utils/string/isBlank.js");YUI.add("squarespace-dialog-order-tracking",function(t){t.namespace("Squarespace.DialogFields");var e=[{label:s("Not Specified"),value:n.UNKNOWN},{label:s("Australia Post"),value:n.AUSTRALIA_POST},{label:s("Canada Post"),value:n.CANADA_POST},{label:s("DHL Express"),value:n.DHL},{label:s("DHL eCommerce"),value:n.DHL_ECOMMERCE},{label:s("DPD"),value:n.DPD},{label:s("FedEx"),value:n.FEDEX},{label:s("Royal Mail"),value:n.ROYAL_MAIL},{label:s("UPS"),value:n.UPS},{label:s("USPS"),value:n.USPS},{label:s("Other"),value:n.CUSTOM}];var a=t.Squarespace.DialogFields.OrderTracking=t.Base.create("tracking",t.Squarespace.DialogField2,[],{initializer:function(){this.get("data").each(function(e){e.get("shippingDetails").requiresShipping&&this.add({order:e})},this)},destructor:function(){if(this._customCarrierDialog){this._customCarrierDialog.destroy();this._customCarrierDialog=null}this._activeRow=null},renderUI:function(){a.superclass.renderUI.call(this);this._childrenContainer=this.get("contentBox").one(".orders-list")},syncUI:function(){a.superclass.syncUI.call(this);0===this.size()&&this.hide()},hide:function(){this.hideErrors();a.superclass.hide.call(this)},hideErrors:function(){this.each(function(e){e.hideErrors()})},validateOrders:function(){var e=t.Array.every(this._items,function(e){return e.validate()});return e},_clearCarrierOnDialogClose:function(){this._activeRow&&this._activeRow.clearCarrierSelection(this._activeRow)},_createCustomCarrierDialog:function(){this._customCarrierDialog=new t.Squarespace.EditingDialog({title:s("Custom Carrier"),name:"customCarrierDialog",className:"sqs-widgets-commerce-custom-carrier-dialog",savingText:s("Saving"),disableTips:false,closeOthers:false,overlay:.5,width:300,discardChangesConfirmation:false,tabs:[{fields:[{ctor:t.Squarespace.DialogFields.Description,config:{text:s("Enter the name of the carrier associated with this tracking number.")}},{ctor:t.Squarespace.DialogFields.Text,config:{name:"carrierName","strings.placeholder":s("Carrier Name")}}]}],buttons:[{type:"cancel",title:s("Cancel")},{type:"saveAndClose",title:s("Ok")}]});this._registerEvent(this._customCarrierDialog.on("send-requested",this._updateCustomCarrier,this));this._registerEvent(this._customCarrierDialog.on("close",this._clearCarrierOnDialogClose,this))},_updateCustomCarrier:function(){var e=this._customCarrierDialog.getData();if(i(e.carrierName)){this._activeRow.updateCarrier({carrierValue:n.UNKNOWN});this._customCarrierDialog.close();return}this._activeRow.updateCarrier({carrierValue:n.CUSTOM,carrierName:e.carrierName});this._activeRow=null;this._customCarrierDialog.close()},_showCustomCarrierDialogForRow:function(e){this._customCarrierDialog||this._createCustomCarrierDialog();this._activeRow=e;this._customCarrierDialog.show()}},{CSS_PREFIX:"sqs-order-tracking",HANDLEBARS_TEMPLATE:"dialog-order-tracking.html",ATTRS:{defaultChildType:{value:t.Squarespace.DialogFields.OrderTracking.OrderTrackingRow},strings:{value:{order:s("Order"),recipient:s("Recipient"),tracking:s("Tracking Number"),carrier:s("Carrier")}},data:{value:null,validator:t.Squarespace.AttrValidators.isObject,setter:function(e){if(e instanceof t.ModelList)return e;if(e instanceof t.Model)return new t.ModelList({items:e});return new t.ModelList(e)}},carrierOptions:{value:e},cloneInitialData:{value:false}}})},"1.0",{requires:["base","squarespace-dialog","squarespace-dialog-field-2","squarespace-dialog-order-tracking-row","squarespace-dialog-order-tracking-template"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-payment-link.js":function(e,t,a){var i=a("./src/main/webapp/universal/packages/enums/PaymentProviderType.js");var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-payment-link",function(s){s.namespace("Squarespace.DialogFields");var n=s.Squarespace.DialogFields.PaymentLink=s.Base.create("PaymentLink",s.Squarespace.DialogField2,[],{_getHBTemplateContext:function(){var e=n.superclass._getHBTemplateContext.call(this);var t={};t[i.STRIPE]=r("View in Stripe");t[i.PAYPAL]=r("View in PayPal");t[i.SQUARE]=r("View in Square");var a=t[this.get("type")];return s.merge(e,{label:a})}},{CSS_PREFIX:"sqs-dialog-payment-link",HANDLEBARS_TEMPLATE:"dialog-payment-link.html",ATTRS:{strings:{value:{charge:r("Charge")}},chargeId:{value:null,validator:s.Squarespace.AttrValidators.isString},url:{value:null,validator:s.Squarespace.AttrValidators.isString},type:{value:null,validator:s.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["squarespace-dialog-field-2","squarespace-dialog-payment-link-template","squarespace-util"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-range-table.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-dialog-range-table",function(a){a.namespace("Squarespace.DialogFields");var t=a.Squarespace.DialogFields.RangeTableRow=a.Base.create("rangeTableRow",a.Squarespace.DialogField2,[],{renderUI:function(){t.superclass.renderUI.call(this);this.get("contentBox").appendChild(a.Node.create(a.Handlebars.render(this._getTemplate(),this.getAttrs())))},bindUI:function(){t.superclass.bindUI.call(this);this._bindPriceInput();this._isLastRow()||this._bindRangeInput();this._isFirstRow()||this._isLastRow()||this._registerEvent(this.get("contentBox").one(".remove-row").on("click",this._remove,this));this.get("contentBox").all("input").on("focus",function(e){e.currentTarget.scrollIntoView()});this.after(["fromChange","toChange"],this.syncUI)},syncUI:function(){t.superclass.syncUI.call(this);var e=this.get("contentBox");e.one(".fromRange").setHTML(parseFloat(this.get("from")).toFixed(2));this._isLastRow()||e.one('input[name="toRange"]').set("value",parseFloat(this.get("to")).toFixed(2))},getData:function(){return{from:this.get("from"),to:this.get("to"),priceCents:this.get("priceCents")}},fixRange:function(e){if(this._isFirstRow()){this.set("from",0);return}this.set("from",e.get("to")+.01);this.get("from")>=this.get("to")&&this.set("to",this.get("from")+.01);this._isLastRow()&&this.set("to",-1)},_bindRangeInput:function(){var e=this.get("contentBox").one('input[name="toRange"]').plug(a.Squarespace.Plugin.NumericFormatter,{displayFormatter:function(e){return e.toFixed(2)}});this._registerEvent(e.after("blur",function(e){this.set("to",parseFloat(e.currentTarget.get("value")))},this))},_bindPriceInput:function(){var e=this.get("contentBox");var t=e.one('input[name="priceCents"]').plug(a.Squarespace.Plugin.MoneyFormatter);this._registerEvent(t.after("blur",function(e){this.set("priceCents",e.currentTarget.moneyFormatterPlugin.get("data"))},this))},_getTemplate:function(){if(this._isFirstRow())return this.getProperty("FIRST_ROW_TEMPLATE");if(this._isLastRow())return this.getProperty("LAST_ROW_TEMPLATE");return this.getProperty("ROW_TEMPLATE")},_isFirstRow:function(){return 0===this.get("index")},_isLastRow:function(){return this.get("index")===this.get("parent").size()-1},_remove:function(e){this.remove(true);e.stopPropagation()},BOUNDING_TEMPLATE:'<tr class="range-row"></tr>',CONTENT_TEMPLATE:null},{FIRST_ROW_TEMPLATE:'<td><span class="fromRange">{{from}}</span>&nbsp;'+n("to",{})+'&nbsp;<input name="toRange" type="text" value="{{to}}" /></td><td><input type="text" name="priceCents" value="{{priceCents}}" /></td>',ROW_TEMPLATE:'<td><span class="fromRange">{{from}}</span>&nbsp;'+n("to",{})+'&nbsp;<input name="toRange" type="text" value="{{to}}" /></td><td><input type="text" name="priceCents" value="{{priceCents}}" /></td><td class="remove"><div class="remove-row"></div></td>',LAST_ROW_TEMPLATE:'<td><span class="fromRange">{{from}}</span>&nbsp;'+n("to",{})+'&nbsp;<span class="infinite"></span></td><td><input type="text" name="priceCents" value="{{priceCents}}" /></td>',ATTRS:{from:{value:0,validator:a.Squarespace.AttrValidators.isNumber},to:{value:1,validator:a.Squarespace.AttrValidators.isNumber},priceCents:{value:100,validator:a.Squarespace.AttrValidators.isNumber}}});var s=a.Squarespace.DialogFields.RangeTable=a.Base.create("rangeTable",a.Squarespace.DialogField2,[],{renderUI:function(){s.superclass.renderUI.call(this);this._childrenContainer=a.one(".range-table-body");this.add(this.get("data"));this._updateRowData()},bindUI:function(){s.superclass.bindUI.call(this);this.after(["addChild","removeChild"],this._updateRowData,this);var e=this.get("contentBox");e.delegate("blur",this._updateRowData,"input",this);this._registerEvent(e.one(".add-row").on("click",this._insertRow,this))},_insertRow:function(){var e=this.item(this.size()-2);this.add({from:e.get("to"),to:Math.floor(e.get("to")+1),priceCents:e.get("priceCents")},this.size()-1);this.get("contentBox").one(".add-row").scrollIntoView()},_updateRowData:function(){this._fixRanges();this.set("data",this._items.map(function(e){return e.getData()}))},_fixRanges:function(){this.each(function(e,t){e.fixRange(this.item(t-1))},this)}},{CSS_PREFIX:"sqs-range-table",HANDLEBARS_TEMPLATE:"dialog-range-table.html",ATTRS:{data:{value:[{from:0,to:1,priceCents:100},{from:1.01,to:-1,priceCents:150}],validator:a.Squarespace.AttrValidators.isArray},defaultChildType:{value:a.Squarespace.DialogFields.RangeTableRow}}})},"1.0",{requires:["base","json","squarespace-animations","squarespace-dialog-field-2","squarespace-dialog-range-table-template","squarespace-plugin-money-formatter","squarespace-plugin-numeric-formatter"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-regional-shipping.js":function(e,t,a){var l=a("./common/temp/node_modules/react/index.js");var c=a("./common/temp/node_modules/react-dom/index.js");var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var u=a("./src/main/webapp/universal/packages/enums/Features.js");var d=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeatureGateStore/index.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js");var h=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/index.js");var i=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getShippableRegions.js");var v=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/markSelectedRegions.js");var g=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/filterSelectedRegions.js");YUI.add("squarespace-dialog-regional-shipping",function(n){var r={title:s("Ships To"),description:s("Define the countries, states, provinces, and postal codes for this shipping option."),searchPlaceholder:s("Add Country")};var o=n.Squarespace.DialogFields.RegionalShipping=n.Base.create("RegionalShipping",n.Squarespace.DialogField2,[],{initializer:function(){this.allRegions=i();this.reactInstance=null},bindUI:function(){o.superclass.bindUI.call(this);this.after("dataChange",this.syncUI,this);this.after("containerElChange",this.syncUI,this)},syncUI:function(){o.superclass.syncUI.call(this);var e=this.get("contentBox");var t=this.get("containerEl");var a=this.get("data");var s=v(this.allRegions,a.regions);var n=!!a.restOfWorld;var i=l.createElement(h,{containerEl:t,title:r.title,description:r.description,placeholder:r.searchPlaceholder,restOfWorld:n,onRestOfWorldChange:this.onRestOfWorldChange.bind(this),regions:s,selectedRegions:g(s),isPostalCodeShippingEnabled:d.isFeatureEnabled(u.COMMERCE_POSTAL_CODE_SHIPPING),postalCodeShippingUpsellInfo:p.getUpsellCopy(u.COMMERCE_POSTAL_CODE_SHIPPING),isWebsiteInTrial:m.isTrial(),onChange:this.onChange.bind(this),onSelect:this.onSelect.bind(this),onRemove:this.onRemove.bind(this)});this.reactInstance=c.render(i,e.getDOMNode())},onSelect:function(e){var t=this.get("data");var a=n.clone(t,true);var s=a.regions;s[e.twoLetterIsoCode]=n.merge(e,{selected:true});this.set("data",a)},onRemove:function(e){var t=this.get("data");var a=n.clone(t,true);var s=a.regions;delete s[e.twoLetterIsoCode];this.set("data",a)},onChange:function(e){var t=this.get("data");var a=n.clone(t,true);var s=a.regions;s[e.twoLetterIsoCode]=e;this.set("data",a)},onRestOfWorldChange:function(e){var t=this.get("data");t.restOfWorld=e;this.set("data",t)},didDataChange:function(){var e=this._initialData;var t=this.get("data");return JSON.stringify(e)!==JSON.stringify(t)},destructor:function(){var e=this.get("contentBox");c.unmountComponentAtNode(e.getDOMNode());this.reactInstance=null}},{ATTRS:{data:{value:{restOfWorld:false,regions:{}},validator:n.Squarespace.AttrValidators.isObject},containerEl:{value:null,validator:n.Squarespace.AttrValidators.isNullOrInstanceOf(HTMLElement)},errorFlyoutAnchor:{getter:function(){return this.get("contentBox").one("input.u-field-search")}}}})},"1.0",{requires:["base","node","squarespace-dialog-field-2"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-shipping-diagram.js":function(e,t,o){var s=o("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var p=o("./src/main/webapp/universal/src/shared/i18n/index.ts").pluralize;YUI.add("squarespace-dialog-shipping-diagram",function(u){u.namespace("Squarespace.DialogFields");var d=function(e){return Math.round(100*e)/100};function i(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(e){return false}}var t=u.Squarespace.DialogFields.ShippingSummary=u.Base.create("shippingSummary",u.Squarespace.DialogField2,[],{initializer:function(){var e=this.get("data");var t=e.order;var a=e.shippingConfiguration;var s=a.get("containers");var n=a.get("efficiency");var i=0;var r=0;var o=0;s.each(function(e){i+=e.get("items").size();r+=e.get("rate");o+=this._containerWeight(e)},this);r=d(r/100);o=d(o);n=u.Lang.isNumber(n)?Math.round(100*n)+"%":"N/A";var l=p({one:"{%n} package",other:"{%n} packages"},s.size());var c=p({one:"{%n} item",other:"{%n} items"},i);this.setAttrs({shippingMethod:t.shippingDetails.shippingOptionName,numContainersMessage:l,numItemsMessage:c,totalCost:r,totalWeight:o,efficiency:n})},_containerWeight:function(e){var t=0;e.get("items").each(function(e){t+=e.get("weight").value});return t},_getHBTemplateContext:function(){var e=t.superclass._getHBTemplateContext.call(this);return u.merge(e,{strings:{shipmentOverview:s("Shipment Overview"),description:s("Below is a summary of this order's shipping information"),service:s("Service"),packages:s("Packages"),items:s("Items"),weight:s("Total Weight")}})}},{CSS_PREFIX:"sqs-shipping-summary",HANDLEBARS_TEMPLATE:"dialog-shipping-summary.html",ATTRS:{readOnly:{value:true},weightUnit:{value:null}}});var a=u.Squarespace.DialogFields.ShippingLegend=u.Base.create("shippingLegend",u.Squarespace.DialogField2,[],{initializer:function(){this.publish("itemActivated")},bindUI:function(){a.superclass.bindUI.call(this);var e=this.get("contentBox");e.delegate("mouseover",function(e){this.fire("itemActivated",{boxIndex:parseInt(e.currentTarget.getAttribute("data-box-index"))})},".shipping-legend-item",this);e.delegate("mouseout",function(e){this.fire("itemActivated",{boxIndex:-1})},".shipping-legend-item",this)},syncUI:function(){a.superclass.syncUI.call(this);if(u.Lang.isValue(this.get("data"))){this._setTitle();this._setItems();this._refresh()}},_setTitle:function(){var e=this.get("data").get("items");this.set("title",p({one:"{%n} Item in Package",other:"{%n} Items in Package"},e.size()))},_setItems:function(){var e=this.get("data").get("items");var t=0;e.each(function(e){e.setAttrs({grayColor:this._genRandomGrey(),activeColor:this._genRandomColor(),length:d(e.get("length").value),height:d(e.get("height").value),width:d(e.get("width").value),boxIndex:t,x:d(e.get("x").value),y:d(e.get("y").value),z:d(e.get("z").value)});t++},this);this.set("items",e)},_refresh:function(){var e=this.get("contentBox");var t=this._getTemplateInfo();var a=this._getHBTemplateContext();var s=t.template(a);e.empty();e.append(s)},_genRandomGrey:function(){var e="#";var t=2;var a=(Math.random()*(12-t)<<0)+t;for(var s=0;s<6;s++){var n=0;var i=(a+n).toString(16);e+=i}return e},_genRandomColor:function(){var e=["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"];return e[Math.floor(Math.random()*e.length)]},_getHBTemplateContext:function(){var e=a.superclass._getHBTemplateContext.call(this);u.Lang.isValue(e.items)&&(e.items=e.items.toJSON());return e}},{CSS_PREFIX:"sqs-shipping-legend",HANDLEBARS_TEMPLATE:"dialog-shipping-legend.html",ATTRS:{strings:{value:{item:s("Item"),dimensions:s("Dimensions"),weight:s("Weight")}},readOnly:{value:true},dimensionUnit:{value:null},order:{value:null},weightUnit:{value:null}}});var r=u.Squarespace.DialogFields.ShippingRendering=u.Base.create("ShippingRendering",u.Squarespace.DialogField2,[],{destructor:function(){cancelAnimationFrame(this.animationId);this.floorMesh=null;this._clearScene();this.scene=null;this.clock=null;this.camera=null;this.renderer=null;this.materials=null;this.group=null;this.THREE=null},renderUI:function(){r.superclass.renderUI.call(this);var t=this;var e=this.get("canvasWidth");var a=this.get("canvasHeight");var s=this.get("contentBox");var n=s.one(".canvas-container");n.setStyles({width:e,height:a});this.glSupported=false;o.e(107).then(function(e){return o("./common/temp/node_modules/three/three.js")}.bind(null,o)).catch(o.oe).then(function(e){t.THREE=e;t._setup();if(!t.glSupported){t._bindDataChange();return}t._addCamera();t._addLighting();t._addFloor();t._bindDataChange()})},_bindDataChange:function(){this.get("data")&&this._loadScene();this.after("dataChange",this._loadScene)},setActiveBoxIndex:function(e){this._activeBoxIndex=e},_setup:function(){var e=this.THREE;var t=this.get("contentBox");var a=this.get("canvasWidth");var s=this.get("canvasHeight");var n={antialias:true};i()?this.renderer=new e.WebGLRenderer(n):this.renderer=new e.CanvasRenderer(n);this.glSupported=true;this.renderer.setSize(a,s);this.renderer.setClearColor(13421772,1);this.renderer.shadowMapEnabled=true;this.renderer.shadowMapSoft=true;this.renderer.shadowMapType=e.PCFSoftShadowMap;this.scene=new e.Scene;this.clock=new e.Clock(true);t.one(".canvas-container").setHTML(this.renderer.domElement);this.isIdle=true},_addCamera:function(){var e=this.THREE;var t=this.get("canvasWidth");var a=this.get("canvasHeight");var s=t/a;if(!u.Lang.isNumber(s)||s<=0)throw new Error("Shipping rendering aspect must be greater than 0");this.camera=new e.PerspectiveCamera(45,s,1,1e3);this.camera.position.z=100},_addLighting:function(){var e=this.THREE;var t=new e.SpotLight;t.position.set(0,800,0);t.castShadow=true;t.shadowDarkness=.1;this.scene.add(t)},_addFloor:function(){var e=this.THREE;var t=new e.PlaneBufferGeometry(1e3,1e3);var a=new e.MeshBasicMaterial({color:"#ccc"});var s=(new e.Matrix4).makeRotationX(-Math.PI/2);this.floorMesh=new e.Mesh(t,a);this.floorMesh.applyMatrix(s);this.floorMesh.position.y=-5;this.floorMesh.receiveShadow=true;this.scene.add(this.floorMesh)},_focusOnContainer:function(){var e=this.get("data");var t=Math.max(e.get("length").value,e.get("width").value);var a=this.camera.aspect;var s=this.camera.position.z;this.camera.fov=2*Math.atan(t/a/s)*(180/Math.PI);this.camera.updateProjectionMatrix();this.camera.lookAt(this.group.position);this.floorMesh.position.y=-1*e.get("height").value},_loadScene:function(){var o=this.THREE;cancelAnimationFrame(this.animationId);this._clearGroup();this.materials=[];this.group=new o.Object3D;var e=this.get("data");var t=new o.MeshBasicMaterial({color:"#ffffff",opacity:.3,transparent:true});var l=e.get("length").value;var c=e.get("height").value;var u=e.get("width").value;var a=.1;var s=new o.BoxGeometry(l+a,c+a,u+a);var n=new o.Mesh(s,t);n.castShadow=true;n.receiveShadow=false;this.group.add(n);e.get("items").each(function(e){var t=e.get("length");var a=e.get("height");var s=e.get("width");var n=new o.BoxGeometry(t,a,s);var i=new o.MeshBasicMaterial({color:e.get("grayColor")});var r=new o.Mesh(n,i);r.position.x=e.get("x")+t/2-l/2;r.position.y=e.get("y")+a/2-c/2;r.position.z=e.get("z")+s/2-u/2;r.scale.multiplyScalar(.97);this.group.add(r);this.materials.push(i)},this);this.group.position.y=2;this.group.rotation.x=5*Math.PI/180;this.scene.add(this.group);this._focusOnContainer();this._render()},_clearGroup:function(){this.scene.remove(this.group)},_clearScene:function(){this.scene.children.forEach(function(e){this.scene.remove(e)},this)},_render:function(){var s=this.THREE;this.isIdle=false;var n=this.get("data").get("items");this.materials.forEach(function(e,t){var a=n.item(t);t===this._activeBoxIndex?e.color=new s.Color(a.get("activeColor")):e.color=new s.Color(a.get("grayColor"))},this);var e=this.clock.getDelta();var t=30;this.group.rotation.y+=t*e*Math.PI/180;this.renderer.render(this.scene,this.camera);this.isIdle=true;this.animationId=requestAnimationFrame(this._render.bind(this))}},{CSS_PREFIX:"sqs-shipping-diagram",HANDLEBARS_TEMPLATE:"dialog-shipping-rendering.html",ATTRS:{strings:{value:{packingConfiguration:s("Packing Configuration"),loading:s("Loading")}},readOnly:{value:true},canvasHeight:{value:0,validator:u.Squarespace.AttrValidators.isNumber},canvasWidth:{value:0,validator:u.Squarespace.AttrValidators.isNumber},time:{value:0,validator:u.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","json-parse","json-stringify","squarespace-dialog-field-2","squarespace-dialog-fields","squarespace-dialog-shipping-legend-template","squarespace-dialog-shipping-rendering-template","squarespace-dialog-shipping-summary-template","squarespace-hb-pluralize"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-shipping-rule-list.js":function(e,t,a){var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var p=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var m=a("./src/main/webapp/universal/packages/enums/Features.js");var h=a("./src/main/webapp/universal/packages/enums/ShippingRateTypes.js");var v=a("./src/main/webapp/universal/src/shared/constants/I18N/Countries.js");var g=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js");var f=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSettingsStore/index.js");var n=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var b=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeatureGateStore/index.js");var y=a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js");var o=a("./src/main/webapp/universal/src/shared/utils/commerce/StoreCurrencyManager.js");var i=a("./src/main/webapp/universal/packages/enums/ShippingOptionMarkupType.js");var l=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var c=a("./src/main/webapp/universal/src/shared/i18n/commerce/MoneyFormatterProvider.ts");var w=a("./src/main/webapp/universal/src/shared/i18n/index.ts").formatNumber;var S=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/RegionFormatter.js");var C=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getShippableRegions.js");var _=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/markSelectedRegions.js");var T=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/convertRegionsToMap.js");var j=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/convertRegionsToArray.js");var q=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackShippingSetup.ts").trackAddShippingOption;YUI.add("squarespace-dialog-shipping-rule-list",function(u){u.namespace("Squarespace.DialogFields");var a=C();var s=4;var r=u.Squarespace.Commerce.ShippingEnums;var t=u.Squarespace.DialogFields.ShippingRuleList=u.Base.create("ShippingRuleList",u.Squarespace.DialogField2,[],{bindUI:function(){t.superclass.bindUI.call(this);var e=this.get("contentBox");e.delegate("click",this.showShippingTypeChooser,".no-options",this);e.delegate("click",this.showShippingTypeChooser,".list-add",this);e.delegate("click",function(e){this._addEditOption(e.currentTarget,true)},".rule",this)},syncUI:function(){t.superclass.syncUI.call(this);this._updateRules(this.get("data"))},_customRender:function(e){var t=this.get("contentBox");t.one(".list-body").empty();var a=t.one(".list-add");if(0===e.length){this._showNoOptions();return}a.setContent(d("Add Shipping Option"));a.show();var s={};var n=false;e.forEach(function(e){e.countries=this._getFullCountryList(e.regions);u.Array.each(e.countries,function(e){s[e]=true});e.availableEverywhere&&(n=true);t.one(".list-body").append(this._createRuleNode(e))},this);t.one(".list-summary").setContent(this._getStoreSupportString(s,n))},_createRuleNode:function(e){var t=u.Node.create(this._createRuleEl(e));e.isValid||t.append('<div class="warning"></div>');t.setData(e);return t},_createRuleEl:function(e){var t=this.getProperty("SHIPPING_RULE_TEMPLATES");var a=this._getShipsToString(e);var s=o.getStoreCurrency();var n;n=e.markup.markupType===i.FIXED_AMOUNT?c.formatter.format(new l(e.markup.markupValue/100,s)):w(e.markup.markupValue)+"%";if(e.rateType===h.FLAT)return u.Lang.sub(t.FLAT,{name:e.name,perOrderFeeCents:c.formatter.format(new l(e.perOrderFeeCents/100,s)),perItemFeeCents:c.formatter.format(new l(e.perItemFeeCents/100,s)),shipsTo:a});if(e.rateType===h.WEIGHT_RANGE)return u.Lang.sub(t.WEIGHT_RANGE,{name:e.name,shipsTo:a});if(e.rateType===h.FEDEX)return u.Lang.sub(t.FEDEX,{name:e.name,markup:n,shipsTo:a});if(e.rateType===h.UPS)return u.Lang.sub(t.UPS,{name:e.name,markup:n,shipsTo:a});if(e.rateType===h.USPS)return u.Lang.sub(t.USPS,{name:e.name,markup:n,shipsTo:a})},_getStoreSupportString:function(e,t){if(t)return d("Your store is prepared to sell to customers <strong>everywhere in the world</strong>.");var a=u.Object.keys(e);if(a.length>0){var s=d("Your store is prepared to sell to customers in:");return u.Lang.sub(s+'<div class="country-list">{countriesString}</div>',{countriesString:a.join(", ")})}return""},_getShipsToString:function(e){var t=this._getShortCountryList(e.regions,s);if(e.availableEverywhere)return d("Rest of the world");if(e.regions.length>s)return d("{sub1}, and {sub2} other countries",{sub1:t.join(", "),sub2:e.regions.length-s+1});return t.join(", ")},_unwrapFormulaField:function(e){if(u.Lang.isObject(e.formula)){var t=e.formula;delete e.formula;e.markup={markupType:t.markupType||i.PERCENTAGE,markupValue:t.markupValue||0};return u.merge(e,t)}return e},showUnsupportedProductsWarning:function(e){var t=new u.Squarespace.EditingDialog({style:"flyout",name:"unsupported-products",savingText:d("Moving to Inventory"),width:410,overlay:.5,closeOthers:false,buttons:[{type:"cancel",title:d("Ignore")},{type:"saveAndClose",title:d("Fix")}],primaryTabs:[{title:d("Unable to Calculate Shipping Rates"),fields:[{ctor:u.Squarespace.DialogFields.Description,config:{text:d('The shipping rates for some of your products cannot be calculated and will be ignored at checkout. <br /><br /><strong>You may be undercharging for shipping as a result.</strong> <br /><br />To fix this issue you must populate the weight and dimensions of all of your products and make sure they do not exceed any carrier limits. <a href="{uspsCalculatedShippingLink}" target="_blank">Learn more</a>',{uspsCalculatedShippingLink:n.CALCULATED_SHIPPING_RATES})}}]}]});var a=true;this._registerEvent(t.on("send-requested",function(){a=false;u.later(500,this,function(){u.Squarespace.Singletons.Location.go("/commerce/inventory/");this.close()})}));this._registerEvent(t.on("close",function(){a&&this._addEditOption(e,false)},this));t.show()},_updateRules:function(e){e=u.Lang.isArray(e)?e.map(this._unwrapFormulaField):[];this._customRender(e)},_showNoOptions:function(){var e=this.get("contentBox");e.one(".list-summary").setContent("");e.one(".list-add").hide();e.one(".list-body").append('<div class="no-options"><div class="empty-text">'+d("Add Shipping Option")+"</div></div>")},_getCountryTags:function(){return u.Object.values(u.Squarespace.Localities.COUNTRY_OPTIONS).filter(function(e){return!e.empty}).map(function(e){return e.title})},showShippingTypeChooser:function(){var e=[{value:h.FLAT,title:d("Flat Rate"),description:d("Define a charge for every order and a flat fee for each item.")},{value:h.WEIGHT_RANGE,title:d("Depending on Weight"),description:d("Let the cost depend on the total weight of the purchase.")}];var t=p.isFeatureEnabled(m.COMMERCE);var a=p.isFeatureEnabled(m.REAL_TIME_SHIPPING_RATES);var s=b.getUpsellCopy(m.REAL_TIME_SHIPPING_RATES);var n=y.isTrial();var i=!a&&t;var r;t||n||(r={ctor:u.Squarespace.DialogFields.FeatureGateMenu,config:{analyticsId:"commerce-add-shipping-option",feature:m.REAL_TIME_SHIPPING_RATES}});e.push({value:u.Squarespace.ShippingRateTypes.FEDEX,title:d("Carrier Calculated via FedEx"),description:d("Request a quote from FedEx using weight, distance, and package size."),upsellLocked:i,upsellInfo:s},{value:u.Squarespace.ShippingRateTypes.UPS,title:d("Carrier Calculated via UPS"),description:d("Request a quote from UPS using weight, distance, and package size."),upsellLocked:i,upsellInfo:s},{value:u.Squarespace.ShippingRateTypes.USPS,title:d("Carrier Calculated via USPS"),description:d("Request a quote from the USPS using weight, distance, and package size."),upsellLocked:i,upsellInfo:s});var o=new u.Squarespace.DialogFlow({fieldName:"rateType",initialField:r,title:d("Add Shipping Option"),description:d("Shipping Options may be calculated by a variety of methods. Choose how you would like your option's costs to be calculated."),options:e,nextDialogGenerator:u.bind(this._buildAddEditOptionDialog,this)});var l=f.getState();var c=u.Object.getValue(l,["storeSettings","contactLocation","addressCountry"]);u.Squarespace.Localities.countryCodeFromName(c)||(c=g.getState().getIn(["location","addressCountry"]));u.Squarespace.Localities.countryCodeFromName(c)||(c=v.US);o.showPrescreen({countries:[c],availableEverywhere:false,regions:[]})},_buildAddEditOptionDialog:function(l){var e=void 0===l.id;var t=l.rateType;var i=this._isCarrierCalculated(t);var a=this._buildAddEditButtons(e);var s=570;l.rateType===h.FEDEX&&(s=590);var c;this._ruleEditDialog=c=new u.Squarespace.EditingDialog({name:"addEditRule",style:"flyout",savingText:d("Saving Shipping Option"),initialData:l,overlay:.5,width:s,height:460,closeOthers:false,discardChangesConfirmation:true,buttons:a,primaryTabs:this._getPrimaryTabs(l),secondaryTabs:this._getSecondaryTabs(l)});var n=function(e){c.close();this._updateRules(e)};var r=function(e){var t=e.errors||{};if(t.containerKey){c.getField("customContainers").setErrorAnchor(t.containerKey);delete t.containerKey}u.Object.each(t,function(e,t){var a={};a[t]=e;c.showErrors(a)},this)};this._registerEvent(c.on("send-requested",function(){var t=c.getData();if(t.rateType===h.FLAT){t.formula={formulaName:"FLAT",perOrderFeeCents:t.perOrderFeeCents,perItemFeeCents:t.perItemFeeCents};delete t.perOrderFeeCents;delete t.perItemFeeCents}else if(t.rateType===h.WEIGHT_RANGE){t.formula={formulaName:"WEIGHT_RANGE",ranges:t.ranges};delete t.ranges}else if(this._isCarrierCalculated(t.rateType)){t.formula={formulaName:t.formulaName,selectedServices:t.selectedServices,markupType:t.markup.markupType,markupValue:t.markup.markupValue,customContainers:t.customContainers,useOnlinePrice:t.useOnlinePrice,useSystemContainers:t.useSystemContainers};delete t.useSystemContainers;delete t.useOnlinePrice;delete t.customContainers;delete t.markup;delete t.serviceType}t.countries=t.countries.map(function(e){return u.Squarespace.Localities.countryCodeFromName(e)}).filter(function(e){return null!==e});if(t.shippingZones){t.regions=j(t.shippingZones.regions);t.availableEverywhere=t.shippingZones.restOfWorld;delete t.shippingZones}var e="post";var a="";if(void 0!==l.id){e="put";a="/"+l.id}u.Data[e]({headers:{"Content-Type":"application/json"},url:"/api/commerce/shipping-options"+a,data:u.JSON.stringify(t),success:function(e){n.call(this,e);q(t.formula.formulaName)},failure:r},this)},this));this._registerEvent(c.on("remove-requested",function(){var e=function(){c.clearEdited();u.Data.del({url:"/api/commerce/shipping-options/"+l.id,success:n},this)};new u.Squarespace.Widgets.Confirmation({"strings.title":d("Remove Shipping Option"),"strings.message":d("Are you sure you wish to remove this shipping option?")}).on("confirm",e,this)},this));this._registerEvent(c.on("datachange",function(e){if("availableEverywhere"===e.getName()){var t=c.getField("countries");true===e.getValue()?t.temporaryHide():t.temporaryShow()}},this));c.after("shown",function(){if(i){var e=c.getField("carrierType").get("data");var t=c.getField("selectedServices");var a=c.getField("useOnlinePrice");var r=c.getField("useSystemContainers");var o=c.getField("systemContainers");this._registerEvent(t.after("check",function(n){n=n||{};var i=t.get("data")||l.selectedServices;this._fetchSystemContainers(e,i,function(e){var t=e.containers||[];var a=e.unsupportedServices;o.set("data",t);var s=this._onlyGroundServices(i,a);r.set("visible",!s);o.set("isSupported",!s);n.initialSync&&c.clearEdited()},this)},this));t.fire("check",{initialSync:true});if(a){var s=function(e){e.target===e.currentTarget.one(".learn-more-link")&&e.stopPropagation()};this._registerEvent(a.get("contentBox").on("click",s))}}else{var n=c.getField("shippingZones");n.set("containerEl",c.mainEl.getDOMNode())}},this);return c},_addEditOption:function(e,t){var a={countries:["US"]};a.regions={};a.availableEverywhere=false;var s=u.merge(a,e.getData());if(t&&!s.isValid){this.showUnsupportedProductsWarning(e);return}var n=this._buildAddEditOptionDialog(s);n.show()},_getSecondaryTabs:function(e){if(this._isCarrierCalculated(e.rateType))return;return[{tabTitle:d("Shipping Zones"),scroll:false,fields:[{ctor:u.Squarespace.DialogFields.RegionalShipping,name:"shippingZones",config:{data:{restOfWorld:e.availableEverywhere,regions:e.availableEverywhere?{}:T(e.regions)}}}]}]},_getPrimaryTabs:function(e){var t=e.rateType;var a={ctor:u.Squarespace.DialogFields.Text,config:{name:"name",className:"thin",maxLength:65,"strings.title":d("Option Name"),"strings.description":d('e.g. "FedEx Next Day", "USPS Express Mail"'),required:true}};var s=u.Squarespace.Commerce.measurementStandard();var n=u.Squarespace.Commerce.weightUnit();var i=o.getStoreCurrency();if(t===h.FLAT)return[{title:d("Edit Flat Rate"),tabTitle:d("Formula"),fields:[a,{type:"splitter",fields:[{ctor:u.Squarespace.DialogFields.MoneyText,config:{name:"perOrderFeeCents",width:.5,required:true,"strings.title":d("Per Order Fee"),"strings.description":d("A base fee for every order placed")}},{ctor:u.Squarespace.DialogFields.MoneyText,config:{name:"perItemFeeCents",width:.5,required:true,"strings.title":d("Fee Per Item"),"strings.description":d("An additional fee for each physical item in the order")}}]},{type:"hidden",name:"rateType"}]}];if(t===h.WEIGHT_RANGE)return[{title:d("Weight Range Rate"),tabTitle:d("Formula"),scroll:true,fields:[a,{ctor:u.Squarespace.DialogFields.RangeTable,name:"ranges",strings:{title:d("Weight Ranges"),description:d("Depending on the total order weight, you can charge different amounts for shipping."),dimensionsLabel:u.Lang.sub(d("Weight ({units})"),{units:n}),valueLabel:d("Cost")}},{type:"hidden",name:"rateType"}]}];if(t===h.FEDEX)return[{title:d("FedEx Real-Time Rates"),tabTitle:d("Formula"),fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Configure FedEx Rates"),text:d('Quotes are requested directly from FedEx using weight, distance, and package size. Compare quotes by using the <a href="https://www.fedex.com/ratefinder/home" target="_blank">FedEx Rate Calculator</a>.')}},{ctor:u.Squarespace.DialogFields.CheckboxGroup,config:{name:"selectedServices",options:this._buildServiceOptions(r.CarrierTypes.FEDEX,e.selectedServices),strings:{title:d("Available Services"),description:d("Select the services you would like your store to support.")},className:"checkbox-group"}},{type:"splitter",fields:[{ctor:u.Squarespace.DialogFields.MarkupInput,config:{name:"markup",title:d("Markup"),description:d("Add a markup to the shipping costs estimated by FedEx."),storeCurrency:i,width:.5}},{ctor:u.Squarespace.DialogFields.Text,config:{name:"zipOrigination",width:.5,className:"thin","strings.title":d("Ship from ZIP Code"),"strings.description":d("The ZIP Code where you will be shipping from.")}}]},{type:"hidden",name:"formulaName",data:"FEDEX"},{type:"hidden",name:"carrierType",data:r.CarrierTypes.FEDEX},{type:"hidden",name:"rateType"}]},{title:d("FedEx Real-Time Rates"),tabTitle:d("FedEx Containers"),scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("FedEx Containers"),text:d("Please indicate if you would like containers provided by FedEx to be considered when calculating shipping costs. Shipping costs will be estimated at checkout by packing the order into as few of these containers as possible. ")}},{ctor:u.Squarespace.DialogFields.Check,name:"useSystemContainers","strings.title":d("Use FedEx Containers"),defaultValue:true},{ctor:u.Squarespace.DialogFields.ShippingSystemContainerTable,config:{name:"systemContainers",visible:e.useSystemContainers,measurementStandard:s}}]},{title:d("FedEx Real-Time Rates"),tabTitle:d("Custom Containers"),scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Custom Containers"),text:d("Add any custom boxes you use for shipping. Shipping costs will be estimated at checkout by packing the order into as few of these containers as possible.")}},{ctor:u.Squarespace.DialogFields.ShippingContainerTable,config:{carrier:r.CarrierTypes.FEDEX,name:"customContainers",selectedServices:e.selectedServices,useSystemContainers:e.useSystemContainers,measurementStandard:s}}]}];if(t===h.UPS)return[{title:d("UPS Real-Time Rates"),tabTitle:d("Formula"),fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Configure UPS Rates"),text:d('Quotes are requested directly from UPS using weight, distance, and package size. Compare quotes by using the <a href="https://wwwapps.ups.com/ctc/request" target="_blank">UPS Rate Calculator</a>.')}},{ctor:u.Squarespace.DialogFields.CheckboxGroup,config:{name:"selectedServices",options:this._buildServiceOptions(r.CarrierTypes.UPS,e.selectedServices),strings:{title:d("Available Services"),description:d("Select the services you would like your store to support.")},className:"checkbox-group"}},{type:"splitter",fields:[{ctor:u.Squarespace.DialogFields.MarkupInput,config:{name:"markup",title:d("Markup"),description:d("Add a markup to the shipping costs estimated by UPS."),storeCurrency:i,width:.5}},{ctor:u.Squarespace.DialogFields.Text,config:{name:"zipOrigination",width:.5,className:"thin","strings.title":d("Ship from ZIP Code"),"strings.description":d("The ZIP Code where you will be shipping from.")}}]},{type:"hidden",name:"formulaName",data:"UPS"},{type:"hidden",name:"carrierType",data:r.CarrierTypes.UPS},{type:"hidden",name:"rateType"}]},{title:d("UPS Real-Time Rates"),tabTitle:d("UPS Containers"),scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("UPS Containers"),text:d("Please indicate if you would like containers provided by UPS to be considered when calculating shipping costs. Shipping costs will be estimated at checkout by packing the order into as few of these containers as possible. ")}},{ctor:u.Squarespace.DialogFields.Check,name:"useSystemContainers","strings.title":d("Use UPS Containers"),defaultValue:true},{ctor:u.Squarespace.DialogFields.ShippingSystemContainerTable,config:{name:"systemContainers",visible:e.useSystemContainers,measurementStandard:s}}]},{title:d("UPS Real-Time Rates"),tabTitle:d("Custom Containers"),scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Custom Containers"),text:d("Add any custom boxes you use for shipping. Shipping costs will be estimated at checkout by packing the order into as few of these containers as possible.")}},{ctor:u.Squarespace.DialogFields.ShippingContainerTable,config:{carrier:r.CarrierTypes.UPS,name:"customContainers",selectedServices:e.selectedServices,useSystemContainers:e.useSystemContainers,measurementStandard:s}}]}];if(t===h.USPS)return[{title:d("USPS Real-Time Rates"),tabTitle:d("Formula"),fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Configure USPS Rates"),text:d('Quotes are requested directly from the USPS using weight, distance, and package size. Compare quotes by using the <a href="http://postcalc.usps.com/" target="_blank">USPS Postage Price Calculator</a>.')}},{ctor:u.Squarespace.DialogFields.CheckboxGroup,config:{name:"selectedServices",options:this._buildServiceOptions(r.CarrierTypes.USPS,e.selectedServices),strings:{title:d("Available Services"),description:d("Select the services you would like your store to support.")},className:"checkbox-group"}},{type:"splitter",fields:[{ctor:u.Squarespace.DialogFields.MarkupInput,config:{name:"markup",title:d("Markup"),description:d("Add a markup to the shipping costs estimated by USPS."),storeCurrency:i,width:.5}},{ctor:u.Squarespace.DialogFields.Text,config:{name:"zipOrigination",width:.5,className:"thin","strings.title":d("Ship from ZIP Code"),"strings.description":d("The ZIP Code where you will be shipping from.")}}]},{type:"hidden",name:"formulaName",data:"USPS"},{type:"hidden",name:"carrierType",data:r.CarrierTypes.USPS},{type:"hidden",name:"rateType"}]},{title:d("USPS Real-Time Rates"),tabTitle:d("Flat Rate Boxes"),scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Flat Rate Boxes"),text:d("Please indicate if you would like flat rate boxes provided by the USPS to be considered when calculating shipping costs. Shipping costs will be estimated at checkout by packing the order into as few of these boxes as possible. ")}},{ctor:u.Squarespace.DialogFields.Check,name:"useSystemContainers","strings.title":d("Use Flat Rate Boxes"),defaultValue:true},{ctor:u.Squarespace.DialogFields.ShippingSystemContainerTable,config:{name:"systemContainers",visible:e.useSystemContainers,measurementStandard:s}}]},{title:d("USPS Real-Time Rates"),tabTitle:d("Custom Containers"),scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Custom Containers"),text:d("Add any custom boxes you use for shipping. Shipping costs will be estimated at checkout by packing the order into as few of these containers as possible.")}},{ctor:u.Squarespace.DialogFields.ShippingContainerTable,config:{carrier:r.CarrierTypes.USPS,name:"customContainers",selectedServices:e.selectedServices,useSystemContainers:e.useSystemContainers,measurementStandard:s}}]}];throw new Error("Shipping Rate Type not supported: "+t)},_buildServiceOptions:function(e,a){a=a||[];var t=r.CarrierTypeServicesMap[e];var s=[];u.Object.each(t,function(e,t){s.push({name:t,label:e,value:-1!==a.indexOf(t)})});return s},_buildAddEditButtons:function(e){var t=[{type:"cancel",title:d("Cancel")}];e||t.push({type:"remove",title:d("Remove")});t.push({type:"saveAndClose",title:d("Save")});return t},_isCarrierCalculated:function(e){return e===h.FEDEX||e===h.UPS||e===h.USPS},_fetchSystemContainers:function(e,t,a,s){u.Data.get({url:u.Squarespace.API_ROOT+"commerce/shipping-options/containers",data:{carrierType:e,selectedServices:t},success:a.bind(s)})},_markSelectedServices:function(e,t){return e.map(function(e){return{name:e.name,label:e.label,value:t.indexOf(e.name)>-1}})},_onlyGroundServices:function(e,t){var a=u.Array.some(e,function(e){if(-1===t.indexOf(e))return true});return!a},_getFullCountryList:function(e){return e.map(function(e){return v[e.key]}).filter(function(e){return e})},_getShortCountryList:function(e,t){var n=[];var i=_(a,T(e));e.length>t&&(e=e.slice(0,t-1));e.forEach(function(e){var t=v[e.key];if(t){var a=i[e.key];var s=S.formatShort(a);s&&Object.keys(a.children).length&&(t+=" "+s);n.push(t)}});return n}},{CSS_PREFIX:"sqs-shipping-rule-list",HANDLEBARS_TEMPLATE:"dialog-shipping-rule-list.html",SHIPPING_RULE_TEMPLATES:{FLAT:'<div class="rule"><div class="name">{name}</div><div class="description">'+d("Flat Rate: {perOrderFeeCents} per order, {perItemFeeCents} per item")+'</div><div class="description shipsTo">{shipsTo}</div></div>',WEIGHT_RANGE:'<div class="rule"><div class="name">{name}</div><div class="description">'+d("Weight Ranges")+'</div><div class="description shipsTo">{shipsTo}</div></div>',FEDEX:'<div class="rule"><div class="name">{name}</div><div class="description">'+d("Calculated by FedEx (with {markup} markup)")+'</div><div class="description shipsTo">{shipsTo}</div></div>',UPS:'<div class="rule"><div class="name">{name}</div><div class="description">'+d("Calculated by UPS (with {markup} markup)")+'</div><div class="description shipsTo">{shipsTo}</div></div>',USPS:'<div class="rule"><div class="name">{name}</div><div class="description">'+d("Calculated by the Postal Service (with {markup} markup)")+'</div><div class="description shipsTo">{shipsTo}</div></div>'},ATTRS:{readOnly:{value:true}}})},"1.0",{requires:["base","squarespace-commerce-shipping-enums","squarespace-commerce-utils","squarespace-dialog","squarespace-dialog-check","squarespace-dialog-checkbox-group","squarespace-dialog-field-2","squarespace-dialog-flow","squarespace-dialog-markup-input","squarespace-dialog-regional-shipping","squarespace-dialog-shipping-container-table","squarespace-dialog-shipping-rule-list-template","squarespace-dialog-shipping-system-container-table","squarespace-localities","squarespace-singletons-location","squarespace-util-authenticated","squarespace-widgets-confirmation"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-shipstation-connect.js":function(e,t,a){var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var p=a("./src/main/webapp/universal/src/shared/utils/humanizeDate.js");var s=a("./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js");YUI.add("squarespace-dialog-shipstation-connect",function(u){u.Squarespace.DialogFields.ShipStationConnect=u.Base.create("shipStationConnect",u.Squarespace.DialogField2,[],{bindUI:function(){u.Squarespace.DialogFields.ShipStationConnect.superclass.bindUI.call(this);var e=this.get("contentBox");this.on("websiteSettingsChange",this.syncUI,this);if(this.get("allowedToUseShipstation")){var t=this.get("upsellInfo")?this._showTrialPlanMsg:this._configureShipStation;this._registerEvent(e.one(".configure-button").on("click",t,this),this);this._registerEvent(e.one(".disconnect-button").on("click",function(){new u.Squarespace.Widgets.Confirmation({"strings.title":d("Disconnect"),"strings.message":d("Are you sure you want to disconnect ShipStation? ShipStation will no longer receive orders or notify Squarespace of shipments.")}).on("confirm",this._disconnectShipStation,this)},this),this)}},syncUI:function(){u.Squarespace.DialogFields.ShipStationConnect.superclass.syncUI.call(this);this.get("allowedToUseShipstation")||this.showUpgradeLock();this.get("websiteSettings").load(u.bind(function(){var e=this.get("contentBox");var t=e.one(".connection-info");var a=e.one(".title");var s=e.one(".configure-button");var n=e.one(".disconnect-button");var i=e.one(".shipstation-description-message");var r=e.one(".username .label");var o=e.one(".password .label");var l=e.one(".last-synced .label");var c=e.one(".last-notified .label");u.Lang.isValue(this.get("isPasswordConfigured"))?e.one(".password .value").setContent("***********"):e.one(".password .value").setContent(d("Not Configured"));u.Lang.isValue(this.get("whenLastSynced"))?e.one(".last-synced .value").setContent(p(this.get("whenLastSynced")).capitalize()):e.one(".last-synced .value").setContent(d("Never"));u.Lang.isValue(this.get("whenLastNotified"))?e.one(".last-notified .value").setContent(p(this.get("whenLastNotified")).capitalize()):e.one(".last-notified .value").setContent(d("Never"));if(this.get("isPasswordConfigured")){t.show();a.setContent(d("ShipStation Connected"));s.setContent(d("Reset Connection"));n.setContent(d("Disconnect"));n.show();r.setContent(d("Username"));o.setContent(d("Password"));l.setContent(d("Last Synced"));c.setContent(d("Last Shipment Notification"))}else{t.hide();a.setContent(d("Connect ShipStation to Print Shipping Labels"));s.setContent(d("Connect ShipStation"));i.setContent(d("Squarespace has partnered with ShipStation to save you time shipping your orders. You can print shipping labels for all major carriers in batch and automatically send shipment notifications to your customers with tracking numbers. ShipStation is a subscription service with plans starting at $9 per month. <strong>This integration is only supported in the United States, Canada, United Kingdom, and Australia.</strong>"));n.hide()}this.get("isIncompleteConnection")&&a.setContent(d("ShipStation Not Connected"));this.fire("isIncompleteConnectionChange")},this))},showUpgradeLock:function(){var e=this.get("boundingBox");e.addClass("upgrade-locked");e.on("click",function(){s.showUpsellConfirmation(this.get("upsellInfo"))},this)},_showTrialPlanMsg:function(){s.showUpsellConfirmation(this.get("upsellInfo"))},_disconnectShipStation:function(){u.Data.del({url:"/api/settings/store-settings/shipstation/password",success:function(){window.location.reload()}})},_configureShipStation:function(){var e=u.bind(function(){this._resetPassword(u.bind(function(e){var t=e.newPassword;this.get("websiteSettings").load(u.bind(function(){this._showConfigureConnectionDialog(t)},this))},this))},this);this.get("isPasswordConfigured")?new u.Squarespace.Widgets.Confirmation({"strings.title":d("Reset Connection"),"strings.message":d("You are about to reset the password that ShipStation uses to connect to Squarespace. Are you sure you want to continue?")}).on("confirm",e):e()},_showConfigureConnectionDialog:function(t){var a=new u.Squarespace.EditingDialog({name:"configureShipStation",title:d("Connect ShipStation"),style:"minimal",width:500,height:415,overlay:.5,discardChangesConfirmation:false,closeOthers:false,buttons:[{type:"next",title:d("Next")},{type:"saveAndClose",title:d("Connect")}],primaryTabs:[{title:d("Connect ShipStation"),tabTitle:d("Step One"),name:"step-one",fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Create a ShipStation Account and Log In"),text:d("ShipStation simplifies your shipping operations by enabling you to purchase and print shipping labels from all major carriers in batch. ShipStation offers a free trial account for 30 days. Plans start at $9 per month. <strong>This integration is only supported in the United States, Canada, United Kingdom, and Australia.</strong>")+'<br /><div class="create-account"><a target="_blank" href="http://www.shipstation.com/squarespace_pricing/?utm_source=SQSP&utm_medium=app&utm_campaign=app_link2&ref=SQSP">'+d("Create a ShipStation Account &rarr;")+'</a><br /><a target="_blank" href="http://app.shipstation.com?utm_source=SQSP&utm_medium=app&utm_campaign=app_link3&ref=SQSP">'+d("Log In to ShipStation &rarr;")+"</a></div>"+d('Once you have logged in, click "Next" to continue connecting ShipStation with Squarespace.')}}]}],secondaryTabs:[{tabTitle:d("Step Two"),name:"step-two",scroll:true,fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d('Enter ShipStation "Settings" > "Selling Channels"'),text:d('Manage your account\'s selling channels. To go directly there <a target="_blank" href="https://ss4.shipstation.com/#/settings/stores">click here &rarr;</a>')}},{ctor:u.Squarespace.DialogFields.HTML,config:{content:'<div class="help"><img src="/universal/images-v6/welcome/shipstation/shipstation_stores.png" /></div>'}},{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Connect a New Store"),text:d("Then, add Squarespace as a connected store.")}},{ctor:u.Squarespace.DialogFields.HTML,config:{content:'<div class="help"><img src="/universal/images-v6/welcome/shipstation/shipstation_add.png" /></div>'}}]},{tabTitle:d("Step Three"),name:"step-three",fields:[{ctor:u.Squarespace.DialogFields.Description,config:{title:d("Enter Connection Information within ShipStation"),text:d('After choosing "Squarespace", copy and paste the username and password below into the prompt. ShipStation will then be able to access your orders and send shipping notifications via Squarespace to your customers.')}},{ctor:u.Squarespace.DialogFields.Text,config:{name:"username","strings.title":d("Squarespace Domain"),"strings.description":d("Copy this into the Squarespace configuration in ShipStation."),className:"thin copy-paste",readOnly:true,selectAllOnFocus:true,data:this.get("siteIdentifier")}},{ctor:u.Squarespace.DialogFields.Text,width:.5,config:{name:"password","strings.title":d("Generated Password"),"strings.description":d("Copy this into the Squarespace configuration in ShipStation. This generated password enables ShipStation to access your Squarespace store to retrieve orders and shipment notifications."),readOnly:true,selectAllOnFocus:true,className:"thin copy-paste",data:this.get("websiteSettings").get("storeSettings").shipStationConnectionSettings.password}}]}]});a.after("shown",function(){var e=a.getField("password");e.set("data",t)},this);a.on("button-next",function(){var e=a.currentTabIndex+1;a.activateTab(a.params.tabs[e])},this);a.on("tab-focused",function(e){"step-three"===e.tabName?a.setButtons([{type:"saveAndClose",title:d("Connect")}]):a.setButtons([{type:"next",title:d("Next")}])},this);a.on("send-requested",function(){var e=new u.Squarespace.Widgets.Confirmation({"strings.title":d("Confirm Connection"),"strings.message":d('Have you finished copying and pasting your username and password into ShipStation and saved your changes? If so, click "Confirm" to complete the connection.')});e.on("confirm",function(){a.close();this.syncUI()},this);e.on("cancel",function(){a.hideSaveOverlay()})},this);a.show()},_resetPassword:function(e){u.Data.post({url:"/api/settings/store-settings/shipstation/reset-password",success:e})}},{CSS_PREFIX:"sqs-shipstation-connect",HANDLEBARS_TEMPLATE:"dialog-shipstation-connect.html",ATTRS:{siteIdentifier:{validator:u.Squarespace.AttrValidators.isString,writeOnce:"initOnly"},allowedToUseShipstation:{validator:u.Squarespace.AttrValidators.isBoolean,writeOnce:"initOnly"},upsellInfo:{validator:u.Squarespace.AttrValidators.isNullOrObject,writeOnce:"initOnly"},isIncompleteConnection:{getter:function(){return this.get("isPasswordConfigured")&&!u.Lang.isValue(this.get("whenLastSynced"))}},isPasswordConfigured:{getter:function(){return this.get("websiteSettings").get("storeSettings").shipStationConnectionSettings.passwordConfigured}},whenLastSynced:{getter:function(){return this.get("websiteSettings").get("storeSettings").shipStationConnectionSettings.lastSynced}},whenLastNotified:{getter:function(){return this.get("websiteSettings").get("storeSettings").shipStationConnectionSettings.lastShipNotified}},websiteSettings:{writeOnce:true,setter:function(e){if(e instanceof u.Squarespace.Models.WebsiteSettings)return e;return new u.Squarespace.Models.WebsiteSettings(e)}}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-dialog","squarespace-dialog-button","squarespace-dialog-description","squarespace-dialog-field-2","squarespace-dialog-shipstation-connect-template","squarespace-dialog-text","squarespace-enum","squarespace-models-website-settings","squarespace-util","squarespace-widgets-confirmation"]})},"./src/main/webapp/universal/scripts-v6/dialog/dialog-text-datetime-picker.js":function(e,t,a){var r=a("./src/main/webapp/universal/src/shared/utils/dateFormat.js");var s=a("./common/temp/node_modules/lodash/debounce.js");YUI.add("squarespace-dialog-text-datetime-picker",function(n){n.namespace("Squarespace.DialogFields");var t={13:true,27:true,16:true,17:true,18:true,20:true,36:true,35:true,33:true,34:true,37:true,38:true,39:true,40:true,112:true,113:true,114:true,115:true,116:true,117:true,118:true,119:true,120:true,121:true,122:true,123:true,45:true,91:true,144:true};function a(e){return!t[e]}var i=n.Squarespace.DialogFields.TextDateTimePicker=n.Base.create("textDateTimePicker",n.Squarespace.DialogFields.DateTimePicker,[],{renderUI:function(){i.superclass.renderUI.call(this);this.get("boundingBox").addClass("sqs-text");var e=this.get("contentBox");var t=e.one(".sqs-datetime-picker-input");t.set("name",this.get("name"));var a=0;var s=this.get("dialog")||this.get("panel");n.Lang.isValue(s)&&n.Lang.isFunction(s.getNextTabIndex)&&(a=s.getNextTabIndex());t.set("tabIndex",a)},_bindCalendarToggleEvents:function(){var e=this.get("contentBox");var t=e.one(".sqs-datetime-picker-input");this._registerEvent(this._picker.get("contentBox").after("clickoutside",function(e){if(e.target===t)return false;this._hidePicker()},this));t.on("click",function(e){e.target.focus();this._showPicker(e.target)},this);t.on("keyup",s(function(e){a(e.keyCode)&&this.updateContent()},400),this)},_updatePickerData:function(e){this._suppressErrors=true;this._picker.set("data",e.newVal);this._alignPicker();this._suppressErrors=false},updateContent:function(){var e=this.get("contentBox");var t=e.one(".sqs-datetime-picker-input");var a=new Date(t.get("value"));var s=a.getTime();n.Lang.isNumber(s)?this.set("data",s):this._updateDescription(this.get("data"))},_updateDescription:function(e){e=new Date(e);var t=this.get("contentBox");var a=t.one(".sqs-datetime-picker-input");var s=r(e,this.get("dateFormat"));a.set("value",s)}},{ATTRS:{dateFormat:{value:"LLT"},defaultPositionNode:{getter:function(){return this.get("boundingBox").one(".sqs-datetime-picker-input")||this.get("boundingBox")}},errorFlyoutAnchor:{getter:function(){return this.get("contentBox").one(".sqs-datetime-picker-input-wrapper")}}},CSS_PREFIX:"sqs-text-datetime-picker",TEMPLATE:'<div class="sqs-datetime-picker-title"></div><div class="sqs-datetime-picker-input-wrapper"><input class="sqs-datetime-picker-input" type="text"></div>'})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-dialog-datetime-picker","squarespace-dialog-field-2","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/editor/commerce/order/order.js":function(e,t,a){var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./src/main/webapp/universal/packages/enums/GiftCardStatuses.js");var h=a("./src/main/webapp/universal/packages/enums/ProductTypes.js");var s=a("./src/main/webapp/universal/packages/enums/OrderChannelTypes.js");var l=a("./src/main/webapp/universal/packages/enums/PaymentProviderType.js");var n=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/index.jsx");var c=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderSubscriberLink/index.jsx");var v=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");var i=a("./src/main/webapp/universal/packages/enums/OrderItemType.js");var u=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var r=a("./src/main/webapp/universal/src/apps/App/shared/components/MoneyInput.jsx");var g=a("./src/main/webapp/universal/src/shared/i18n/commerce/MoneyFormatterProvider.ts");YUI.add("squarespace-editor-order",function(d){var p={CONFIRM:{type:d.Squarespace.CommerceEmailTypes.ORDER_CONFIRMED,title:m("Confirmation Email"),emailFieldName:"confirmationEmailAddress"},SHIPPED:{type:d.Squarespace.CommerceEmailTypes.ORDER_SHIPPED,title:m("Shipping Notification"),emailFieldName:"shippingEmailAddress"},DIGITAL_GOODS:{type:d.Squarespace.CommerceEmailTypes.DIGITAL_GOODS_DELIVERY,title:m("Digital Goods Delivery"),emailFieldName:"digitalEmailAddress"},GIFT_CARD:{type:d.Squarespace.CommerceEmailTypes.GIFT_CARD_DELIVERY,title:m("Gift Delivery"),emailFieldName:"gcDeliveryEmailAddress"}};d.namespace("Squarespace.Editor");d.Squarespace.Editor.Order=d.Base.create("Order",d.Squarespace.ModelEditorDialog,[],{initializer:function(){this._bindDialog()},_bindDialog:function(){var e=this.get("dialog");e.on("button-markPending",this._markPending,this);e.on("button-markShipped",this._markShipped,this);e.on("button-markCanceled",this._cancelOrder,this);e.on("button-refundThirdParty",this._refundThirdParty,this);e.on("button-refund",this._refund,this);e.on("button-print",function(){this.get("model").print()},this);var t=this.get("shippingConfiguration").get("containers");d.Lang.isValue(t)&&e.on("ready",this._bindShippingTab,this);e.on("ready",this._bindUI,this)},_syncUI:function(){this._setFieldProps()},_setFieldProps:function(){var e=this.get("dialog");var t=e.getField("orderNotesTabComponent");t.set("props",this._getNotesTabProps());var a=this.get("model").toJSON();if(this._isSubscriptionOrder(a)){var s=e.getField("orderSubscriberLinkComponent");s.set("props",this._getSubscriberLinkProps(a.items[0]))}},_bindShippingTab:function(){var e=this.get("dialog");var t=e.getField("shipping-select");var a=e.getField("shipping-legend");var s=e.getField("shipping-rendering");var n=this.get("shippingConfiguration").get("containers");t.on("dataChange",function(e){var t=n.item(e.newVal);a.set("data",t);s.set("data",t)},this);t.set("data",t.get("options")[0].value);a.on("itemActivated",function(e){s.setActiveBoxIndex(e.boxIndex)})},_markPending:function(){var e=m("Mark Pending");var t=m('This will move the order back to the "Pending" tab.');new d.Squarespace.Widgets.Confirmation({"strings.title":e,"strings.message":t}).on("confirm",function(){this.get("model").markPending(d.bind(function(e){if(e)new d.Squarespace.Widgets.Alert({"strings.title":e.title?e.title:m("Move to Pending Failed"),"strings.message":e.message});else{new d.Squarespace.Widgets.Information({"strings.title":m("Order Marked Pending"),"strings.message":m("Order marked pending.")});this.get("dialog").close();this.fire("saved")}},this))},this)},_markShipped:function(){var a=this.get("dialog");var s=this.get("model");var e=m("Mark Order Fulfilled");var t=new d.Squarespace.Widgets.CommerceShipConfirmation({title:e,orders:s});t.on("markComplete",function(e){var t=e.currentTarget.getDialog().getField("sendNotificationCheckBox");s.markShipped(t.get("data"),d.bind(function(e){if(e)new d.Squarespace.Widgets.Alert({"strings.title":e.title?e.title:m("Order Fulfill Failed"),"strings.message":e.message});else{new d.Squarespace.Widgets.Information({"strings.title":m("Order Marked Fulfilled"),"strings.message":m("Order marked Fulfilled.")});a.close();this.fire("saved")}},this))},this);t.render()},_cancelOrder:function(){var e=this.get("model").toJSON();var t=e.items.filter(function(e){return e.orderItemType!==i.CUSTOM_SALE}).map(function(e){return e.productId});d.Squarespace.Models.Inventory.getProductStock(t,d.bind(this._confirmCancelOrder,this))},_confirmCancelOrder:function(e){var s=this.get("dialog");var n=this.get("model");var t=n.toJSON();this._enhanceOrderWithRestockInfo(t,e.results);var a=this._getMaxRefund();var i=d.Squarespace.Commerce.moneyString(a);var r={title:m("Cancel Order"),description:m("This will issue a full refund of {maxRefundString} and move the order to the Canceled tab. The customer will be automatically notified.",{maxRefundString:i}),successTitle:m("Refund Successful"),successDescription:m("Refund successfully issued."),dialogFields:this._buildRestockInventoryFields(t)};var o={title:m("Cancel Gift Card"),description:m("This action issues a full refund of {maxRefundString}. The gift card wont be redeemable. The customer will receive a confirmation email.",{maxRefundString:i}),successTitle:r.successTitle,successDescription:r.successDescription,dialogFields:[]};var l={title:r.title,description:m("When you cancel the order, youll also mark the order as refunded without issuing an actual refund. To issue a refund, use the platform where the order was placed."),successTitle:m("Order Canceled"),successDescription:m("The full order amount was marked as refunded."),dialogFields:r.dialogFields};var c=r;t.giftCardOrder?c=o:this._isThirdPartySalesChannelOrder(t)&&(c=l);var u=new d.Squarespace.Widgets.DataConfirmation({"strings.title":c.title,"strings.message":c.description,"strings.confirm":m("Cancel Order"),"strings.cancel":m("Dont Cancel"),fields:c.dialogFields,showOverlay:true,zIndex:this._zIndex()+5,width:450,className:"question dialog-order-manager-confirm-cancel"});u.on("confirm",function(e){var t=d.bind(function(e){if(e)new d.Squarespace.Widgets.Alert({"strings.title":e.title?e.title:m("Cancel Failed"),"strings.message":e.message});else{new d.Squarespace.Widgets.Information({"strings.title":c.successTitle,"strings.message":c.successDescription});s.close();this.fire("saved")}},this);var a=e.data.restockInventory;n.cancel({restockInventory:a},t)})},_buildRestockInventoryFields:function(e){var t=new d.Squarespace.DialogFields.Check({name:"restockInventory",defaultValue:true,"strings.title":m("Restock Inventory"),"strings.description":m("Add these items back to your inventory.")});t.after("dataChange",function(){a.set("disabled",!t.getValue())});var a=new d.Squarespace.DialogFields.CancelOrderRestock({name:"restockPreview",data:{order:e}});return[t,a]},_zIndex:function(){return parseInt(this.get("dialog").el.getStyle("z-index"),10)},_findProductStockStatus:function(e,t,a){return d.Array.find(e,function(e){if(e.itemId===t&&(!d.Lang.isValue(a)||e.sku===a))return true})},_enhanceOrderWithRestockInfo:function(e,r){var o=this._findProductStockStatus;d.Array.each(e.items,function(e){var t=e.productId;var a=e.sku;var s=o(r,t,a);var n=!d.Lang.isValue(s);var i=!n&&true===s.unlimited;e.restockableStatus={missing:n,unlimited:i}})},_initRefund:function(){this.refundValue=this._getMaxRefundMoney()},_isSubscriptionOrder:function(e){return!!e.subscriptionDetails},_isThirdPartySalesChannelOrder:function(e){return s.THIRD_PARTY===e.channelType},_getRefundDialogProps:function(){return{value:this.refundValue,currencyCode:this.refundValue.currencyCode,formatter:g.formatter,onValue:function(e){this.refundValue=e}.bind(this)}},_refund:function(){this._initRefund();var e=m("Issue Refund");var t=m("Issue Refund");var a={title:e,description:null,confirm:t,height:120};var s={title:e,description:m("Refund up to the full order total. The refund will add value to any used gift cards. If there's a remaining amount, it will be refunded to the customer's other payment method."),confirm:t,height:242};var n=a;this._hasGiftCardPayment()&&(n=s);var i=new d.Squarespace.EditingDialog({discardChangesConfirmation:false,width:300,height:n.height,overlay:.5,closeOthers:false,savingText:m("Refunding"),buttons:[{type:"cancel",title:m("Cancel")},{type:"issue-refund",title:n.confirm}],primaryTabs:[{title:n.title,icon:"/universal/images-v6/content/shopping-cart-light.png",fields:[{ctor:d.Squarespace.DialogFields.Description,hidden:null===n.description,config:{name:"refundStrategyDescription",style:"minor",text:n.description}},{ctor:d.Squarespace.DialogFields.ReactDialogField,config:{name:"refundTotalCents",component:r,props:this._getRefundDialogProps(),"strings.title":m("Refund Amount")}}]}]});i.on("button-issue-refund",function(){this._confirmAndIssueRefund(i)},this);i.show()},_refundThirdParty:function(){this._initRefund();var e=new d.Squarespace.EditingDialog({discardChangesConfirmation:false,width:300,overlay:.5,closeOthers:false,savingText:m("Refunding"),buttons:[{type:"cancel",title:m("Cancel")},{type:"mark-refunded",title:m("Confirm")}],primaryTabs:[{title:m("Mark Refunded"),fields:[{ctor:d.Squarespace.DialogFields.Description,config:{name:"refundStrategyDescription",style:"minor",text:m("Youll mark the order as refunded without issuing an actual refund. To issue a refund, use the platform where the order was placed.")}}]}]});e.on("button-mark-refunded",function(){this._confirmAndMarkRefunded();e.close()},this);e.show()},_confirmAndIssueRefund:function(t){var e=this._getMaxRefundMoney();var a=this.get("model");var s=m("Issue Refund");var n=m("Are you sure you want to issue a refund? The customer will be automatically notified.");var i=d.bind(function(){t.updateTitle(d.Squarespace.DialogStates.SAVING);t.showSaveOverlay();var e=function(e){if(e){new d.Squarespace.Widgets.Alert({"strings.title":e.title?e.title:m("Refund Failed"),"strings.message":e.message});t.allowEditing();t.updateTitle()}else{new d.Squarespace.Widgets.Information({"strings.title":m("Refund Successful"),"strings.message":m("Refund successfully issued.")});t.close();this.get("dialog").close();this.fire("saved")}};a.refundMoney(this.refundValue,d.bind(e,this));delete this.refundValue},this);if(this.refundValue.compare(e)>0)new d.Squarespace.Widgets.Alert({"strings.title":m("Cannot Refund"),"strings.message":m("The requested refund amount is greater than the order total.")});else{var r=new d.Squarespace.Widgets.Confirmation({"strings.title":s,"strings.message":n});var o=r.once("confirm",function(){o.detach();i()},this)}},_confirmAndMarkRefunded:function(){var e=this._getMaxRefundMoney();var t=this.get("model");var a=m("Track Refunded Amount");var s=m("For your convenience, add the amount that you refunded on the other platform to keep your books balanced.");var n;var i=d.bind(function(){n.updateTitle(d.Squarespace.DialogStates.SAVING);n.showSaveOverlay();var e=function(e){if(e)new d.Squarespace.Widgets.Alert({"strings.title":m("Couldnt Mark as Refunded"),"strings.message":m("The order wasnt marked as refunded. Try again.")});else{new d.Squarespace.Widgets.Alert({"strings.title":m("Success"),"strings.message":m("Order successfully marked as refunded.")});this.fire("saved")}n.close();this.get("dialog").close()};t.refundMoney(this.refundValue,d.bind(e,this));delete this.refundValue},this);n=new d.Squarespace.EditingDialog({discardChangesConfirmation:false,width:300,overlay:.5,closeOthers:false,savingText:m("Refunding"),buttons:[{type:"cancel",title:m("Cancel")},{type:"ok",title:m("OK")}],primaryTabs:[{title:a,fields:[{ctor:d.Squarespace.DialogFields.Description,config:{name:"refundStrategyDescription",style:"minor",text:s}},{ctor:d.Squarespace.DialogFields.ReactDialogField,config:{name:"refundTotalCents",component:r,props:this._getRefundDialogProps(),"strings.title":m("Refund Amount")}}]}]});n.on("button-ok",function(){this.refundValue.compare(e)>0?new d.Squarespace.Widgets.Alert({"strings.title":m("Couldnt Add Refund Amount"),"strings.message":m("The refund amount cant exceed the order total.")}):i()},this);n.show()},_initNewNote:function(){this.newNote={id:"new-note",content:"",editMode:true}},_getNotesTabProps:function(){return{notes:this._getNotes(),onContentChange:d.bind(this._updateNewNoteContent,this),onSaveClick:d.bind(this._saveNewNote,this),onDeleteClick:d.bind(this._confirmDeleteNote,this)}},_getNotes:function(){var e=this.get("model").get("notes");return[this.newNote].concat(e)},_updateNewNoteContent:function(e){this.newNote.content=e.content;this._syncUI()},_saveNewNote:function(e,t){var a=this.get("model");var s=this.get("dialog");s.updateTitle(d.Squarespace.DialogStates.SAVING);s.showSaveOverlay();a.addNote(e.content,d.bind(function(){s.allowEditing();s.updateTitle();this._initNewNote();this._syncUI()},this))},_confirmDeleteNote:function(e){var t=new d.Squarespace.Widgets.Confirmation({"strings.title":m("Delete Note"),"strings.message":m("Are you sure you want to delete this note?")});t.on("confirm",function(){this._deleteNote(e)},this)},_deleteNote:function(e){var t=this.get("dialog");var a=this.get("model");t.updateTitle(d.Squarespace.DialogStates.SAVING);t.showSaveOverlay();a.deleteNote(e,d.bind(function(){t.allowEditing();t.updateTitle();this._syncUI()},this))},_saveMerchantNotes:function(){var e=this.get("model");var t=this.get("dialog");var a=t.getField("merchantNotes");var s=a.getValue();t.updateTitle(d.Squarespace.DialogStates.SAVING);t.showSaveOverlay();e.set("merchantNotes",s);e.save(function(){t.allowEditing();t.updateTitle()})},_sendNotification:function(e){var t=this.get("model");var a=e.type;var s=this._getEmailForNotification(e);var n="custom"!==a?"resend":"send";var i=n.capitalize()+" "+e.title;var r=m("Do you want to resend this email to {email}?",{email:d.Squarespace.Escaping.escapeForHtml(s)});new d.Squarespace.Widgets.Confirmation({"strings.title":i,"strings.message":r}).on("confirm",function(){t.notifyCustomer(a,s,function(e){if(e)new d.Squarespace.Widgets.Alert({"strings.title":m("Could Not Send"),"strings.message":e.message});else{var t=m("Email Sent");var a=m("The email has been sent to the customer.");new d.Squarespace.Widgets.Information({"strings.title":t,"strings.message":a})}})},this)},_getEmailForNotification:function(e){var t=e.emailFieldName;var a=this.get("dialog").getField(t).get("data");var s=a&&""!==a;return s?a:this.get("model").get("customer").email},_getMaxRefundMoney:function(){return u.fromJson(this.get("model").get("billingDetails").remainingRefundableTotal)},_hasGiftCardPayment:function(){var e=this.get("model").get("billingDetails").payments;return d.Array.some(e,function(e){return e.type===l.GIFT_CARD})},_getMaxRefund:function(){return 100*this._getMaxRefundMoney().toFloat()},_getDialogTabs:function(){var e=[];e.push(this._getSummaryTab());this.get("model").get("activityLog").length>0&&e.push(this._getHistoryTab());e.push(this._getNotesTab());this.get("model").get("fulfillmentState")!==v.CANCELLED&&e.push(this._getEmailTab());var t=this.get("shippingConfiguration").get("containers");d.Lang.isValue(t)&&e.push(this._getShippingTab());return e},_getTabTitle:function(){var e=this.get("model");return m("Order #{number}",{number:e.get("orderNumber")})},_getSubscriberLinkProps:function(e){return{subscribableName:e.productName+"  "+g.formatter.format(u.fromJson(e.preTaxUnitPrice)),url:"/commerce/customers"}},_retrievePaymentReferenceId:function(e){try{return e.type===l.SQUARE?JSON.parse(e.referenceId).transactionId:e.referenceId}catch(e){console.error("Could not parse Square reference ID");return null}},_getSummaryTab:function(){var e=this.get("model").toJSON();var t=e.items[0];var a={title:this._getTabTitle(),tabTitle:m("Summary"),name:"summary",icon:"/universal/images-v6/icons/icon-commerce-32-light.png",scroll:true,buttonDisplayClass:"button-state-descriptor",fields:[{ctor:d.Squarespace.DialogFields.ReactDialogField,config:{component:c,name:"orderSubscriberLinkComponent",props:this._getSubscriberLinkProps(t)},$when:function(){return this._isSubscriptionOrder(e)}.bind(this)},{type:"order-summary",orderId:{$valueFn:d.bind(function(){return this.get("model").get("id")},this),$dontRecurse:true},width:600}]};var s=e.billingDetails.payments[0];if(d.Lang.isValue(s)&&d.Lang.isValue(s.referenceId)&&(s.type===l.STRIPE||s.type===l.PAYPAL||s.type===l.SQUARE)){var n={ctor:d.Squarespace.DialogFields.PaymentLink,config:{url:s.referenceUrl,chargeId:this._retrievePaymentReferenceId(s),type:s.type}};a.fields.push(n)}if(this._isThirdPartySalesChannelOrder(e)){var i=e.squarespaceExtensionName?m("This is an imported order from {extensionName}",{extensionName:e.squarespaceExtensionName}):m("This is an imported order from your custom integration");var r={ctor:d.Squarespace.DialogFields.Description,config:{title:m("Imported Order"),style:"minor",text:i}};var o={ctor:d.Squarespace.DialogFields.Description,config:{title:m("{channelName} Order Number",{channelName:e.channelName}),style:"minor",text:e.externalOrderNumber}};a.fields.push(r,o)}return a},_getHistoryTab:function(){return{title:this._getTabTitle(),tabTitle:m("Activity"),name:"activity",icon:"/universal/images-v6/icons/icon-commerce-32-light.png",scroll:true,fields:[{ctor:d.Squarespace.DialogFields.OrderHistory,config:{data:this.get("model").get("activityLog")}}]}},_getNotesTabV1:function(){return{title:this._getTabTitle(),tabTitle:m("Internal Notes"),name:"notes",scroll:true,fields:[{ctor:d.Squarespace.DialogFields.Description,config:{title:m("Private Notes"),style:"minor",text:m("Record any notes pertaining to this order for yourself here.")}},{ctor:d.Squarespace.DialogFields.Wysiwyg,config:{type:"wysiwyg",name:"merchantNotes",engine:"text",classNames:"normal",height:250}},{ctor:d.Squarespace.DialogFields.Button,config:{name:"saveMerchantNotes","strings.text":m("Save"),onClick:d.bind(this._saveMerchantNotes,this),width:53}}]}},_getNotesTab:function(){this._initNewNote();return{title:this._getTabTitle(),tabTitle:m("Internal Notes"),name:"notes",scroll:true,fields:[{ctor:d.Squarespace.DialogFields.ReactDialogField,config:{component:n,name:"orderNotesTabComponent",props:this._getNotesTabProps()}}]}},_getEmailTab:function(){var e=this.get("model");var t=e.get("billingDetails").customer;if(!t)return;var a=t.email;var s=m("name@example.com");var n=e.get("items");var i=d.Array.some(n,function(e){return e.productType===h.DIGITAL});var r=d.Array.some(n,function(e){return e.productType===h.GIFT_CARD});if(r){var o=n[0];var l=o.giftCardReference.recipientEmail}var c=e.get("fulfillmentState")===v.COMPLETED;var u=!c||r;return{title:this._getTabTitle(),tabTitle:m("Email Notifications"),name:"emails",scroll:true,fields:[{ctor:d.Squarespace.DialogFields.Description,config:{title:m("Resend Order Confirmation"),style:"minor",text:m("Send customer an order confirmation email.")}},{type:"splitter",fields:[{ctor:d.Squarespace.DialogFields.Text,config:{name:"confirmationEmailAddress","strings.placeholder":s,className:"thin",data:a,saveOnEnter:true,width:507}},{ctor:d.Squarespace.DialogFields.Button,config:{"strings.text":m("Send"),name:"resendConfirm",width:.15,className:"sqs-button-light",onClick:d.bind(function(){this._sendNotification(p.CONFIRM)},this)}}]},{ctor:d.Squarespace.DialogFields.Description,hidden:u,config:{title:m("Resend Order Fulfilled Notification"),style:"minor",text:m("Send an email notification to customer that the order has been fulfilled.")}},{type:"splitter",hidden:u,fields:[{ctor:d.Squarespace.DialogFields.Text,config:{name:"shippingEmailAddress","strings.placeholder":s,className:"thin",data:a,saveOnEnter:true,width:507}},{ctor:d.Squarespace.DialogFields.Button,config:{"strings.text":m("Send"),name:"resendShipped",width:.15,className:"sqs-button-light",onClick:d.bind(function(){this._sendNotification(p.SHIPPED)},this)}}]},{ctor:d.Squarespace.DialogFields.Description,hidden:!i,config:{title:m("Resend and Refresh Digital Goods"),text:m("Send customer unique links to their digital goods. Their links will be refreshed so they may access them for 24 hours."),style:"minor"}},{type:"splitter",hidden:!i,fields:[{ctor:d.Squarespace.DialogFields.Text,config:{name:"digitalEmailAddress","strings.placeholder":s,className:"thin",data:a,saveOnEnter:true,width:507}},{ctor:d.Squarespace.DialogFields.Button,config:{"strings.text":m("Send"),name:"resendDigital",className:"sqs-button-light",width:.15,onClick:d.bind(function(){this._sendNotification(p.DIGITAL_GOODS)},this)}}]},{ctor:d.Squarespace.DialogFields.Description,hidden:!r,config:{title:m("Resend Gift Card Email"),text:m("Send an email containing the details of the gift card."),style:"minor"}},{type:"splitter",hidden:!r,fields:[{ctor:d.Squarespace.DialogFields.Text,config:{name:"gcDeliveryEmailAddress","strings.placeholder":s,className:"thin",data:l,saveOnEnter:true,width:507}},{ctor:d.Squarespace.DialogFields.Button,config:{"strings.text":m("Send"),name:"resendGiftCard",className:"sqs-button-light",width:.15,onClick:d.bind(function(){this._sendNotification(p.GIFT_CARD)},this)}}]}]}},_getShippingTab:function(){var e=this.get("model");var t=e.toJSON();var a=this.get("shippingConfiguration");var s=d.Squarespace.Commerce.weightUnit();var n=d.Squarespace.Commerce.dimensionUnit();var i=a.get("containers");var r=i.map(function(e,t){var a=e.get("name");"Packed Separately"===a&&(a=m("Packed Separately"));return{label:d.Squarespace.Commerce.capitalizeFirst(a),value:t}},this);return{title:m("Shipping Details"),className:"shipping-details",tabTitle:m("Shipment"),name:"shipment",icon:"/universal/images-v6/icons/icon-commerce-32-light.png",scroll:true,fields:[{ctor:d.Squarespace.DialogFields.ShippingSummary,config:{name:"shipping-summary",data:{shippingConfiguration:{$valueFn:function(){return a},$dontRecurse:true},order:{$valueFn:function(){return t},$dontRecurse:true}},weightUnit:s}},{ctor:d.Squarespace.DialogFields.Description,config:{title:m("Package Details"),text:m("Below are the details of the individual packages in this order."),style:"minor"}},{ctor:d.Squarespace.DialogFields.Select,config:{name:"shipping-select","strings.title":m("Select a Package"),"strings.description":m("Select a package to see how the items were packed inside."),options:r,data:r[0].value,className:"thin dark",required:false}},{type:"splitter",fields:[{ctor:d.Squarespace.DialogFields.ShippingLegend,config:{name:"shipping-legend",width:350,order:{$valueFn:function(){return t},$dontRecurse:true},weightUnit:s,dimensionUnit:n,scroll:true}},{ctor:d.Squarespace.DialogFields.ShippingRendering,config:{name:"shipping-rendering",width:250,canvasWidth:250,canvasHeight:250}}]}]}},_getDialogButtons:function(){var e=[{type:"cancel",title:m("Close")},{type:"print",title:m("Print")}];var t=this.get("model");var a=t.get("fulfillmentState");var s=a===v.CANCELLED;if(!s){var n=t.get("giftCardOrder");var i=u.fromJson(t.get("remainingRefundableTotal"));!n&&i.isPositive()&&(this._isThirdPartySalesChannelOrder(t.toJSON())?e.push({type:"refundThirdParty",title:m("Mark Refunded")}):e.push({type:"refund",title:m("Issue Refund")}));if(n){var r=t.get("giftCardDetails");r&&r.status===o.FULL?e.push({type:"markCanceled",title:m("Cancel Gift Card"),className:"remove"}):e.push({type:"markCanceled",title:m("Cancel Gift Card"),disabled:"true"})}else if(a===v.PENDING){e.push({type:"markCanceled",className:"remove",title:m("Cancel Order")});e.push({type:"markShipped",title:m("Mark Fulfilled")})}else e.push({type:"markPending",title:m("Mark Pending")})}return e}},{ATTRS:{model:{value:null,validator:d.Squarespace.AttrValidators.isInstanceOf(d.Squarespace.Models.Order),writeOnce:"initOnly"},dialogConfig:{getter:function(){var e=this.get("model").toJSON();var t=null;e.hasOwnProperty("giftCardDetails")&&(null===e.giftCardDetails?t=m("Something went wrong. This gift card can't be canceled at this time. Please try again later."):e.giftCardDetails.status===o.PARTIAL?t=m("This gift card has a remaining balance of {value}. Partially used gift cards can't be refunded.",{value:g.formatter.format(u.fromJson(e.giftCardDetails.currentBalance))}):e.giftCardDetails.status===o.DEPLETED&&(t=m("This gift card was already used. It can't be refunded.")));return{name:"order-manager",width:700,verticalHeight:"full",overlay:.5,closeOthers:false,discardChangesConfirmation:false,tabs:this._getDialogTabs(),buttons:this._getDialogButtons(),buttonStateMessage:t,initialData:{$valueFn:d.bind(function(){return this.get("model").toJSON()},this),$dontRecurse:true}}},readOnly:true},shippingConfiguration:{valueFn:function(){var e=new d.Squarespace.Models.ShippingConfiguration;var t=this.get("model").get("shippingDetails");t.requiresShipping&&e.setAttrs(t.packingResults);return e},validator:d.Squarespace.AttrValidators.isInstanceOf(d.Squarespace.Models.ShippingConfiguration),readOnly:true}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-commerce-utils","squarespace-dialog","squarespace-dialog-button","squarespace-dialog-cancel-order-restock","squarespace-dialog-code","squarespace-dialog-description","squarespace-dialog-html","squarespace-dialog-money-text","squarespace-dialog-order-history","squarespace-dialog-order-summary","squarespace-dialog-select","squarespace-dialog-shipping-diagram","squarespace-dialog-text","squarespace-dialog-text-area","squarespace-dialog-wysiwyg","squarespace-enum","squarespace-model-editor","squarespace-models-inventory","squarespace-models-order","squarespace-models-shipping-configuration","squarespace-react-dialog-field","squarespace-ui-base","squarespace-util","squarespace-widgets-alert","squarespace-widgets-commerce-ship-confirmation","squarespace-widgets-confirmation","squarespace-widgets-data-confirmation","squarespace-widgets-information"]})},"./src/main/webapp/universal/scripts-v6/editor/navigation-external-link.js":function(e,t,a){var s=a("./common/temp/node_modules/lodash/get.js");var n=a("./common/temp/node_modules/react/index.js");var i=a("./common/temp/node_modules/react-dom/index.js");var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var l=a("./src/main/webapp/universal/src/shared/constants/ConnectedAccountLinkConfigurations.js");var r=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/LinkModal/index.js");YUI.add("squarespace-editor-navigation-external-link",function(r){r.namespace("Squarespace.Editor").NavigationExternalLink=r.Base.create("NavigationExternalLinkModelEditor",r.Squarespace.ModelEditorDialog,[],{initializer:function(){var e=this.get("dialog");e.on("datachange",function(e){this.get("model").set(e.getName(),e.getValue())},this);e.on("remove-requested",function(){var e=this.get("model").get("title");var t=o("Delete {itemTitle}",{itemTitle:e});var a=o("Are you sure you want to delete <strong>{itemTitle}<strong>?",{itemTitle:e});new r.Squarespace.Widgets.Confirmation({"strings.title":t,"strings.message":a}).on("confirm",function(){this.get("model").destroy({remove:true});this.hide()},this)},this)},destructor:function(){if(this._socialAuthenticator){this._socialAuthenticator.destroy();this._socialAuthenticator=null}if(this._connectedAccountEditor){this._connectedAccountEditor.destroy();this._connectedAccountEditor=null}},getDialogData:function(){var e=this.get("model").get("externalLink");return{title:e.title,createLink:{url:e.url,newWindow:e.newWindow,externalServiceProviderType:e.externalServiceProviderType}}},sanitizeDialogData:function(e){this.get("model").set("externalLink",{title:e.title,url:s(e,"createLink.url"),newWindow:s(e,"createLink.newWindow"),externalServiceProviderType:s(e,"createLink.externalServiceProviderType")})},_getDialogConfig:function(){var e=this.get("model").get("externalLink").externalServiceProviderType;var t=r.Lang.isValue(e);var a=[{ctor:r.Squarespace.DialogFields.Text,config:{name:"title","strings.title":o("Link Title"),"strings.placeholder":o("Enter a Title"),required:true,submitOnEnter:true}},{ctor:r.Squarespace.DialogFields.CreateLink,config:{"strings.title":o("Link"),name:"createLink",condensed:true,required:!t},$when:function(){return!t}}];var s;if(t){var n=l[e];s=o("Configure {accountName} Link",{accountName:n.displayName});a.push(this._generateAccountActionButton(e))}else s=o("Configure Link");var i={name:"navigationlinkconfig",waitForServerOnClose:true,loadingText:o("Loading Configuration"),style:"flyout",width:450,height:220,tabs:[{title:s,icon:"/universal/images-v6/icons/icon-settings-16-light.png",fields:a}],buttons:[{type:"cancel",title:o("Cancel")},{type:"remove",title:o("Remove Link")},{type:"saveAndClose",title:o("Save")}]};this.get("isNew")&&i.buttons.splice(1,1);return i},_generateAccountActionButton:function(t){var e=r.Squarespace.Models.ConnectedAccounts.loadFromStore().toArray();var a=r.Array.find(e,function(e){return e.get("serviceId")===t});if(null===a)return{ctor:r.Squarespace.DialogFields.Button,config:{"strings.text":o("Connect a {accountType} Account",{accountType:l[t].displayName}),onClick:r.bind(function(){this._spawnConnectedAccountCreationDialog(t)},this)}};return{ctor:r.Squarespace.DialogFields.Button,config:{"strings.text":o("Edit Connected Account"),onClick:r.bind(function(){this._spawnConnectedAccountEditor(a)},this)}}},_spawnConnectedAccountCreationDialog:function(e){this._socialAuthenticator=new r.Squarespace.SocialAuthenticator;this._socialAuthenticator.addNewAccountDialog(l[e].slug);this._socialAuthenticator.after("account-added",function(){this.get("dialog").saveAndClose()},this)},_spawnConnectedAccountEditor:function(e){this._connectedAccountEditor=new r.Squarespace.Widgets.ConnectedAccount({model:e});this._connectedAccountEditor.showEditor();this._connectedAccountEditor.after("account-removed",function(){this.get("dialog").saveAndClose()},this)}},{ATTRS:{isNew:{value:false},dialogConfig:{valueFn:"_getDialogConfig",validator:r.Lang.isObject}}})},"1.0",{requires:["squarespace-dialog-text","squarespace-dialog-create-link","squarespace-model-editor","squarespace-models-connected-accounts","squarespace-connected-account-widget","squarespace-social-authenticator"]});YUI.add("squarespace-editor-navigation-external-link-react",function(e){e.namespace("Squarespace.Editor");var t=e.Squarespace.Editor.NavigationExternalLinkReact=e.Base.create("NavigationExternalLinkReact",e.Squarespace.Widgets.SSWidget,[],{initializer:function(e){this.model=e.model;this.isNew=e.isNew;this.initialValue=this.model.get("externalLink");this.isOpen=false;var t=document.createElement("div");this.reactMountNode=t;document.body.appendChild(t)},destructor:function(){if(this.reactMountNode){i.unmountComponentAtNode(this.reactMountNode);this.reactMountNode.remove();this.reactMountNode=null}},renderUI:function(){t.superclass.renderUI.apply(this,arguments);this.renderReact()},show:function(){this.isOpen=true;this.renderReact()},getReactProps:function(){var e=this.model.get("externalLink");return{isOpen:this.isOpen,isDeleteVisible:!this.isNew,value:e,onChange:function(e){this.handleValueChange(e)}.bind(this),onSave:function(){this.handleSave()}.bind(this),onDelete:function(){this.handleDelete()}.bind(this),onCancel:function(){this.handleCancel()}.bind(this),onRequestClose:function(){this.handleCancel()}.bind(this)}},renderReact:function(){i.render(n.createElement(r,this.getReactProps()),this.reactMountNode)},handleValueChange:function(e){this.model.set("externalLink",e);this.renderReact()},handleSave:function(){this.model.save();this.destroy()},handleCancel:function(){if(this.isNew)this.handleDelete();else{this.model.set("externalLink",this.initialValue);this.destroy()}},handleDelete:function(){this.model.destroy({remove:true});this.destroy()}},{ATTRS:{isNew:{value:false},dialogConfig:{valueFn:"_getDialogConfig",validator:e.Lang.isObject}}})},"1.0",{requires:["base","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/hb-date-format.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/utils/dateFormat.js");YUI.add("squarespace-hb-date-format",function(e){e.Handlebars.registerHelper("date-format",function(e,t){return s(e,t.hash.format||"LLL")})},"1.0",{requires:["datatype-date","handlebars-base"]})},"./src/main/webapp/universal/scripts-v6/hb-number-format.js":function(e,t){YUI.add("squarespace-hb-number-format",function(l){l.Handlebars.registerHelper("number-format",function(e,t){var a=t.hash;var s=l.Lang.isUndefined(a.prefix)?"$":a.prefix;var n=l.Lang.isUndefined(a.thousandsSeparator)?",":a.thousandsSeparator;var i=l.Lang.isUndefined(a.decimalSeparator)?".":a.decimalSeparator;var r=l.Lang.isUndefined(a.decimalPlaces)?2:parseInt(a.decimalPlaces,10);var o=l.Lang.isUndefined(a.suffix)?"":a.suffix;return l.Number.format(e,{prefix:s,thousandsSeparator:n,decimalSeparator:i,decimalPlaces:r,suffix:o})})},"1.0",{requires:["datatype-number-format","handlebars-base"]})},"./src/main/webapp/universal/scripts-v6/hb-pluralize.js":function(e,t){YUI.add("squarespace-hb-pluralize",function(e){e.Handlebars.registerHelper("pluralize",function(e,t){if(1!==t)return e+"s";return e})},"1.0",{requires:["handlebars-base"]})},"./src/main/webapp/universal/scripts-v6/mixins/commerce-email-preview.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js");YUI.add("squarespace-mixins-commerce-email-preview",function(a){a.namespace("Squarespace.Mixins");a.Squarespace.Mixins.CommerceEmailPreview=a.Base.create("CommerceEmailPreview",a.Base,[],{initializer:function(){var e="/api/commerce/admin/email-preview/"+this.get("urlExtension");var t=this.get("router");t.hijackFrameUrl(e);this.get("model").after("change",this._updateFramePreview,this);a.Global.publish("emailPreviewUpdate",{emitFacade:true,broadcast:1});a.Global.publish("fieldActive",{emitFacade:true,broadcast:1});a.Global.publish("fieldsInactive",{emitFacade:true,broadcast:1});a.Do.after(this._bindHoverEvents,this,"bindUI",this);t.onExit(function(){t.restoreFrameUrl()})},_bindHoverEvents:function(){this.get("contentBox").delegate("mouseover",function(e){if(!e.currentTarget.test(".sqs-description")){var t=a.Widget.getByNode(e.currentTarget);a.Global.fire("fieldActive",{field:t.get("name")})}},".sqs-dialog-field",this);this.get("contentBox").delegate("mouseout",function(e){e.currentTarget.test(".sqs-description")||a.Global.fire("fieldsInactive")},".sqs-dialog-field",this)},_preview:function(){n.toggleExpanded()},_sendPreview:function(){a.Data.post({url:"/api/commerce/admin/email-preview/sent/"+this.get("urlExtension"),data:this.get("model").toJSON(),json:true,success:a.bind(function(){new a.Squarespace.Widgets.Information({"strings.title":s("Preview Sent"),"strings.message":s("A sample email has been sent to your address.")})},this)})},_restoreDefaults:function(){var e=this.get("urlExtension");new a.Squarespace.Widgets.Confirmation({"strings.title":s("Restore Defaults"),"strings.message":this.get("restoreDefaultsMessage")}).on("confirm",function(){a.Data.put({url:"/api/commerce/admin/email-settings/"+e+"/reset",success:a.bind(function(){this.get("model").load(a.bind(this.syncUI,this))},this)})},this)},_updateFramePreview:function(){a.Global.fire("emailPreviewUpdate",{model:this.get("model")})}},{ATTRS:{sendTestText:{valueFn:function(){return s("Send Test Email to {email}",{email:a.Squarespace.Context.getInstance().get("authenticatedAccount").get("email")})}},restoreDefaultsMessage:{valueFn:function(){return s("Restore default settings for {title} emails?",{title:this.get("strings.title")})}},urlExtension:{validator:a.Squarespace.AttrValidators.isString}}})},"1.0",{requires:["base","squarespace-context","squarespace-dialog-field-2"]})},"./src/main/webapp/universal/scripts-v6/mixins/selected-action-tray.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-mixins-selected-action-tray",function(t){t.namespace("Squarespace.Mixins");t.Squarespace.Mixins.SelectedActionTray=t.Base.create("SelectedActionTray",t.Base,[],{initializer:function(){this.after("actionTrayButtonsChange",function(e){this.get("actionTray").set("buttons",e.newVal)});this._afterRenderHandle=t.Do.after(function(){this.get("actionTray").render(this.get("boundingBox"))},this,"renderUI",this);this.after("selectionChange",function(e){var t=e.newVal;this.get("actionTray").set("count",t?t.size():0)},this)},destructor:function(){this.get("actionTray").destroy();this._afterRenderHandle.detach();this._afterRenderHandle=null}},{ATTRS:{actionTray:{valueFn:function(){var e=new t.Squarespace.Widgets.ActionTray({buttons:this.get("actionTrayButtons"),scrollNode:this.get("contentBox")});return e},validator:t.Squarespace.AttrValidators.isInstanceOf(t.Squarespace.Widgets.ActionTray),readOnly:true},actionTrayButtons:{value:[],setter:function(e){return[{label:s("Select All"),action:this.selectAll,context:this,className:"light"},{label:s("Clear Selection"),action:this.deselectAll,context:this,className:"light"}].concat(e||[])},validator:t.Squarespace.AttrValidators.isArray},multiple:{value:true,validator:t.Squarespace.AttrValidators.isBoolean,writeOnce:"initOnly"},selectedModels:{getter:function(){var t=new(this.get("models").constructor);var e=this.get("selection");e&&e.each(function(e){t.add(e.get("model"))});return t},readOnly:true}}})},"1.0",{requires:["base","event-custom","squarespace-attr-validators","squarespace-tray"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/donation/contribution-list.js":function(e,t,a){var i=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var r=a("./src/main/webapp/universal/src/shared/i18n/commerce/MoneyFormatterProvider.ts");YUI.add("squarespace-models-commerce-contribution-list",function(s){s.namespace("Squarespace.Models");var a=100;var n=s.Squarespace.Models.CommerceContributionList=s.Base.create("CommerceContrbutionList",s.Squarespace.Models.ModelList,[],{model:s.Squarespace.Models.CommerceContribution,url:s.Squarespace.REST_API_ROOT+"commerce/contributions?offset={offset}&limit={limit}",initializer:function(){this.publish("loading");this.publish("loaded")},getURL:function(e,t){t=t||{};t.offset=s.Lang.isValue(t.offset)?t.offset:0;t.limit=s.Lang.isValue(t.limit)?t.limit:a;return n.superclass.getURL.call(this,e,t)},parse:function(e){var t=s.JSON.parse(e);this._setResponseAttrs(t);var a=t.contributions;this._parseAndFormatMoney(a);return a},loadMore:function(){var e=this.get("pagination");if(!this.get("hasNextPage")){false;return}var t=this.getURL.call(this,null,{offset:e.offset+e.limit,limit:e.limit});this.fire("loading");s.Data.get({url:t,success:function(e){this._setResponseAttrs(e);var t=e.contributions;this._parseAndFormatMoney(t);this.add(t);0===t.length&&this.set("hasNextPage",false);this.fire("loaded")},failure:function(){false}},this)},_parseAndFormatMoney:function(e){e.forEach(function(e){var t=i.fromJson(e.amount);e.amountFormatted=r.formatter.format(t)})},_setResponseAttrs:function(e){this.set("pagination",e.pagination)}},{ATTRS:{pagination:{value:null},hasNextPage:{value:true}}})},"1.0",{requires:["base","squarespace-models-model-list","squarespace-models-commerce-contribution"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/donation/contribution.js":function(e,t){YUI.add("squarespace-models-commerce-contribution",function(e){e.namespace("Squarespace.Models");e.Squarespace.Models.CommerceContribution=e.Base.create("CommerceContribution",e.Model,[e.Squarespace.ModelSync.REST],{root:"/api/rest/commerce/contributions"},{ATTRS:{amountCents:{value:0,validator:e.Squarespace.AttrValidators.isNumber},donor:{value:null},submittedOn:{value:0,validator:e.Squarespace.AttrValidators.isNumber},currency:{value:"USD",validator:e.Squarespace.AttrValidators.isString},testMode:{value:true,validator:e.Squarespace.AttrValidators.isBoolean},message:{value:"",validator:e.Squarespace.AttrValidators.isString},customForm:{value:"",validator:e.Squarespace.AttrValidators.isString}}})},"1.0",{requires:["node","oop","json","model","squarespace-model-sync-rest"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/email/base-email-template-settings.js":function(e,t){YUI.add("squarespace-models-commerce-base-email-template-settings",function(e){e.namespace("Squarespace.Models");e.Squarespace.Models.BaseEmailTemplateSettings=e.Base.create("BaseEmailTemplateSettings",e.Model,[e.Squarespace.ModelSync.REST],{url:e.Squarespace.API_ROOT+"commerce/admin/email-settings/base-template",root:e.Squarespace.API_ROOT+"commerce/admin/email-settings/base-template",isNew:function(){return false}},{ATTRS:{_type:{value:"_base_template_",readOnly:true},header:{validator:e.Squarespace.AttrValidators.isString},footer:{validator:e.Squarespace.AttrValidators.isString},businessName:{validator:e.Squarespace.AttrValidators.isString},businessId:{validator:e.Squarespace.AttrValidators.isString}}})},"1.0",{requires:["base","model","squarespace-model-sync-rest"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/email/contribution-confirmed-email-settings.js":function(e,t){YUI.add("squarespace-models-contribution-confirmed-email-settings",function(e){e.namespace("Squarespace.Models");e.Squarespace.Models.ContributionConfirmedEmailSettings=e.Base.create("ContributionConfirmedEmailSettings",e.Model,[e.Squarespace.ModelSync.REST],{url:e.Squarespace.API_ROOT+"commerce/admin/email-settings/contribution-confirmed",root:e.Squarespace.API_ROOT+"commerce/admin/email-settings/contribution-confirmed",isNew:function(){return false}},{ATTRS:{_type:{value:"_contribution_confirmed_",readOnly:true},subjectFormat:{validator:e.Squarespace.AttrValidators.isString},header:{validator:e.Squarespace.AttrValidators.isString},footer:{validator:e.Squarespace.AttrValidators.isString},message:{validator:e.Squarespace.AttrValidators.isString}}})},"1.0",{requires:["base","model","squarespace-model-sync-rest"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/order/order-list.js":function(e,t,a){var s=a("./common/temp/node_modules/@sqs/cookie-cutter/index.js");var r=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");var o=a("./src/main/webapp/universal/packages/enums/OrderStates.js");YUI.add("squarespace-models-order-list",function(n){n.namespace("Squarespace.Models");var i=n.Squarespace.API_ROOT+"2/commerce/orders";n.Squarespace.Models.OrderList=n.Base.create("OrderList",n.Squarespace.Models.GrowableModelList,[n.Squarespace.Mixins.SearchableModelList],{model:n.Squarespace.Models.Order,initializer:function(){this.after(["Order:fulfillmentStateChange","Order:refundedTotalAmountChange"],function(e){var t=e.target;var a=this.indexOf(t);this.remove(t);var s=this.get("fulfillmentState");""!==s&&t.get("fulfillmentState")!==s||this.add(t,{index:a})})},getURL:function(){var e=this._getOrderStateForQuery();var t=this.get("customerId");var a={state:e,customerId:t};var s=i+"?"+n.QueryString.stringify(a);return this.get("paginator").paginateURL(s)},_getOrderStateForQuery:function(){switch(this.get("fulfillmentState")){case r.PENDING:return o.PENDING;case r.COMPLETED:return o.FULFILLED;case r.CANCELLED:return o.CANCELLED;default:return null}},print:function(){window.open(n.Lang.sub("{urlBase}?orders={ids}&crumb={crumb}",{urlBase:i+"/print",ids:this._getIds().join(","),crumb:s.get("crumb")}))},markShipped:function(t,a){var e=this.map(function(e){return e.createFulfillmentDetails(t)});n.Data.post({headers:{"Content-Type":"application/json"},url:i+"/fulfilled",data:n.JSON.stringify({fulfillments:e}),success:function(){this.each(function(e){e.set("fulfillmentState",r.COMPLETED)});a&&a.call(this)},failure:function(e){a&&a.call(this,e)}},this)},markPending:function(t){n.Data.post({headers:{"Content-Type":"application/json"},url:i+"/pending",data:n.JSON.stringify({orders:this._getIds()}),success:function(){this.each(function(e){e.set("fulfillmentState",r.PENDING)});t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)},_getIds:function(){return this.map(function(e){return e.get("id")})},deleteAllTestOrders:function(t){n.Data.del({url:i+"/test/all",success:function(){this.refresh();t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)},deleteTestOrders:function(t){n.Data.del({url:i+"/test",data:{order:this._getIds()},success:function(){this.each(function(e){e.destroy()},this);t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)}},{ATTRS:{fulfillmentState:{value:"",validator:function(e){return n.Object.hasValue(r,e)||""===e}},customerId:{value:null,validator:n.Squarespace.AttrValidators.isNullOrString},rangePaginator:{valueFn:function(){return new n.Squarespace.Models.RangePaginator({models:this,orderBy:"SUBMITTED_ON",limit:30})},validator:n.Squarespace.AttrValidators.isInstanceOf(n.Squarespace.Models.RangePaginator)},offsetPaginator:{valueFn:function(){return new n.Squarespace.Models.OffsetPaginator({models:this,orderBy:"SUBMITTED_ON",limit:50})},validator:n.Squarespace.AttrValidators.isInstanceOf(n.Squarespace.Models.OffsetPaginator)},paginator:{getter:function(){var e=this.get("searchQuery");if(n.Lang.isValue(e)&&""!==e.trim())return this.get("offsetPaginator");return this.get("rangePaginator")}}}})},"1.0",{requires:["base","json","squarespace-attr-validators","squarespace-enum","squarespace-mixins-searchable-model-list","squarespace-model-sync-rest","squarespace-models-growable-model-list","squarespace-models-offset-paginator","squarespace-models-order","squarespace-models-range-paginator","squarespace-util"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/order/order.js":function(e,t,a){var s=a("./common/temp/node_modules/moment/moment.js");var i=a("./common/temp/node_modules/@sqs/cookie-cutter/index.js");var r=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");var o=a("./src/main/webapp/universal/packages/enums/OrderChannelTypes.js");var l=a("./src/main/webapp/universal/packages/enums/CommerceEmailTypes.js");YUI.add("squarespace-models-order",function(n){n.namespace("Squarespace.Models");n.Squarespace.Models.Order=n.Base.create("Order",n.Model,[n.Squarespace.ModelSync.REST],{root:n.Squarespace.API_ROOT+"2/commerce/orders",url:n.Squarespace.API_ROOT+"2/commerce/orders/{id}",print:function(){window.open(n.Lang.sub("{urlBase}?orders={orders}&crumb={crumb}",{urlBase:this.root+"/print",orders:this.get("id"),crumb:i.get("crumb")}))},markShipped:function(e,t){n.Data.post({headers:{"Content-Type":"application/json"},url:this.root+"/fulfilled",data:n.JSON.stringify({fulfillments:[this.createFulfillmentDetails(e)]}),success:function(){this.set("fulfillmentState",r.COMPLETED);t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)},createFulfillmentDetails:function(e){return{orderId:this.get("id"),sendNotification:e,shipments:this._createOrderShipmentsFromTrackers(this.get("shipmentTrackers"))}},markPending:function(t){n.Data.post({headers:{"Content-Type":"application/json"},url:this.root+"/pending",data:n.JSON.stringify({orders:[this.get("id")]}),success:function(){this.set("fulfillmentState",r.PENDING);t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)},refundMoney:function(e,t){n.Data.post({headers:{"Content-Type":"application/json"},url:this.getURL("update")+"/refund",data:n.JSON.stringify({amount:e.toJson()}),success:function(){this.set("refundedTotalAmount",e.add(this.get("refundedTotalAmount")));t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)},cancel:function(e,t){n.Data.post({headers:{"Content-Type":"application/json"},url:this.getURL("update")+"/cancel",data:n.JSON.stringify(e),success:function(){this.set("fulfillmentState",r.CANCELLED);t&&t.call(this)},failure:function(e){t&&t.call(this,e)}},this)},notifyCustomer:function(e,t,a){var s=n.Squarespace.API_ROOT+"commerce/orders/"+this.get("id")+"/notification";switch(e){case l.ORDER_CONFIRMED:s+="/confirmation";break;case l.ORDER_SHIPPED:s+="/shipped";break;case l.DIGITAL_GOODS_DELIVERY:s+="/digital-goods";break;case l.GIFT_CARD_DELIVERY:s+="/gift-card";break;default:throw new Error("Unsupported email type")}n.Data.post({headers:{"Content-Type":"application/json"},url:s,data:n.JSON.stringify({email:t}),success:function(){a&&a.call(this)},failure:function(e){a&&a.call(this,e)}},this)},addNote:function(e,t){n.Data.post({headers:{"Content-Type":"application/json"},url:this.getURL("update")+"/notes",data:n.JSON.stringify({content:e}),success:function(e){this.set("notes",e);t&&t.call(this,e)},failure:function(e){t&&t.call(this,e)}},this)},deleteNote:function(e,t){n.Data.del({url:this.getURL("update")+"/notes/"+e.id,success:function(e){this.set("notes",e);t&&t.call(this,e)},failure:function(e){t&&t.call(this,e)}},this)},_createOrderShipmentsFromTrackers:function(e){var t=this._createShipmentOrderItems();return e.map(function(e){return{shipDate:s.utc().toISOString(),carrier:e.carrier,carrierName:e.carrierName,trackingNumber:e.trackingNumber.replace(/\s/g,""),items:t}})},_createShipmentOrderItems:function(){return this.get("items").map(function(e){return{orderItemId:e.id,quantity:e.quantity}})}},{ATTRS:{id:{value:null,validator:n.Squarespace.AttrValidators.isNullOrString},orderId:{value:null,validator:n.Squarespace.AttrValidators.isNullOrNumber},fulfillmentState:{value:r.PENDING,validator:function(e){if(n.Object.hasValue(r,e))return true;false;return false}},testMode:{value:false,validator:n.Squarespace.AttrValidators.isBoolean},items:{value:[],validator:n.Squarespace.AttrValidators.isArray},shippingDetails:{validator:n.Squarespace.AttrValidators.isObject},grandTotal:{value:0,validator:n.Squarespace.AttrValidators.isObject},refundedTotalAmount:{value:0,validator:n.Squarespace.AttrValidators.isObject},notes:{value:{},validator:n.Squarespace.AttrValidators.isArray},shipmentTrackers:{value:[],validator:n.Squarespace.AttrValidators.isArray},channelType:{value:o.ONLINE,validator:function(e){if(n.Object.hasValue(o,e))return true;false;return false}}}})},"1.0",{requires:["base","json","model","squarespace-attr-validators","squarespace-enum","squarespace-model-sync-rest","squarespace-models-shopping-cart","squarespace-util"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/payment/payment-activity-list.js":function(e,t){YUI.add("squarespace-models-commerce-payment-activity-list",function(i){i.namespace("Squarespace.Models");var r=i.Squarespace.Models.CommercePaymentActivityList=i.Base.create("CommercePaymentActivityList",i.Squarespace.Models.ModelList,[],{model:i.Squarespace.Models.CommercePaymentActivity,root:i.Squarespace.API_ROOT+"commerce/payment-activity",url:i.Squarespace.API_ROOT+"commerce/payment-activity?types={activityTypes}&minTimestamp={minTimestamp}&maxTimestamp={maxTimestamp}",getURL:function(e,t){var a=this.get("chargeId");if(i.Lang.isString(a)&&""!==a.trim())return this.root+"/"+a;t=t||{};if(!i.Lang.isValue(t.minTimestamp)){var s=this.get("minTimestamp");t.minTimestamp=i.Lang.isValue(s)?s.toString():""}if(!i.Lang.isValue(t.maxTimestamp)){var n=this.get("maxTimestamp");t.maxTimestamp=i.Lang.isValue(n)?n.toString():""}return r.superclass.getURL.call(this,e,t)},_getLast:function(){return this.item(this.size()-1)},loadMore:function(e){var t=this.getURL.call(this,null,{maxTimestamp:this._getLast().get("timestamp")});e=e||function(){};i.Data.get({url:t,success:function(e){this.add(e.results);this.set("hasMoreResults",e.hasNextPage)},failure:function(e){}},this)},_getResponseAttrs:function(e){return{hasMoreResults:e.hasNextPage}}},{ATTRS:{activityTypes:{value:"",validator:i.Squarespace.AttrValidators.isNullOrString},minTimestamp:{value:"",validator:i.Squarespace.AttrValidators.isNullOrLong},maxTimestamp:{value:"",validator:i.Squarespace.AttrValidators.isNullOrLong},chargeId:{value:"",validator:i.Squarespace.AttrValidators.isNullOrString},hasMoreResults:{value:false}}})},"1.0",{requires:["base","squarespace-models-model-list","squarespace-models-commerce-payment-activity"]})},"./src/main/webapp/universal/scripts-v6/models/commerce/payment/payment-activity.js":function(e,t){YUI.add("squarespace-models-commerce-payment-activity",function(e){e.namespace("Squarespace.Models");e.Squarespace.Models.CommercePaymentActivity=e.Base.create("CommercePaymentActivity",e.Model,[e.Squarespace.ModelSync.REST],{url:e.Squarespace.API_ROOT+"commerce/payment-activity"},{ATTRS:{id:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString},type:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString},testMode:{value:null,validator:e.Squarespace.AttrValidators.isNullOrBoolean},timestamp:{value:null,validator:e.Squarespace.AttrValidators.isNullOrNumber},description:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString},url:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString},websiteId:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString},orderId:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString},orderNumber:{value:null,validator:e.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","model","squarespace-attr-validators","squarespace-enum","squarespace-model-sync-rest"]})},"./src/main/webapp/universal/scripts-v6/models/composite.js":function(e,t,a){var r=a("./common/temp/node_modules/lodash/isEqual.js");var s=a("./src/main/webapp/universal/src/shared/utils/YuiElimination.ts").isYuiClassEnabled;YUI.add("squarespace-models-composite",function(i){s("CompositeModel")&&(i.namespace("Squarespace.Models").Composite=i.Base.create("CompositeModel",i.Model,[],{initializer:function(){this.LOG=new i.Squarespace.Debugger({name:this.name})},destructor:function(){var t=this.get("id");i.Array.each(this.get("models"),function(e){e.instance.detach(t+"|*")})},_setModels:function(e){i.Array.each(e,this._registerModel,this)},_registerModel:function(e){var s=e.instance;if(!i.Lang.isValue(s)){this.LOG.error("Rejecting model configuration. Missing `instance` field.",e);return}var n=i.guid();i.Array.each(e.attrs,function(t){var a=i.guid();this.addAttr(t,{value:s.get(t)},true);s.after(n+"|"+t+"Change",function(e){if(e.source===a)return;if(r(e.newVal,e.prevVal))return;this.set(t,e.newVal,{source:a})},this);this.after(t+"Change",function(e){if(e.source===a)return;if(r(e.newVal,e.prevVal))return;s.set(t,e.newVal,{source:a})},this)},this)},sync:function(e,t,a){"read"===e?this._read(t,a):"create"!==e&&"update"!==e||this._save(t,a)},_read:function(e,t){var a=new i.Parallel({context:this});var n={};i.Array.each(this.get("models"),function(s){s.instance.load(a.add(function(e,t){var a={};i.Array.each(s.attrs,function(e){a[e]=s.instance.get(e)});this.LOG.info("Loaded",s.instance.name,a,e,t);n=i.merge(n,a)}))});a.done(function(){this.LOG.info("complete!",n);t(null,n)})},_save:function(e,t){var s=new i.Parallel({context:this});var n={};i.Array.each(this.get("models"),function(a){a.instance.save(s.add(function(e,t){this.LOG.info("Saved ",a.instance.name,e,t);i.Lang.isObject(e)&&(e.responseJSON.errors?n=i.merge(e.responseJSON.errors,n):n[a.instance.name]=e)},this))});s.done(function(){if(i.Object.isEmpty(n)){this.LOG.info("Successfully saved!");t()}else{this.LOG.info("Save completed with errors",n);t(n)}})},isNew:function(){return false}},{ATTRS:{models:{setter:"_setModels"}}}))},"1.0",{requires:["parallel","squarespace-debugger"]})},"./src/main/webapp/universal/scripts-v6/models/growable-content-collection-list.js":function(e,t){YUI.add("squarespace-models-growable-content-collection-list",function(e){e.namespace("Squarespace.Models");e.Squarespace.Models.GrowableContentCollectionList=e.Base.create("GrowableContentCollectionList",e.Squarespace.Models.GrowableModelList,[],{model:e.Squarespace.Models.ContentCollection},{ATTRS:{paginator:{valueFn:function(){return new e.Squarespace.Models.RangePaginator({models:this,orderBy:"updatedOn",orderDirection:e.Squarespace.OrderDirection.DESCENDING})}}}})},"1.0",{requires:["base","squarespace-models-content-collection","squarespace-models-growable-model-list"]})},"./src/main/webapp/universal/scripts-v6/models/growable-content-item-list.js":function(e,t){YUI.add("squarespace-models-growable-content-item-list",function(e){e.namespace("Squarespace.Models");e.Squarespace.Models.GrowableContentItemList=e.Base.create("GrowableContentItemList",e.Squarespace.Models.GrowableModelList,[],{model:e.Squarespace.Models.ContentItem},{ATTRS:{paginator:{valueFn:function(){return new e.Squarespace.Models.RangePaginator({models:this,orderBy:"updatedOn",orderDirection:e.Squarespace.OrderDirection.DESCENDING})}}}})},"1.0",{requires:["base","squarespace-models-content-item","squarespace-models-growable-model-list"]})},"./src/main/webapp/universal/scripts-v6/models/shipping-configuration.js":function(e,t){YUI.add("squarespace-models-shipping-configuration",function(t){var e=t.Base.create("Box",t.Model,[],{getVolume:function(){return this.get("length")*this.get("height")*this.get("width")}},{ATTRS:{length:{value:0},height:{value:0},width:{value:0},x:{value:0},y:{value:0},z:{value:0}}});var a=t.Base.create("boxList",t.ModelList,[],{model:e});var s=t.Base.create("Container",e,[],{getUsedSpace:function(){var e=this.get("items");var t=0;e.each(function(e){t+=e.getVolume()});return t},getWeight:function(){var e=this.get("items");var t=0;e.each(function(e){t+=e.get("weight")});return t}},{ATTRS:{items:{lazyAdd:false,setter:function(e){if(t.instanceOf(e,a))return e;return new a({items:e})},validator:function(e){return t.Lang.isValue(e)&&e.length>0}},rate:{value:0},efficiency:{value:0}}});var n=t.Base.create("ContainerList",t.ModelList,[],{model:s});var i=t.Base.create("ShippingConfiguration",t.Model,[],{},{ATTRS:{containers:{lazyAdd:false,setter:function(e){if(t.instanceOf(e,n))return e;return new n({items:e})},validator:function(e){return t.Lang.isValue(e)&&e.length>0}},time:{value:0},efficiency:{value:0}}});t.namespace("Squarespace.Models").ShippingConfiguration=i},"1.0",{requires:["base","model","model-list"]})},"./src/main/webapp/universal/scripts-v6/models/tax-rule.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./common/temp/node_modules/big.js/big.js");YUI.add("squarespace-models-tax-rule",function(a){a.namespace("Squarespace.Models");var e=a.Squarespace.API_ROOT+"commerce/admin/tax-rules";a.Squarespace.Models.TaxRule=a.Base.create("TaxRule",a.Model,[a.Squarespace.ModelSync.REST],{root:e,url:e+"/{id}",initializer:function(e){var t=a.Squarespace.Localities.COUNTRIES_TO_STATES[this.get("countryCode")];e.scope===a.Squarespace.TaxScopes.COUNTRY?this.set("name",a.Squarespace.Localities.COUNTRY_OPTIONS[e.countryCode].title):e.scope===a.Squarespace.TaxScopes.STATE?this.set("name",t[e.state].title):e.zipStart!==e.zipEnd?this.set("name",s("{sub1} to {sub2}",{sub1:e.zipStart,sub2:e.zipEnd})):this.set("name",e.zipStart);this.set("shippingRate",this.get("chargeTaxOnShipping")?this.get("rate"):0)},newChildRaw:function(){var e;switch(this.get("scope")){case a.Squarespace.TaxScopes.COUNTRY:e={scope:a.Squarespace.TaxScopes.STATE,chargeTaxOnShipping:this.get("chargeTaxOnShipping"),chargeTaxOnServices:this.get("chargeTaxOnServices"),countryCode:this.get("countryCode")};break;case a.Squarespace.TaxScopes.STATE:e={scope:a.Squarespace.TaxScopes.LOCAL,chargeTaxOnShipping:this.get("chargeTaxOnShipping"),chargeTaxOnServices:this.get("chargeTaxOnServices"),countryCode:this.get("countryCode"),state:this.get("state")};break;case a.Squarespace.TaxScopes.LOCAL:throw new Error("Cannot create a scope lower than local")}return e},hasStates:function(){return!a.Lang.isUndefined(a.Squarespace.Localities.COUNTRIES_TO_STATES[this.get("countryCode")])},getStateOptions:function(){return a.Squarespace.Localities.getNewStateOptionsForCountry(this.get("countryCode"))},isUSA:function(){return"US"===this.get("countryCode")},isCanadian:function(){return"CA"===this.get("countryCode")},hasLocalTaxes:function(){return this.isUSA()},getAggregateRates:function(e){var t=new o(e.reduce(function(e,t){return e.plus(t.get("rate"))},new o(0)));var a=Number(t.plus(this.get("rate")));var s=new o(e.reduce(function(e,t){return e.plus(t.get("chargeTaxOnServices")?t.get("rate"):0)},new o(0)));var n=this.get("chargeTaxOnServices")?this.get("rate"):0;n=Number(s.plus(n));var i=new o(e.reduce(function(e,t){return e.plus(t.get("chargeTaxOnShipping")?t.get("rate"):0)},new o(0)));var r=this.get("chargeTaxOnShipping")?this.get("rate"):0;r=Number(i.plus(r));return{products:a,services:n,shipping:r}},isParentOf:function(e){var t=this.get("scope");if(t<e.get("scope")){if(t===a.Squarespace.TaxScopes.COUNTRY)return this.get("countryCode")===e.get("countryCode");if(t===a.Squarespace.TaxScopes.STATE)return this.get("countryCode")===e.get("countryCode")&&this.get("state")===e.get("state");return false}return false}},{ATTRS:{countryCode:{},state:{},zipStart:{},zipEnd:{},chargeTaxOnShipping:{value:false},chargeTaxOnServices:{value:true},scope:{}}});a.Squarespace.Models.TaxRuleList=a.Base.create("TaxRules",a.ModelList,[a.Squarespace.ModelSync.REST],{root:e,model:a.Squarespace.Models.TaxRule,getParentsOf:function(t){return this.filter(function(e){return e.isParentOf(t)})}})},"2.0",{requires:["base","model","squarespace-enum","squarespace-localities","squarespace-commerce-utils"]})},"./src/main/webapp/universal/scripts-v6/navigation/bar.js":function(e,t,a){var n=a("./common/temp/node_modules/lodash/isEqual.js");var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var c=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");var u=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js");var r=a("./src/main/webapp/universal/src/apps/App/shared/stores/MemberAreasStore.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/actions/MemberAreasActions.js");var o=a("./src/main/webapp/universal/src/shared/constants/ConnectedAccountLinkConfigurations.js");var d=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js").default;var h=a("./common/temp/node_modules/@sqs/rum-collector/timing.js");var v=a("./src/main/webapp/universal/src/shared/constants/Constants.js");YUI.add("squarespace-navigation-bar",function(p){p.namespace("Squarespace.Navigation");var i="link";var a=15;var s=p.Squarespace.Navigation.Bar=p.Base.create("Bar",p.Squarespace.Widgets.SSWidget,[],{initializer:function(){this._maUnsubscribe=r.listen(p.bind(function(e){if(!n(this._prevMemberAreasHomepages,e.memberAreasHomepages)){this._prevMemberAreasHomepages=e.memberAreasHomepages;p.Squarespace.Navigation.Events.fire("memberarea:homepage",{})}},this))},destructor:function(){p.Array.invoke(this.get("navigationViews"),"destroy",true);this.get("dragAndDrop").destroy(true);this.get("dialogHelper").destroy(true);this._maUnsubscribe()},appendDemoStyle:function(){if(document.getElementById("navigation-bar-demo-text"))return;var e=document.createElement("style");e.id="navigation-bar-demo-text";e.innerHTML="."+this.getClassName()+" .sqs-navigation-item-demo>div>.item-wrapper .title:after { content: '"+l("Demo")+"'; }";document.head.appendChild(e)},renderUI:function(){s.superclass.renderUI.call(this);this.appendDemoStyle();var e=this.get("contentBox");var t=this.get("navigationViews");p.Array.invoke(t,"render",e)},bindUI:function(){var e=p.Squarespace.Navigation.Events;this._registerEvent(e.on(["item:new","item:delete","itemList:delete"],this.syncUI,this),e.on("item:add",this._handleItemAddEvent,this),e.after("itemList:dd",this._storeNavigations,this),e.after("collection:create",function(e){var t=e.type;this._addCollection(t,e.modelList,e.opts,e.layoutKey)},this),e.after("memberarea:create",function(e){this._addMemberArea(e.modelList,e.memberArea)},this),e.after("memberarea:delete",function(e){this._moveMemberAreaPages(e.model)},this));e.after("memberarea:homepage:delete",function(e){m.removeMemberAreasHomepage(e);this.syncUI()},this);this._bindDragAndDrop()},_storeNavigations:function(e){var t=e.sourceList.get("modelList").getTemplateNavigation();var a;a=e.targetList.get("modelList")._templateNavigation?e.targetList.get("modelList").getTemplateNavigation():e.targetList.get("modelList").getNavigationItemList().getTemplateNavigation();var s=[];s.push(a);if(t!==a){s.push(t);var n=e.itemView.get("parent");n&&n.memberAreaId&&m.removeMemberAreasHomepage(e.itemView.get("name"))}var i=e.targetList.get("navigation");var r=e.itemView.get("collection");var o=i.get("name")===v.memberAreaNavigationName;var l=a.get("name")===v.memberAreaNavigationName;var c=o||l;var u=c&&r&&p.Squarespace.ContentCollectionUtils.isDemoCollectionId(r.get("id"));var d=u?r.cloneToNewCollection():p.Promise(function(e){e()});d.then(function(){var t=new p.Parallel;s.forEach(function(e){e.get("itemList").save({name:e.get("name")},t.add())});t.done(function(){p.Squarespace.Navigation.Events.fire("itemList:dd-saved",{itemView:e.itemView,itemSourceList:e.sourceList,itemTargetList:e.targetList,itemsSort:e.targetList,updateStyle:e.updateStyle})})})},_bindDragAndDrop:function(){if(this.get("isLocked"))return;this.get("dragAndDrop").bind()},syncUI:function(){var e=this.get("boundingBox").all(".sqs-navigation-item").size();var t=this.get("isLocked");this.get("boundingBox").toggleClass("many-items",e>a).toggleClass(this.getClassName("locked"),t)},_addCollection:function(e,t,a,s){if(e===i){var n=t&&t._templateNavigation&&t._templateNavigation.get("name");c.createNewCollection(e,null,n);this._addLink(t,a);return}if(e.externalServiceProviderType){this._addConnectedAccountLink(e.externalServiceProviderType,t,a);return}this._addGeneric(e,t,a,s)},_addMemberArea:function(e,t){var a=e.add({memberAreaId:t.id,title:t.name,children:[]},{index:0});var s=a.get("children");s.setTemplateNavigation(e.getTemplateNavigation());e.save()},_moveMemberAreaPages:function(e){var t=p.Squarespace.Singletons.TemplateNavigationList.getHiddenNavigation();var a=t.get("itemList");var s=e.get("children");for(var n=0;n<s.size();n++){var i=s.item(n);var r=i.get("collection");r&&m.removeMemberAreasHomepage(r.getId());i.setIsDisplaced(true);a.add(i)}a.save()},_addLink:function(e,t){e.add({externalLink:{newWindow:false,title:t.title||"",url:t.url||""}},t);e.save()},_addConnectedAccountLink:function(e,t,a){var s=o[e];t.add({externalLink:{newWindow:false,title:s.defaultLinkTitle,externalServiceProviderType:e}},a);t.save()},_addGeneric:function(e,a,s,n){h.mark("add-page");var t=u.getCollectionConfig(e);var i=l("New {title}",{title:t.title});var r=t.newTitle||i;var o=p.merge(t,{typeName:e,type:t.collectionType,navigationTitle:r,title:r,enabled:true});if(d.canHandleCollection(o))return d.createCollection(e).then(function(e){var t=a&&a._templateNavigation&&a._templateNavigation.get("name");c.createNewCollection(e.typeName,e.id,t);this.get("collectionCache").add(new p.Squarespace.Models.ContentCollection(e));p.Squarespace.Navigation.Events.fire("create:newPage",{collectionId:e.id,layoutKey:n});this._addItemToModelList(e,a,s);h.measure("add-page")}.bind(this));this.get("collectionCache").create(o,p.bind(function(e,t){if(e){new p.Squarespace.SystemError(l("Something Went Wrong"),e,"json").show();return}p.Squarespace.Navigation.Events.fire("create:newPage",{collectionId:t.id,layoutKey:n});this._addItemToModelList(t,a,s);h.measure("add-page")},this))},_handleItemAddEvent:function(e){this._addItemToModelList(e.item,e.modelList,e.opts)},_addItemToModelList:function(e,t,a){var s=t.add({collectionId:e.id,typeName:e.typeName,urlId:e.urlId,title:e.navigationTitle,folder:e.folder,enabled:e.enabled,collectionType:e.type},a);if(s.isFolder()){var n=s.get("children");n.setTemplateNavigation(t.getTemplateNavigation());a.addChildren&&a.addChildren.forEach(function(e){n.add(e)});n.save()}t.save()}},{createItemList:function(e,t){return new p.Squarespace.Navigation.ItemList({"strings.title":e.get("title"),"strings.description":e.get("description"),"strings.emptyMessage":e.get("emptyMessage"),"strings.addText":l("Add Page"),"strings.className":e.get("className"),"strings.icon":e.get("icon"),navigation:e,showFooter:e.get("showFooter"),showHeader:true,isLocked:t})},CSS_PREFIX:"sqs-navigation-bar",ATTRS:{isLocked:{valueFn:function(){return!p.Squarespace.UtilAuthenticated.userHasAccessPermission(p.Squarespace.AccessPermissions.CONFIG_CHANGE_STRUCTURE)}},navigations:{valueFn:function(){return p.Squarespace.Singletons.TemplateNavigationList},readOnly:true,writeOnce:true},navigationViews:{valueFn:function(){var t=this.get("isLocked");return this.get("navigations").map(function(e){return s.createItemList(e,t)})},validator:p.Squarespace.AttrValidators.isArray},template:{},collectionCache:{},dialogHelper:{valueFn:function(){return new p.Squarespace.Navigation.DialogHelper({collectionCache:this.get("collectionCache")})}},dragAndDrop:{valueFn:function(){return new p.Squarespace.Navigation.DragAndDrop({node:this.get("boundingBox"),navigationViews:this.get("navigationViews")})}}}})},"1.0",{requires:["array-invoke","base","squarespace-attr-validators","squarespace-models-connected-accounts","squarespace-models-content-collection","squarespace-models-template-navigation-list","squarespace-navigation-dialog-helper","squarespace-navigation-drag-and-drop","squarespace-navigation-events","squarespace-navigation-item-list","squarespace-navigation-stacked-index-list","squarespace-ss-widget","squarespace-util-authenticated"]})},"./src/main/webapp/universal/scripts-v6/navigation/dialog-helper.js":function(e,t,a){var r=a("./src/main/webapp/universal/packages/enums/ExternalServiceProviders.js");var o=a("./common/temp/node_modules/lodash/get.js");var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var u=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var d=a("./src/main/webapp/universal/packages/enums/Features.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js");var m=a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts");var h=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");var v=a("./src/main/webapp/universal/src/apps/App/shared/stores/PageCollectionDataStore.js");var g=a("./src/main/webapp/universal/src/apps/App/components/Catalog/stores/PageCatalogEntryStore.js");var f=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js");var b=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresets.js");var y=a("./src/main/webapp/universal/src/apps/App/shared/utils/LayoutPresetAdapter.js");var w=a("./src/main/webapp/universal/src/shared/constants/ConnectedAccountLinkConfigurations.js");var S=a("./common/temp/node_modules/react/index.js");var C=a("./common/temp/node_modules/react-dom/index.js");var _=a("./src/main/webapp/universal/src/shared/components/FeatureGate/ConfirmationModal/index.jsx");var T=a("./src/main/webapp/universal/src/apps/App/components/AddPageDialog/AddPageDialog.jsx");var j=a("./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/index.js");var q=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");var I=a("./src/main/webapp/universal/src/shared/utils/SevenOneNavListUtils.js");var E=a("./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialogConstants.js");var A=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js").default;var x=a("./src/main/webapp/universal/src/apps/App/shared/actions/MemberAreasActions.js");var k=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSettingsStore/index.js");var D=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSettingsActions.js");YUI.add("squarespace-navigation-dialog-helper",function(c){c.namespace("Squarespace.Navigation");var a=1e3;var s=400;var n=["paul-ahern-ekrw","jan-cox-oo37","bardorg","sarahschwartz","financierworldwide","james-krucik-0xt8","roberto-ramirez","sharon-harris-cwr0"];var i=c.Squarespace.Navigation.DialogHelper=c.Base.create("DialogHelper",c.Base,[c.Squarespace.Mixins.EventRegistrar],{initializer:function(){this.bind()},bind:function(){this._registerEvent(c.Squarespace.Navigation.Events.on("itemList:addItem",function(e){this.ensureItemIsAddable().then(function(){c.Squarespace.Navigation.Events.fire("collection:create",{type:e.type,modelList:e.modelList,opts:e.opts})})},this),c.Squarespace.Navigation.Events.on("create:newPage",function(e){var i=e.collectionId;if(q.isSevenOne())return;var t=e.layoutKey;if(i&&t){b.registerAdapter(y);var r=b.generateLayout(t);var a=b.containsForm(t);var o={data:{layout:r,raw:false}};if(a){var s=new c.Squarespace.Models.BlockFormModel;var n=s.getFormModel();var l=c.merge({_type:"emailConnect"},s.get("emailConnect"));n.set("backendConnectionConfigs",[l]);n.save(function(e,t){if(t&&t.response){var a;try{a=JSON.parse(t.response)}catch(e){false}if(a){var s=a.id;var n={formId:s};b.addFormIdToLayout(r,n);v.getPageCollectionData(i).then(function(){v.savePageCollectionData(i,o)})}}})}else v.getPageCollectionData(i).then(function(){v.savePageCollectionData(i,o)})}},this),c.Squarespace.Navigation.Events.on("itemList:addDialog",function e(n){this.ensureItemIsAddable().then(function e(){var t=n.title||l("Create New Page");var a=n.config||{};this.itemList=n.itemList;this.dialogConfig=a;this.clickedNode=n.targetNode;var s={itemList:n.itemList,title:t,config:a,isSectionAdd:n.isSectionAdd,isFolderAdd:n.isFolderAdd};q.isSevenOne()&&!n.isSectionAdd&&!n.isFolderAdd&&n.targetNode&&(s.navList=I.getNavListByChildEl(n.targetNode.getDOMNode()));this.showAddItemDialog(s)}.bind(this))},this),c.Squarespace.Navigation.Events.on("item:unsupported",function(e){c.Squarespace.Logger.log("contentCollection:unsupported",{collectionId:e.collection.get("id")});i.showUnsupportedItemAlert()}),c.Squarespace.Navigation.Events.on("itemList:linkAdd",function(e){var t=e.model.get("externalLink");if(t&&t.url&&!e.openModalForConfiguredUrl)this.createAndSaveLink(e.model,e.itemList);else if(t&&t.externalServiceProviderType)if(u.isFeatureEnabled(d.CHOW_NOW_INTEGRATION))this.createAndSaveLink(e.model,e.itemList);else{m("upsell_pill_display",{identifier:"chow-now-integration",isTrial:p.isTrial()});if(!this.confirmationModalContainer){this.confirmationModalContainer=document.createElement("div");document.body.appendChild(this.confirmationModalContainer)}var a=S.createElement(_,{isOpen:true,isTrial:p.isTrial(),onRequestClose:function(){this.createAndSaveLink(e.model,e.itemList);C.unmountComponentAtNode(this.confirmationModalContainer);this.confirmationModalContainer.remove();this.confirmationModalContainer=null}.bind(this)});C.render(a,this.confirmationModalContainer)}else this.showConfigureLinkDialog(e.model,e.itemList)},this),c.Squarespace.Navigation.Events.on("demo:editAttempt",function(e){this.showDemoCloneConfirmation(e.collection,e.callback)},this),c.Global.on("starter-page-add-collection",this.handleStarterPageAddCollection,this))},handleStarterPageAddCollection:function(e){if(!q.isSevenOne())return;if(!e.collectionId){this.addSevenOneBlankPage(e.typeName);return}if(!e.websiteId)return;var t=g.getCatalogEntryForCollection(e.collectionId);var a=t&&t.componentReplacements?t.componentReplacements:[];var s={catalogName:e.catalogName,collectionId:e.collectionId,sourceWebsiteId:e.websiteId,componentReplacements:a};this.addSevenOneStagedPage(s)},addSevenOneBlankPage:function(e){var t=c.merge(this._getNewItemPlacement(this.itemList),this.dialogConfig.strings);var a=this.itemList.get("modelList");if(!e){console.warn("No typeName came through!");return}c.Squarespace.Navigation.Events.fire("collection:create",{type:e,modelList:a,opts:t})},addSevenOneStagedPage:function(r){var o=c.merge(this._getNewItemPlacement(this.itemList),this.dialogConfig.strings);var l=this.itemList.get("modelList");this.copyCollection(r.collectionId,r.sourceWebsiteId,r.componentReplacements).then(function e(t){var i=new c.Squarespace.Models.ContentCollection(t);i.load(function e(){c.Squarespace.ContentCollectionCache.add(i,{source:"page-duplicated"});var t=i.get("typeName");var a=i.get("id");var s=l&&l._templateNavigation&&l._templateNavigation.get("name");h.createNewCollectionFromSevenOnePageCatalog({catalogName:r.catalogName,collectionId:r.collectionId,typeName:t,id:a,productSection:s});A.canHandleCollection(i.serialize())&&A.syncCollection(i.serialize());var n={id:i.get("id"),typeName:t,urlId:i.get("urlId"),navigationTitle:i.get("navigationTitle"),folder:i.get("folder"),enabled:i.get("enabled"),type:i.get("type")};c.Squarespace.Navigation.Events.fire("item:add",{item:n,modelList:l,opts:o})})})},copyCollection:function(e,t,a){var s="/api/content/copy/collection/component-replacements";var n="sourceCollectionId="+e+"&sourceWebsiteId="+t;return c.Squarespace.Promises.create(function(e,t){c.Data.post({url:s+"?"+n,data:a,json:true,success:e,failure:t})})},getConnectedAccountOptions:function(){var e=c.Squarespace.Models.ConnectedAccounts.loadFromStore().toArray();var t=c.Array.map(e,function(e){return e.get("serviceId")});var a=[];for(var s in w){var n=w[s];var i=t.indexOf(n.serviceId)>-1;i&&a.push({type:n.slug,value:{externalServiceProviderType:n.serviceId}})}return a},getAddPageContainer:function(){if(!this.addPageContainer){this.addPageContainer=document.createElement("div");document.body.appendChild(this.addPageContainer)}return this.addPageContainer},closeAddPageContainer:function(){if(this.addPageContainer){C.unmountComponentAtNode(this.addPageContainer);this.addPageContainer.remove();this.addPageContainer=null}},showAddItemDialog:function(e){var t=e.itemList;if(!t.get("supported")){i.showUnsupportedItemAlert();return}e.region=t.get("boundingBox").get("region");e.anchorNode=o(e,"config.dialog.anchorNode",t.get("boundingBox"));var a=t.get("acceptTypes");a=a&&a.reduce(function(e,t){e[t]=t;return e},{});e.acceptTypes=a;e.collectionConfigs=f.getState().collectionConfigs;e.connectedAccountOptions=this.getConnectedAccountOptions();e.addPageContainer=this.getAddPageContainer();if(t.isMemberAreaRootNavigationItemList()){this.showAddNewMemberAreaDialog(e);return}if(q.isSevenOne()&&(!e.config||!e.config.showOldDialog)){this.showSevenOneAddItemDialog(e);return}this.showV7AddItemDialog(e)},showAddNewMemberAreaDialog:function(e){var t="member-area-onboarding-wizard";var a=k.getState().tutorialsCompleted;var s=a.includes(t);if(s)x.setIsMACreationOpen(true);else{x.setIsMAOnboardingOpen(true);D.save(k.getMergedWebsiteSettings({tutorialsCompleted:a.concat(t)}),true)}x.setMemberAreaModelList(e.itemList.get("modelList"))},showV7AddItemDialog:function(s){var e=function(e,t){if(!e)return;e.externalServiceProviderType&&h.createNewCollection("chow_now");var a=c.merge(this._getNewItemPlacement(s.itemList),s.config.strings);c.Squarespace.Navigation.Events.fire("collection:create",{type:e,modelList:s.itemList.get("modelList"),opts:a,layoutKey:t})}.bind(this);var t={acceptTypes:s.acceptTypes,collectionConfigs:s.collectionConfigs,connectedAccountOptions:s.connectedAccountOptions,isOpen:true,isSectionAdd:s.isSectionAdd,region:s.region,onRequestClose:this.closeAddPageContainer.bind(this),onCreateNewPage:e};C.render(S.createElement(T,t),s.addPageContainer);h.openNewPageDialog(s.isSectionAdd)},showSevenOneAddItemDialog:function(a){var e=a.anchorNode;this.clickedNode&&(e=this.clickedNode.getDOMNode());var t=a.connectedAccountOptions.find(function(e){return e.value.externalServiceProviderType===r.CHOWNOW});var s=!!t;var n=function(e){this.closeAddPageContainer();if(!e)return;e===E.CHOW_NOW&&(e={externalServiceProviderType:r.CHOWNOW});var t=c.merge(this._getNewItemPlacement(a.itemList),a.config.strings);c.Squarespace.Navigation.Events.fire("collection:create",{type:e,modelList:a.itemList.get("modelList"),opts:t})}.bind(this);var i={acceptTypes:a.acceptTypes,collectionConfigs:a.collectionConfigs,isOpen:true,isFolderAddingSupported:!a.isFolderAdd,isChowNowEnabled:s,anchorNode:e,onRequestClose:this.closeAddPageContainer.bind(this),onClick:n};C.render(S.createElement(j,i),a.addPageContainer);h.openCatalogDialog(a.navList)},showConfigureLinkDialog:function(e,t){e.onceAfter("save",function(){c.Squarespace.Navigation.Events.fire("itemList:linkConfigure",{model:e,itemList:this})},t);var a=new c.Squarespace.Editor.NavigationExternalLinkReact({model:e,isNew:true});a.show()},createAndSaveLink:function(e,t){e.save();e.onceAfter("save",function(){c.Squarespace.Navigation.Events.fire("itemList:linkConfigure",{model:e,itemList:this})},t)},showDemoCloneConfirmation:function(e,t){if(!e||!e.get("isDemoCollection"))return;var a=e.get("typeName");h.userCloneDemoCollection(a);var s=e.get("id");var n=c.Squarespace.CollectionDialogPortal;n&&n.exampleContentCloneConfirmationWithCollectionId(s).then(t)},ensureItemIsAddable:function(){var e=c.Squarespace.Singletons.TemplateNavigationList.getNavigationItemCount();var t=c.Squarespace.Context.getInstance().get("website").get("identifier");if(-1!==n.indexOf(t))return c.when();if(e>=a){i.showPageLimitReachedDialog();c.Squarespace.Logger.log("nav-item-limit:reached",{count:e});return c.Squarespace.Promises.rejectWith()}if(e>=s){c.Squarespace.Logger.log("nav-item-limit:warning",{count:e});return i.showHighPageLimitWarningDialog()}return c.when()},_getNewItemPlacement:function(e){if(c.Lang.isNumber(e.get("insertIndex")))return{index:Math.min(e.get("insertIndex"),e.get("itemViews").length)};if(!e.get("append"))return{index:0};return{}}},{showHighPageLimitWarningDialog:function(){return new c.Squarespace.Fluent.Confirm({"strings.title":l("Are You Sure?"),"strings.message":l("Your site has over 400 pages. Sites with this much content may load slowly. Please delete unused pages or consider consolidating your content."),"strings.confirm":l("Continue")})},showPageLimitReachedDialog:function(){return new c.Squarespace.Widgets.Alert({"strings.title":l("Page Limit Reached"),"strings.message":l("Squarespace has a limit of 1000 pages per site. Please delete unused pages or consider consolidating your content.")})},showUnsupportedItemAlert:function(){return new c.Squarespace.Widgets.Alert({"strings.title":l("Unsupported Collection"),"strings.message":l("This page has malformed data and can not be edited. This error has been logged. Please contact customer care if this issue persists.")})},ATTRS:{collectionCache:{}}})},"1.0",{requires:["base","squarespace-logger","squarespace-promises","squarespace-system-error","squarespace-mixins-event-registrar","squarespace-widgets-alert","squarespace-singletons-location","squarespace-navigation-events","squarespace-content-manager-collection-dialog-portal","squarespace-editor-navigation-external-link","squarespace-editor-navigation-external-link-react","squarespace-fluent-confirmation","squarespace-models-connected-accounts","squarespace-models-content-collection","squarespace-models-template-navigation-list","squarespace-block-form-model"]})},"./src/main/webapp/universal/scripts-v6/navigation/drag-and-drop.js":function(e,t,a){var n=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/src/apps/App/shared/stores/SiteNavigationStore.js");var r=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationUtils.js");var o=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationStore.js");var v=a("./src/main/webapp/universal/src/shared/constants/Constants.js");YUI.add("squarespace-navigation-drag-and-drop",function(h){var t=h.SQS.DDWrappers.Plugin.DDSuperProxy;h.namespace("Squarespace.Navigation");h.Squarespace.Navigation.DragAndDrop=h.Base.create("DragAndDrop",h.Base,[],{initializer:function(){this.LOG=new h.Squarespace.Debugger({name:"NavigationDragAndDrop",output:false});this._regionCache=null},destructor:function(){if(this.delegate){this.delegate.destroy();this.delegate=null}this.LOG=null},bind:function(){var e=this.get("node");this.delegate=new h.SQS.DDWrappers.DD.Delegate({container:e,nodes:".sqs-navigation-item",dragConfig:{groups:["navigation"]},enableDragScroll:true,enableDragConstrained:true,dragConstrainedConfig:{constrain:null,stickY:true}});this.delegate.after("drag:mouseDown",this._dragMousedown,this);this.delegate.after("drag:start",this._dragStart,this);this.delegate.after("drag:align",this._dragAlign,this);this.delegate.after("drag:end",this._dragEnd,this);this.delegate.dd.plug(t,{movingClass:"sqs-navigation-item-dragging",cloneClass:"sqs-navigation-item-proxy"});e.on("scroll",function(e){this.bustRegionCache()},this)},getRegionCache:function(e){var t=e.target.get("node");if(null!==this._regionCache&&this._regionCache.dragNode===t)return this._regionCache.cache;var a=this._evaluateRegionCache(e);this._regionCache={dragNode:t,cache:a};h.DD.DDM._debugRegionMap&&this._debugRegions(a);return this._regionCache.cache},_evaluateRegionCache:function(e){var t=this.get("navigationViews");var a=e.target.get("node");var u=this.getNavigationViewForNode(a,t);var d=this._getDragType(u);var p=[];function m(e){if(e===u)return;var t=e.get("boundingBox").getDOMNode();if(!t)return;var a=t.getBoundingClientRect();var s=a.top;var n=a.height;var i=a.top+a.height/2;var r=null;e instanceof h.Squarespace.Navigation.Item.Folder?o(e):e instanceof h.Squarespace.Navigation.ItemList?l(e):c(e);function o(e){var t=e.get("itemList");var a=e.get("model").getNavigationItemList().getTemplateNavigation();var s=t.get("acceptTypes")||[];if(!s.includes(d)){if(t.get("navigation").get("name")===v.memberAreaNavigationName&&d!==v.MEMBER_AREA_NAVIGATION_TYPE)return;c(e);return}if(e.get("boundingBox").hasClass("collapsed")){c(e);return}if(e instanceof h.Squarespace.Navigation.Item.Index&&(u.get("isHomepage")||u.get("containsHomepage"))){c(e);return}if(e instanceof h.Squarespace.Navigation.Item.StackedIndex&&a.get("name")!==v.memberAreaNavigationName&&u.get("collection").get("passwordProtected")){c(e);return}l(t);if(e instanceof h.Squarespace.Navigation.Item.MemberArea)return;var n=e.get("contentBox").one("> .item-wrapper");var i=n.getDOMNode().getBoundingClientRect();p.push({min:i.top,max:i.top+i.height/2,action:"before",navigation:e});var r=t.get("contentBox").one("> footer");if(r){var o=r.getDOMNode().getBoundingClientRect();p.push({min:o.top+o.height/2,max:o.top+o.height,action:"after",navigation:e})}}function l(e){var t=e.get("acceptTypes")||[];if(!t.includes(d)){var a=h.Squarespace.Singletons.TemplateNavigationList.getMemberAreaNavigation();var s=e.get("navigation")===a;s&&!u.get("isHomepage")&&(r=e.get("itemViews"));return}if(e.get("boundingBox").hasClass("sqs-navigation-item-list-empty")){var n=e.get("contentBox").one("> .item-list-wrapper > .empty-message");var i=n.getDOMNode().getBoundingClientRect();p.push({min:i.top,max:i.top+i.height,action:"insert",navigation:e})}r=e.get("itemViews")}function c(e){p.push({min:s,max:i,navigation:e,action:"before"});p.push({min:i,max:s+n,navigation:e,action:"after"})}r&&r.forEach(m)}t.forEach(m);h.DD.DDM._debugRegionMap&&this._debugRegions(p);return p},_getDragType:function(e){var t=e.get("model");var a=t.get("collection");if(a){if(a.get("type")===n.TEMPLATE_PAGE)return"page";return a.get("typeName")}var s=t.get("externalLink");if(s)return"link";if(t.isMemberArea())return v.MEMBER_AREA_NAVIGATION_TYPE;return null},getNavigationViewForNode:function(e,t){for(var a=0;a<t.length;a++){if(t[a].get("boundingBox")===e)return t[a];var s=[];t[a]instanceof h.Squarespace.Navigation.ItemList&&s.push(t[a].get("itemViews"));if(t[a]instanceof h.Squarespace.Navigation.Item.Folder){var n=t[a].get("itemList");if(n.get("boundingBox")===e)return n;s.push(t[a].get("itemList").get("itemViews"))}for(var i=0;i<s.length;i++){if(!s[i]||0===s[i].length)continue;var r=this.getNavigationViewForNode(e,s[i]);if(r)return r}}return null},bustRegionCache:function(){this._regionCache=null},_dragMousedown:function(e){e.target.get("node").hasClass("sqs-navigation-item-proxy")&&e.halt()},_dragStart:function(e){var t=e.target.get("node");if(t.hasClass("sqs-navigation-item-proxy"))return;this.get("node").addClass("drag-in-flight");var a=this.get("navigationViews");this._sourceItem=this.getNavigationViewForNode(t,a);this._isDragLegal(this._sourceItem.get("name"))||e.halt();var s=this._sourceItem.get("boundingBox").ancestor(".sqs-navigation-item-list");this._sourceList=this.getNavigationViewForNode(s,a);this.bustRegionCache();var n=e.target.get("dragNode");t.insert(n,"after")},_dragAlign:function(e){var t=e.target.get("node");if(t.hasClass("sqs-navigation-item-proxy"))return;var a=e.pageY;var s=this.getRegionCache(e);var n=this.evalRegionAction(a,s);if(!n){this.LOG.isInfoEnabled()&&this.LOG.info("could not find any action given cursor top: %s",a);return}if(n===this._lastAction)return;this.LOG.isInfoEnabled()&&this.LOG.info("Found!",n);this._performAction(n,t,e.target.get("dragNode"));this.bustRegionCache();this._lastAction=n},evalRegionAction:function(e,t){var a;for(var s=0;s<t.length;s++){var n=t[s];var i=n.min;var r=n.max;if(i<e&&e<r){a=n;break}}return a},_performAction:function(e,t,a){var s=e.navigation;var n=t.get("parentNode");if("before"===e.action)s.get("boundingBox").insert(t,"before");else if("after"===e.action)s.get("boundingBox").insert(t,"after");else if("insert"===e.action){var i=e.navigation.get("contentBox").one("> .item-list-wrapper > .item-list");i.appendChild(t)}else this.LOG.warn("Could not locate action for %s",e.action);t.insert(a,"after");this._syncEmptyState(n);this._syncEmptyState(t.get("parentNode"))},_syncEmptyState:function(e){var t=e.ancestor(".sqs-navigation-item-list",true);e.get("children").isEmpty()?t.addClass("sqs-navigation-item-list-empty"):t.removeClass("sqs-navigation-item-list-empty")},_dragEnd:function(e){var t=e.target.get("node");this.get("node").removeClass("drag-in-flight");if(t.hasClass("sqs-navigation-item-proxy"))return;this.LOG.info("drag end!");var a=this._sourceItem.get("boundingBox").ancestor(".sqs-navigation-item-list");this._targetList=this.getNavigationViewForNode(a,this.get("navigationViews"));var s=this._targetList.get("boundingBox").one(".item-list");var n=s.all("> .sqs-navigation-item:not(.sqs-navigation-item-proxy)").indexOf(this._sourceItem.get("boundingBox"));h.DD.DDM._debugRegionMap&&this._clearDebugRegions();var i={source:{item:this._sourceItem,list:this._sourceList},target:{list:this._targetList,idx:n}};var r=this._sourceList.get("modelList").indexOf(this._sourceItem.get("model"));if(this._sourceList===this._targetList&&n===r)return;h.Squarespace.Navigation.Events.fire("itemList:dd",{sourceList:i.source.list,targetList:i.target.list,itemView:i.source.item,targetIndex:i.target.idx});if(this.LOG.isInfoEnabled()){this.LOG.info("dragActionPack",i);this.LOG.info("isSameList",i.source.list===i.target.list);this.LOG.info("dragActionPack.source.item",i.source.item.get("boundingBox").getDOMNode());this.LOG.info("dragActionPack.source.list",i.source.list.get("boundingBox").getDOMNode());this.LOG.info("dragActionPack.target.list",i.target.list.get("boundingBox").getDOMNode());this.LOG.info("dragActionPack.target.idx",i.target.idx)}},_isDragLegal:function(e){if(this._isCollectionALockedVariant(e)){new h.Squarespace.Widgets.Alert({"strings.title":s("Cannot Move Variant"),"strings.message":s("This page cannot be moved because it is a variant with traffic allocated to it. Please either split traffic evenly in the parent variation or unallocate all traffic before deleting.")});return false}return true},_isCollectionALockedVariant:function(e){var t=i.getPathToCollection(e);if(t.length>2){var a=t[t.length-2];var s=t[t.length-1];if("variation"===a.typeName){var n=o.getVariation(a.collectionId);return r.isLockedVariant(n,s.collectionId)}}return false},_debugRegions:function(e){var t=h.one("#regions-debug")||h.one("body").appendChild(h.Node.create('<div id="regions-debug"></div>'));t.setStyles({position:"fixed",top:0,left:0,zIndex:99999999,pointerEvents:"none",color:"white",fontSize:"10px",textAlign:"right"});t.empty();h.Array.each(e,function(e){t.appendChild(h.Node.create('<div class="region-debug"></div>')).setStyles({position:"absolute",top:e.min,height:e.max-e.min,left:0,width:"264px"}).setContent('<span style="'+["background: rgba(255,0,0,0.4)","line-height: "+(e.max-e.min)+"px","height: "+(e.max-e.min)+"px","overflow: hidden","display: inline-block"].join(";")+';">'+e.action+" &mdash; "+this._getDebugNodeIdentifier(e)+" &mdash; "+e.min+" &mdash; "+e.max+"</span>")},this)},_getDebugNodeIdentifier:function(e){var t=e.navigation;if(!t)return"unknown";var a=t.get("model");if(!a)return"~ navigation";return a.get("title")},_clearDebugRegions:function(){var e=h.one("#regions-debug");e&&e.remove()}},{ATTRS:{node:{},navigationViews:{}}});h.DD.DDM._debugRegionMap=false},"1.0",{requires:["base","@sqs/yui-dd-wrappers/dd-delegate","@sqs/yui-dd-wrappers/dd-superproxy","squarespace-navigation-events"]})},"./src/main/webapp/universal/scripts-v6/navigation/events.js":function(e,t){YUI.add("squarespace-navigation-events",function(e){e.namespace("Squarespace.Navigation");var t=new e.EventTarget;t.publish("item:initialize");t.publish("item:destroy");t.publish("item:delete");t.publish("item:new");t.publish("item:select");t.publish("item:active");t.publish("item:unsupported");t.publish("item:registerPusher");t.publish("item:deregisterPusher");t.publish("itemList:addDialog");t.publish("itemList:linkAdd");t.publish("itemList:linkConfigure");t.publish("itemList:delete");t.publish("itemList:dd");t.publish("itemList:dd-saved");t.publish("collection:create");t.publish("memberarea:create");t.publish("memberarea:navigationTitleChange");t.publish("memberarea:delete");t.publish("memberarea:homepage:delete");t.publish("collection:update");t.publish("collection:homepage");t.publish("memberarea:homepage");t.publish("collection:emptyTrash");t.publish("content:update");t.publish("content:itemSelect");t.publish("content:itemDelete");t.publish("demo:editAttempt");e.Lang.isValue(e.Squarespace.Navigation.Events)||(e.Squarespace.Navigation.Events=t)},"1.0",{requires:["event"]})},"./src/main/webapp/universal/scripts-v6/navigation/item-list.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/apps/App/shared/utils/BetaFeaturesUtils.js");var r=a("./src/main/webapp/universal/packages/enums/Flag.js");var o=a("./src/main/webapp/universal/src/shared/constants/Constants.js");var l=a("./common/temp/node_modules/react-dom/index.js");var c=a("./common/temp/node_modules/react/index.js");var u=a("./src/main/webapp/universal/src/apps/App/shared/components/MemberAreasFeatureBadge.jsx");YUI.add("squarespace-navigation-item-list",function(i){i.namespace("Squarespace.Navigation");var s=i.Squarespace.Navigation.ItemList=i.Base.create("ItemList",i.Squarespace.Widgets.SSWidget,[],{initializer:function(){var e=this.get("modelList");var a=[];e.each(function(e){var t=e.get("collection");t&&t.get("destroyed")||a.push(this._createItemView(e))},this);this.set("itemViews",a)},destructor:function(){i.Array.invoke(this.get("itemViews"),"destroy",true)},renderUI:function(){s.superclass.renderUI.call(this);var e=this.get("contentBox").one(".item-list-wrapper .item-list");var t=this.get("itemViews");i.Array.invoke(t,"render",e);this.get("strings.icon")&&this.renderIcon(this.get("strings.icon"))},renderIcon:function(e){var t=this.get("contentBox").one(".header-nav-title");t.insertBefore('<span class="header-nav-icon"></span>',t.nextSibling);var a=t.one(".header-nav-icon");"ma-feature-gate"===e&&l.render(c.createElement(u,{analyticsId:"member-areas-navigation",className:"icon-feature-gate-badge"}),a.getDOMNode())},showItemListAddDialog:function(e,t){var a=t&&t.ancestor(".sqs-navigation-item-folder");i.Squarespace.Navigation.Events.fire("itemList:addDialog",{targetNode:t,itemList:this,isFolderAdd:!!a,config:{showOldDialog:e}})},bindUI:function(){this.get("boundingBox").delegate("click",function(e){if(e.target.ancestor("."+this.getClassName("content"))!==this.get("contentBox"))return;if(this.get("isLocked"))return;this.showItemListAddDialog(e.metaKey&&n.isFeatureEnabled(r.SECTION_ADMIN),e.target)},"footer .add-page",this);this.after("itemViewsChange",this._syncEmptyState);this._registerEvent(this.get("modelList").after("add",function(e){if(e.model.get("restored")||e.model.get("duplicated")){this._afterModelListAdd(e.model,e.index,{});return}this.get("modelList").onceAfter("save",function(){this._afterModelListAdd(e.model,e.index,{openModalForConfiguredUrl:e.openModalForConfiguredUrl})},this)},this),i.Squarespace.Navigation.Events.on("itemList:linkConfigure",function(e){if(e.itemList!==this)return;this._addNavigationItem(e.model);var t=e.model.get("externalLink");t&&t.externalServiceProviderType&&i.Squarespace.Navigation.Events.fire("item:new",{model:e.model})},this),i.Squarespace.Navigation.Events.on("itemList:dd",this._handleDDEvent,this))},syncUI:function(){this._syncEmptyState();i.Array.invoke(this.get("itemViews"),"syncUI")},destroyAllModels:function(e){var t=i.Array.some(this.get("itemViews"),function(e){return e.get("selected")});var a=this.get("modelList").toArray();function s(){if(0===a.length){i.Squarespace.Navigation.Events.fire("itemList:delete",{selected:t});e();return}a.pop().destroy({remove:true},s)}s()},_syncEmptyState:function(){var e=this.get("empty");var t=this.getClassName("empty");this.get("boundingBox").toggleClass(t,e)},_afterModelListAdd:function(e,t,a){if(e.isLink()){this._getLinkDetails(e,a);return}this._addNavigationItem(e,t);i.Squarespace.Navigation.Events.fire("item:new",{model:e})},_addNavigationItem:function(e){var t=this.get("itemViews");var a=this.get("contentBox").one(".item-list-wrapper .item-list");var s=this._createItemView(e,{isNew:!e.get("restored"),isDuplicated:e.get("duplicated")});s.render();if(this.get("append")){t.push(s);a.append(s.get("boundingBox"))}else{t.unshift(s);a.prepend(s.get("boundingBox"))}this.set("itemViews",t)},_getLinkDetails:function(e,t){i.Squarespace.Navigation.Events.fire("itemList:linkAdd",{model:e,itemList:this,openModalForConfiguredUrl:t.openModalForConfiguredUrl})},_createItemView:function(e,t){var a=s.createNavigationItem(e,i.merge({},t,{isLocked:this.get("isLocked")}));this._registerEvent(a.after("destroy",i.bind(this._removeItemView,this,a)));return a},_removeItemView:function(t,e){var a=this.get("itemViews");a=i.Array.filter(a,function(e){return e!==t});this.set("itemViews",a,e||{})},_handleDDEvent:function(e){if(e.sourceList!==this&&e.targetList!==this)return;if(e.sourceList===this&&e.targetList===this){this._handleDDRemove(e.itemView,true);this._handleDDAdd(e.itemView,e.targetIndex)}else e.sourceList===this?this._handleDDRemove(e.itemView):e.targetList===this&&this._handleDDAdd(e.itemView,e.targetIndex)},_handleDDAdd:function(e,t){var a=e.get("model");var s=this.get("modelList");var n=this.get("itemViews");s.add(a,{index:t,silent:true});s instanceof i.Squarespace.Models.NavigationFolderItemList?a.setFolderItemList(s):a.setFolderItemList(null);n.splice(t,0,e);this.set("itemViews",n)},_handleDDRemove:function(e,t){var a=e.get("model");var s=this.get("modelList");s.remove(a);this._removeItemView(e,{silent:t})},isMemberAreaRootNavigationItemList:function(){var e=this.get("navigation");return e.get("name")===o.memberAreaNavigationName&&e.get("itemList")===this.get("modelList")}},{createNavigationItem:function(e,t){var a=i.Squarespace.Navigation.Utils.getNavigationItemType(e);if(i.Lang.isValue(a))return new a(i.merge(t,{model:e}));return new i.Squarespace.Navigation.Item.Base(i.merge(t,{model:e,supported:false}))},CSS_PREFIX:"sqs-navigation-item-list",HANDLEBARS_TEMPLATE:"navigation-item-list.html",ATTRS:{acceptTypes:{valueFn:function(){return this.get("navigation").get("acceptTypes")}},containsHomepage:{getter:function(){return this.get("itemViews").some(function(e){return e.get("isHomepage")})}},empty:{getter:function(){return 0===this.get("itemViews").length}},isLocked:{value:false,writeOnce:true},itemViews:{value:[],validator:i.Squarespace.AttrValidators.isArray},navigation:{validator:i.Squarespace.AttrValidators.isInstanceOf(i.Model)},modelList:{valueFn:function(){return this.get("navigation").get("itemList")},validator:i.Squarespace.AttrValidators.isInstanceOf(i.ModelList)},showFooter:{value:true,validator:i.Squarespace.AttrValidators.isBoolean},showHeader:{value:true,validator:i.Squarespace.AttrValidators.isBoolean},append:{value:false,validator:i.Squarespace.AttrValidators.isBoolean},supported:{value:true,validator:i.Squarespace.AttrValidators.isBoolean},strings:{value:{title:"",description:"",emptyMessage:"",addText:"",className:"",icon:""}}}})},"1.0",{requires:["array-invoke","base","model-list","squarespace-attr-validators","squarespace-models-connected-accounts","squarespace-navigation-events","squarespace-navigation-item-base","squarespace-navigation-item-list-template","squarespace-navigation-utils","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/base.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");var m=a("./src/main/webapp/universal/packages/enums/PagePermissionType.js");var r=a("./src/main/webapp/universal/src/apps/App/shared/stores/SiteNavigationStore.js");var c=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationUtils.js");var u=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationStore.js");var d=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationActions.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentCollectionActions.js");var v=a("./src/main/webapp/universal/src/apps/App/shared/actions/MemberAreasActions.js");var g=a("./src/main/webapp/universal/src/apps/App/shared/stores/MemberAreasStore.js");var f=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateInstallationsStore.js");var b=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");var y=a("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js");var w=a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js");var S=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");var C=a("./src/main/webapp/universal/src/shared/constants/Constants.js");var n=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/collectionSettingsUtils.js");var _=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js").default;var T=n.getCollectionMemberAreaId;YUI.add("squarespace-navigation-item-base",function(o){o.namespace("Squarespace.Navigation.Item");var n=function(){};var l={"strings.title":s("Remove Example Page"),"strings.message":s("Are you sure you wish to remove this example page?")};var t=[o.Squarespace.Damask.Panel.MixinPanel,o.Squarespace.Damask.Menu.MixinContentManager];var p=o.Squarespace.Navigation.Item.Base=o.Base.create("Base",o.Squarespace.Widgets.SSWidget,[o.Squarespace.Damask.Panel.MixinPusher],{initializer:function(){o.Squarespace.Navigation.Events.fire("item:initialize",{item:this,isPusher:this.get("isPusher")});var e=this.get("parent");e&&"variation"===e.typeName&&(u.getVariation(e.collectionId)||d.fetchData(e.collectionId));this._toggleHomepage()},destructor:function(){o.Squarespace.Navigation.Events.fire("item:destroy",{item:this,selected:this.get("selected"),collection:this.get("collection"),isPusher:this.get("isPusher")})},renderUI:function(){p.superclass.renderUI.call(this);var e=this.get("contentBox");var t=this.get("collection");(this.get("hasChevron")||o.Squarespace.Navigation.ListUtils.isCollectionAPortfolio(t))&&e.one(".item-wrapper").addClass("chevron");t&&e.setAttribute("data-collection-id",t.get("id"))},bindUI:function(){var e=this.get("contentBox").one(".item-wrapper");var a;this._registerEvent(e.on("click",function e(t){if(o.Lang.isValue(a))return;a=o.later(300,this,function e(){a=null;t._event.defaultPrevented||this.get("isLoading")||this.select()})},this),e.one(".title").on("dblclick",function e(t){if(o.Lang.isValue(a)){a.cancel();a=null}if(this.get("isDemoCollection")){if(S.isSevenOne())return;o.Squarespace.Navigation.Events.fire("demo:editAttempt",{collection:this.get("collection"),callback:this.editTitle.bind(this)});return}if(this.get("isMemberArea"))return;this.editTitle()},this),e.on("contextmenu",function(e){e.preventDefault();var t=this.get("collection");t&&y.clickCollectionSettingsGear(t.get("id"),"pages-panel");this.showEditorDialog()},this),e.one(".icon-configure").on("click",function(e){e.halt();var t=this.get("collection");t&&y.clickCollectionSettingsGear(t.get("id"),"pages-panel");this.showEditorDialog()},this),e.one(".icon-delete").on("click",function(e){e.halt();var t=this.get("collection");t&&b.deleteCollectionClick("pages-panel",t.get("typeName"));this.confirmDelete()},this),this.get("model").on("destroy",this.destroy,this),o.Squarespace.Navigation.Events.after("item:new",function(e){var t={isDisplaced:e.model.get("isDisplaced")};if(e.model!==this.get("model"))return;if(e.model.get("restored"))this.select();else{this._animateIn();this._newInstanceCallback(t)}},this),o.Squarespace.Navigation.Events.after("itemList:dd-saved",this._handleDrop,this),o.Squarespace.Navigation.Events.after("item:active",this._toggleSelected,this),o.Squarespace.Navigation.Events.after("collection:homepage",this._toggleHomepage,this),o.Squarespace.Navigation.Events.after("memberarea:homepage",this._toggleHomepage,this),o.Squarespace.Navigation.Events.after("memberarea:navigationTitleChange",function(e){this._updateTitle(e.request.id,e.request.name)},this));this.after("selectedChange",this._toggleHighlighted);this._bindModelEvents()},syncUI:function(){var e=this.get("isDemoCollection");var t=this.get("boundingBox");var a=this.get("collection");t.toggleClass(this.getClassName("demo"),e);t.toggleClass(this.getClassName("disabled"),!a.get("enabled"));this.addPageProtectionTypeClass()},addPageProtectionTypeClass:function(){var e=this.get("collection");var t=e.get("pagePermissionType");var a=this.get("boundingBox");switch(t){case m.NONE:a.removeClass(this.getClassName("password-protected"));break;case m.SCRYPT_HASH:a.addClass(this.getClassName("password-protected"));break;case m.ACL_ID:a.removeClass(this.getClassName("password-protected"));break}},_bindModelEvents:function(){var e=this.get("collection");if(!o.Lang.isValue(e))return;this._registerEvent(e.after("navigationTitleChange",this._updateTitle,this),e.after("save",this._emitCollectionUpdate,this),e.after("clonedExampleContent",this.syncUI,this),e.after("enabledChange",this.syncUI,this),e.after("pagePermissionTypeChange",this.syncUI,this))},select:function(e){var t=o.merge({item:this,collection:this.get("collection")},e);if(!this.get("model").get("supported")){this._emitUnsupportedEvent();return}o.Squarespace.Navigation.Events.fire("item:select",t);o.Squarespace.Navigation.Events.fire("item:active",t)},_showSpinner:function(){var t=o.Node.create("<div></div>");t.addClass("spinner-cog");var e=this.get("contentBox");var a=e.one(".icons");a.appendChild(t);var s=e.one(".icon-configure");s.hide();var n=new o.Squarespace.Spinner({color:"dark",size:"default",render:t});return function e(){n.destroy();n=null;t.remove(true);s.show()}},showEditorDialog:function(){if(this.get("isLocked"))return;if(!this.get("model").get("supported")&&this.get("collection").get("type")!==i.TEMPLATE_PAGE){this._emitUnsupportedEvent();return}if(this.get("isDemoCollection")){this.set("isLoading",true);var e=this._showSpinner();o.Squarespace.Navigation.Events.fire("demo:editAttempt",{collection:this.get("collection"),callback:function(){e();this.set("isLoading",false);this.showEditorDialog()}.bind(this)});return}o.Squarespace.CollectionDialogPortal.showCollectionConfigurationDialog(this.get("collection").get("id"))},confirmDelete:function(e){if(this._isLockedVariant()){p.showLockedVariantAlert();return}if(this.get("isLocked"))return;if(this.get("isHomepage")){p.showDeleteHomepageAlert();return}if(this.get("containsHomepage")){p.showContainsHomepageAlert();return}var t=this.get("collection");var a=t&&_.canHandleCollection(t.serialize());var s={title:a?this.get("collectionTitle"):o.Escape.html(this.get("collectionTitle"))};var n;var i;if(this.get("isDemoCollection")){n=l["strings.title"];i=l["strings.message"]}else{n=o.Lang.sub(this.get("strings.deleteTitle"),s);i=o.Lang.sub(this.get("strings.deleteMessage"),s)}if(a){_.deleteCollection(t.get("id"),{modalTitle:n,modalMessage:i,callback:function(){t&&b.deleteCollectionConfirm("pages-panel",t.get("typeName"),t.get("id"));e?e():this._animateOut()}.bind(this)});return}if(this.get("isMemberArea")){v.setIsDeleteMemberAreasModalOpen(true);v.setMemberAreaModel(this.get("model"));return}var r=p.createDeleteConfirmation({"strings.title":n,"strings.message":i,instrumentationTitle:this.get("instrumentationTitle")});r.once("confirm",function(){t&&b.deleteCollectionConfirm("pages-panel",t.get("typeName"),t.get("id"));e?e():this._animateOut()},this)},createPanel:function(e){var t=this.get("managerConfig");var a=this.get("collection");e=o.merge(e,{collection:a,collectionConfiguration:a.getTemplateConfiguration(),panelPathName:this.get("name")});t.defaultCollectionConfig&&(e.defaultCollectionConfig=new o.Model(t.defaultCollectionConfig));var s=this._augmentManagerCtor(t.ctor);return new s(e)},editTitle:function(t){if(this.get("isLocked"))return;var s=t&&t.callback?t.callback:null;t=o.merge({newItem:false},t,{callback:function(e,t){if(null!==s){s(e,t);return}var a=S.isSevenOne();!e&&t&&void 0!==t.fullUrl&&a&&w.setUrl(t.fullUrl)}});this.plug(o.Squarespace.Plugin.InlineInputEditor,{render:this.get("contentBox").one(".title"),data:this.get("collectionTitle"),onClear:t.callback,onCommit:function(e){e.prevVal!==e.newVal&&""!==e.newVal?this.set("collectionTitle",e.newVal,t):t.callback()}})},_augmentManagerCtor:function(e){return o.Base.create(e.NAME,e,t,{},{CSS_PREFIX:e.CSS_PREFIX})},_destroyModel:function(e,t){var a=this.get("selected");this.get("model").destroy({remove:true,deleteCollection:false},t||this._fireItemDelete.bind(this,a))},_fireItemDelete:function(e){o.Squarespace.Navigation.Events.fire("item:delete",{selected:e})},_updateTitle:function(e){if(e.newVal===e.prevVal)return;var t=o.Escape.html(e.newVal);var a=this.get("contentBox").one(".title");a.setHTML(t);a.setAttribute("title",t)},_emitCollectionUpdate:function(e){if(e.options.silent)return;o.Squarespace.Navigation.Events.fire("collection:update",{collection:this.get("collection"),item:this})},_emitUnsupportedEvent:function(){o.Squarespace.Navigation.Events.fire("item:unsupported",{item:this,collection:this.get("collection")})},_toggleSelected:function(e){var t=e.item===this||e.collection===this.get("collection")||e.collection===(this.get("collection")&&this.get("collection").get("id"));this.set("selected",t)},_toggleHighlighted:function(e){this.get("contentBox").one(".item-wrapper").toggleClass("selected",!!e.newVal)},_toggleHomepage:function(e){var t=this.get("collection");if(!t)return;var a=t.getId();var s=e&&e.collection&&t===e.collection||f.getHomepageCollectionId()===a;var n=g.getMemberAreasHomepages();var i=n[T(a)]===a;s!==this.get("isHomepage")&&this.set("isHomepage",s);i!==this.get("isMemberAreaHomepage")&&this.set("isMAHomepage",i);var r=s||i;this.get("boundingBox").toggleClass(this.getClassName("homepage"),r)},_handleDrop:function(e){var t=this.get("collection");var a=t&&this.get("collection").get("id");var s=e&&e.itemView&&e.itemView.get("collection");var n=s&&s.get("id");var i=a&&n&&a===n;var r=e.itemTargetList&&e.itemTargetList.get("navigation");var o;e.itemTargetList&&e.itemTargetList.get("modelList")._templateNavigation?o=e.itemTargetList.get("modelList").getTemplateNavigation():e.itemTargetList&&(o=e.itemTargetList.get("modelList").getNavigationItemList().getTemplateNavigation());var l=r&&r.get("name")===C.memberAreaNavigationName;var c=o&&o.get("name")===C.memberAreaNavigationName;var u=l||c;if(i&&u){var d=t.get("pagePermissionType");if(d===m.SCRYPT_HASH){t.set("pagePermissionType",m.ACL_ID);t.set("passwordProtected",false);t.set("password","");h.insert(t.toJSON());_.syncCollection(t.serialize());p.showPasswordPageInMemberAreaAlert()}}i&&t&&r&&b.dropsCollectionIntoNav(t.get("typeName"),r.get("name"))},_newInstanceCallback:function(e){if(o.Squarespace.Navigation.ListUtils.isCollectionInStackedIndex(this.get("collection"))){this.select();this.set("isNew",false);return}o.Squarespace.ContentCollectionUtils.isSevenOneCollectionType(this.get("collection"))&&this.select({stayInPagesPanel:true});e&&e.isDisplaced||this.editTitle({callback:o.bind(function(){this.select();this.set("isNew",false)},this),newItem:true})},_isLockedVariant:function(){var e=this.get("parent");if(e&&"variation"===e.typeName){var t=u.getVariation(e.collectionId);var a=this.get("model").get("collection").get("id");return c.isLockedVariant(t,a)}return false},_animateIn:function(){var e=this.get("boundingBox");var t=e.get("offsetHeight");e.setStyle("height",0);e.anim({height:t},{end:function(){this.get("node").setStyle("height","auto")}}).run()},_animateOut:function(){this.get("boundingBox").anim({height:0},{end:this._destroyModel.bind(this)}).run()},_getHBTemplateContext:function(){return this.get("model").toJSON()},_registerPushEvent:n},{createDeleteConfirmation:function(e){return new o.Squarespace.Widgets.Confirmation(e)},showDeleteHomepageAlert:function(){var e=s("Cannot Delete Homepage");var t=s("This page cannot be deleted because it is your homepage. Please assign a new homepage before deleting.");_.showAlert(e,t)},showLockedVariantAlert:function(){var e=s("Cannot Delete Variant");var t=s("You are trying to delete a variant with traffic allocated to it. Please either split traffic evenly in the parent variation or unallocate all trafficbefore deleting.");_.showAlert(e,t)},showContainsHomepageAlert:function(){var e=s("Cannot Delete Collection");var t=s("This collection cannot be deleted because it contains your homepage. To delete it, please move or reassign the homepage to an item outside this collection.");_.showAlert(e,t)},showPasswordPageInMemberAreaAlert:function(){var e=s("Password protection removed");var t=s("Moving this page to Member Areas removes password protection.");_.showAlert(e,t)},CSS_PREFIX:"sqs-navigation-item",HANDLEBARS_TEMPLATE:"navigation-item.html",ATTRS:{collection:{getter:function(){return this.get("model").get("collection")}},collectionTitle:{getter:function(){return this.get("collection").get("navigationTitle")},setter:function(e,t,a){a=o.merge({newItem:false,callback:n},a);var s=this.get("collection");s.setAttrs({title:e,navigationTitle:e});a.newItem&&s.set("urlId",null);s.save({silent:a.newItem},a.callback);return e}},containsHomepage:{value:false,readOnly:true},hasChevron:{value:false,readOnly:true},isDemoCollection:{getter:function(){var e=this.get("collection");if(o.Lang.isValue(e))return e.get("isDemoCollection");return false}},isHomepage:{value:false},isMAHomepage:{value:false},isMemberArea:{getter:function(){return"MemberArea"===this.name}},isLoading:{value:false},isLocked:{value:false,writeOnce:true},parent:{valueFn:function(){if(!this.get("model").get("collection"))return null;var e=this.get("model").get("collection").get("id");var t=r.getPathToCollection(e);var a=t[t.length-2];return a}},isNew:{value:false},isDuplicated:{value:false},loadFrame:{value:true},model:{validator:o.Squarespace.AttrValidators.isInstanceOf(o.Model)},name:{getter:function(){if(!this.get("collection"))return null;return this.get("collection").get("id")}},selected:{value:false},strings:{value:{deleteTitle:s("Delete {title}"),deleteMessage:s("Are you sure you want to delete {title}?")}},supported:{valueFn:function(){return this.get("model").get("supported")},validator:o.Squarespace.AttrValidators.isBoolean},instrumentationTitle:{value:null}}})},"1.0",{requires:["anim","base","model","squarespace-attr-validators","squarespace-content-manager-collection-dialog-portal","squarespace-damask-menu-mixin-content-manager","squarespace-damask-panel-mixin-panel","squarespace-damask-panel-mixin-pusher","squarespace-navigation-events","squarespace-navigation-item-template","squarespace-navigation-list-utils","squarespace-plugin-inline-input-editor","squarespace-ss-widget","squarespace-util-authenticated","squarespace-widgets-confirmation","squarespace-spinner"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/blog.js":function(e,t){YUI.add("squarespace-navigation-item-blog",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Blog=e.Base.create("Blog",e.Squarespace.Navigation.Item.Base,[],{},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{hasChevron:{value:true},managerConfig:{value:{ctor:e.Squarespace.ContentManagerWidgets.Blog}}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-blog","squarespace-navigation-item-base"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/cover.js":function(e,t){YUI.add("squarespace-navigation-item-cover",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Cover=e.Base.create("Cover",e.Squarespace.Navigation.Item.Base,[],{_augmentManagerCtor:function(e){return e}},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{hasChevron:{value:true},managerConfig:{value:{ctor:e.Squarespace.ContentManagerWidgets.CoverPage}},pathParams:{valueFn:function(){return{collectionId:this.get("collection").get("id")}}}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-cover-page","squarespace-navigation-item-base","squarespace-util-authenticated"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/events.js":function(e,t){YUI.add("squarespace-navigation-item-events",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Events=e.Base.create("Events",e.Squarespace.Navigation.Item.Base,[],{},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{hasChevron:{value:true},managerConfig:{value:{ctor:e.Squarespace.ContentManagerWidgets.Calendar}}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-calendar","squarespace-navigation-item-base"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/folder.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-folder",function(e){e.namespace("Squarespace.Navigation.Item");var t=t||function(){};var a="collapsedFolder";var s=e.Squarespace.Navigation.Item.Folder=e.Base.create("Folder",e.Squarespace.Navigation.Item.Base,[],{destructor:function(){this.get("itemList").destroy()},renderUI:function(){s.superclass.renderUI.apply(this,arguments);var e=this.get("contentBox");this.get("itemList").render(e);this.get("isCollapsed")&&this.get("itemList").get("boundingBox").setStyle("height",0)},bindUI:function(){s.superclass.bindUI.call(this);var e=this.get("contentBox").one(".icons .icon-chevron");this._registerEvent(e.on("click",function(e){e.halt();var t=this.get("isCollapsed");this.set("isCollapsed",!t)},this));this.after("isCollapsedChange",function(e){e.newVal?this._animateCollapse():this._animateExpand();this.syncUI()})},syncUI:function(){s.superclass.syncUI.call(this);this.get("boundingBox").toggleClass("collapsed",this.get("isCollapsed"))},select:function(){this.get("supported")?"variation"===this.get("collection").get("typeName")?e.Squarespace.Singletons.Location.go("/pages/variation/"+this.get("collection").get("id")):e.Squarespace.Singletons.Location.go("/pages"):this._emitUnsupportedEvent()},_destroyModel:function(e,t){this.get("itemList").destroyAllModels(function(){s.superclass._destroyModel.call(this,e,t)}.bind(this))},_fireItemDelete:t,_newInstanceCallback:function(){this.editTitle({callback:e.bind(function(){e.Squarespace.Navigation.Events.fire("collection:update",{collection:this.get("collection"),item:this,isNew:true});this.set("isNew",false)},this),newItem:true})},_getHBTemplateContext:function(){return e.merge(this.get("model").toJSON(),{isFolder:true})},_animateCollapse:function(){var e=this.get("itemList").get("boundingBox");e.setStyle("height",e.get("offsetHeight"));e.anim({height:0}).run()},_animateExpand:function(){var e=this.get("model").get("children").size();var t=this.get("itemList").get("boundingBox");var a=this.get("boundingBox").one(".item-wrapper").get("offsetHeight");var s=a*(e+1);0===e&&(s*=2);t.setStyle("height",0);var n=t.anim({height:s});n.once("end",function(){this.get("node").setStyle("height","auto")});n.run()}},{CSS_PREFIX:"sqs-navigation-item-folder",HANDLEBARS_TEMPLATE:"navigation-item.html",ATTRS:{addText:{getter:function(){return this.get("strings.itemListAddText")||this.get("collection").getTemplateConfiguration().get("addText")}},containsHomepage:{getter:function(){return this.get("itemList").get("containsHomepage")}},hasChevron:{value:true},itemList:{valueFn:function(){return new e.Squarespace.Navigation.ItemList({navigation:this.get("collection").getTemplateConfiguration(),modelList:this.get("model").get("children"),showFooter:this.get("isFooterVisible"),showHeader:false,append:true,isLocked:this.get("isLocked"),supported:this.get("supported"),"strings.emptyMessage":this.get("strings.itemListEmptyMessage"),"strings.addText":this.get("addText")})},readOnly:true},isCollapsed:{valueFn:function(){if(!localStorage)return false;var e=this.get("localStorageKey");return"true"===localStorage.getItem(e)||false},setter:function(e){try{var t=this.get("localStorageKey");localStorage.setItem(t,e)}catch(e){}return e}},isFooterVisible:{valueFn:function(){return true}},isPusher:{value:false},loadFrame:{value:false},localStorageKey:{getter:function(){return a+"-"+this.get("collection").get("id")}},navigation:{validator:e.Squarespace.AttrValidators.isInstanceOf(e.Model)},"strings.itemListEmptyMessage":{value:n("Empty Folder")},"strings.itemListAddText":{value:n("Add Page")}}})},"1.0",{requires:["anim","base","squarespace-attr-validators","squarespace-navigation-events","squarespace-navigation-item-base","squarespace-navigation-item-template","squarespace-singletons-location"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/gallery.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-gallery",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Gallery=e.Base.create("Gallery",e.Squarespace.Navigation.Item.Base,[],{},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{hasChevron:{value:true},managerConfig:{value:{ctor:e.Squarespace.ContentManagerWidgets.Gallery,defaultCollectionConfig:{acceptTypes:["image"],addText:s("Add Image")}}}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-gallery","squarespace-navigation-item-base"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/index.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-index",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Index=e.Base.create("Index",e.Squarespace.Navigation.Item.Folder,[],{select:function(){e.Squarespace.Navigation.Item.Base.prototype.select.call(this)},createPanel:function(){return null},_newInstanceCallback:function(){e.Squarespace.Navigation.Item.Base.prototype._newInstanceCallback.call(this)}},{CSS_PREFIX:e.Squarespace.Navigation.Item.Folder.CSS_PREFIX,ATTRS:{"strings.itemListEmptyMessage":{value:s("Empty Index")},"strings.itemListAddText":{value:""}}})},"1.0",{requires:["base","squarespace-navigation-item-base","squarespace-navigation-item-folder"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/link.js":function(e,t){YUI.add("squarespace-navigation-item-link",function(a){var e=e||function(){};a.namespace("Squarespace.Navigation.Item");a.Squarespace.Navigation.Item.Link=a.Base.create("Link",a.Squarespace.Navigation.Item.Base,[],{syncUI:e,_getHBTemplateContext:function(){return a.merge(this.get("model").toJSON(),this.get("model").get("externalLink"))},_bindModelEvents:function(){var e=this.get("model");this._registerEvent(e.after("externalLinkChange",function(e){this.set("title",e.newVal.title)},e),e.after("titleChange",function(e){this._updateTitle(e)},this),e.after("save",function(){a.Squarespace.Navigation.Events.fire("item:linkSave")},this))},showEditorDialog:function(){var e=this.get("model");var t=new a.Squarespace.Editor.NavigationExternalLinkReact({model:e});t.show()},select:e,_toggleHighlighted:e,_toggleHomepage:e,createPanel:e},{CSS_PREFIX:a.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{collectionTitle:{getter:function(){return this.get("model").get("externalLink.title")},setter:function(e){var t=this.get("model");t.set("externalLink.title",e);t.save();return e}},isPusher:{value:false},loadFrame:{value:false},name:{getter:function(){return null}}}})},"1.0",{requires:["base","squarespace-editor-navigation-external-link-react","squarespace-editor-navigation-external-link","squarespace-navigation-item-base"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/member-area.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/actions/MemberAreasActions.js");YUI.add("squarespace-navigation-item-member-area",function(r){var e=e||function(){};var t="collapsedMemberArea";r.namespace("Squarespace.Navigation.Item");var a=r.Squarespace.Navigation.Item.MemberArea=r.Base.create("MemberArea",r.Squarespace.Navigation.Item.Folder,[],{select:e,renderUI:function(){a.superclass.renderUI.call(this);this.get("boundingBox").setAttribute("data-test","member-area-navigation-list")},syncUI:function(){this.get("boundingBox").toggleClass("collapsed",this.get("isCollapsed"))},createPanel:function(){return null},_getHBTemplateContext:function(){return r.merge(a.superclass._getHBTemplateContext.apply(this,arguments),{title:this.get("collectionTitle")})},_newInstanceCallback:function(){},showEditorDialog:function(){i.setMemberAreaModel(this.get("model"));i.setIsMASettingOpen(true)},_updateTitle:function(e,t){var a=this.get("model").get("title");var s=this.get("model").get("memberAreaId");if(t===a||s!==e)return;var n=r.Escape.html(t);var i=this.get("contentBox").one(".title");i.setHTML(n);i.setAttribute("title",n)}},{CSS_PREFIX:r.Squarespace.Navigation.Item.Folder.CSS_PREFIX,ATTRS:{"strings.itemListEmptyMessage":{value:s("Empty Member Area")},"strings.itemListAddText":{value:s("Add Page")},addText:{getter:function(){return this.get("strings.itemListAddText")}},itemList:{valueFn:function(){var a=["subscription","gallery-block","template-page"];var s=n.getState().collectionConfigs;var e=r.Array.filter(r.Object.keys(s),function(e){var t=s[e];if(t.folder&&!t.index)return false;return-1===a.indexOf(e)}).concat(["link"]);return new r.Squarespace.Navigation.ItemList({navigation:r.Squarespace.Singletons.TemplateNavigationList.getMemberAreaNavigation(),modelList:this.get("model").get("children"),showFooter:this.get("isFooterVisible"),showHeader:false,append:true,isLocked:this.get("isLocked"),supported:this.get("supported"),"strings.emptyMessage":this.get("strings.itemListEmptyMessage"),"strings.addText":this.get("addText"),acceptTypes:e})},readOnly:true},localStorageKey:{getter:function(){return t+"-"+this.get("memberAreaId")}},collectionId:{getter:function(){return this.get("model").get("memberAreaId")}},collectionTitle:{getter:function(){return this.get("model").get("title")}},memberAreaDefaultLandingPageId:{getter:function(){return this.get("model").get("memberAreaDefaultLandingPageId")}}}})},"1.0",{requires:["base","squarespace-navigation-item-base","squarespace-navigation-item-folder"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/music-album.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-music-album",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.MusicAlbum=e.Base.create("MusicAlbum",e.Squarespace.Navigation.Item.Base,[],{},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{hasChevron:{value:true},managerConfig:{value:{ctor:e.Squarespace.ContentManagerWidgets.MusicAlbum,defaultCollectionConfig:{acceptTypes:["audio"],addText:s("Add Track")}}}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-music-album","squarespace-navigation-item-base"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/page.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");YUI.add("squarespace-navigation-item-page",function(t){t.namespace("Squarespace.Navigation.Item");var a=t.Squarespace.Navigation.Item.Page=t.Base.create("Page",t.Squarespace.Navigation.Item.Base,[],{bindUI:function(){a.superclass.bindUI.call(this)},_newInstanceCallback:function(e){if(s.isSevenOne()){this.select();if(!e||!e.isDisplaced){this.set("isNew",true);this.editTitle({callback:t.bind(function(){t.Squarespace.Navigation.Events.fire("collection:update",{collection:this.get("collection"),item:this,isNew:false});this.set("isNew",false)},this),newItem:true})}return}a.superclass._newInstanceCallback.apply(this,arguments)}},{CSS_PREFIX:t.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{isPusher:{value:false,readOnly:false}}})},"1.0",{requires:["base","squarespace-navigation-events","squarespace-navigation-item-base","squarespace-singletons-location"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/products.js":function(e,t){YUI.add("squarespace-navigation-item-products",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Products=e.Base.create("Products",e.Squarespace.Navigation.Item.Base,[],{},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{hasChevron:{value:true},managerConfig:{value:{ctor:e.Squarespace.ContentManagerWidgets.ProductsGrid}}}})},"1.0",{requires:["base","squarespace-content-manager-widgets-products-grid","squarespace-navigation-item-base"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/stacked-index.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-stacked-index",function(a){a.namespace("Squarespace.Navigation.Item");var e=a.Squarespace.Navigation.Item.StackedIndex=a.Base.create("Index",a.Squarespace.Navigation.Item.Index,[],{_getSectionForCollectionId:function(e){var t=this.get("itemList");var a=t.get("itemViews");for(var s=0;s<a.length;s++)if(a[s].get("collection").get("id")===e)return a[s];return null},_deleteCollectionInIndex:function(e){if(!e.collectionId){false;return}var t=this._getSectionForCollectionId(e.collectionId);if(!t)return;t.confirmDelete(function(){t.get("boundingBox").setStyle("height",0);t._destroyModel(null,function(){a.Global.fire("stack:collection:deleted",{collectionId:e.collectionId})})})},_getCollectionAtIndex:function(e){if(!e.stackCollectionId||e.stackCollectionId!==this.get("collection").get("id"))return;var t=this.get("itemList").get("itemViews");if(t[e.itemIndex])return t[e.itemIndex].get("collection");return null},_reorderCollectionByIndex:function(e){var t=e.collection||this._getCollectionAtIndex({stackCollectionId:e.indexCollectionId,itemIndex:e.index});if(!t)return;var a=this._getSectionForCollectionId(t.get("id"));if(!a)return;this.get("itemList").moveStackItem(a,e.targetIndex)},bindUI:function(){e.superclass.bindUI.call(this);this._registerEvent(a.Global.on("stack:requestReorder",this._reorderCollectionByIndex,this),a.Global.on("stack:collection:requestDelete",this._deleteCollectionInIndex,this))}},{CSS_PREFIX:a.Squarespace.Navigation.Item.Folder.CSS_PREFIX,ATTRS:{itemList:{valueFn:function(){return new a.Squarespace.StackedIndex.List({"strings.emptyMessage":s("Empty index"),"strings.addText":s("Add Section"),indexCollection:this.get("collection"),navigation:this.get("collection").getTemplateConfiguration(),modelList:this.get("model").get("children"),showFooter:true,showHeader:false,append:true,supported:this.get("supported")})},readOnly:true}}})},"1.0",{requires:["base","squarespace-navigation-item-base","squarespace-navigation-item-folder","squarespace-navigation-item-index"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/template.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-template-page",function(e){e.namespace("Squarespace.Navigation.Item");var t=t||function(){};e.Squarespace.Navigation.Item.TemplatePage=e.Base.create("TemplatePage",e.Squarespace.Navigation.Item.Base,[],{createPanel:function(){return null},confirmDelete:function(){new e.Squarespace.Widgets.Alert({"strings.title":s("Cannot Delete Template Page"),"strings.message":s("This page is a page that is provided by the template you are currently using. It cannot be removed while you are using this template.")})},_destroyModel:t},{CSS_PREFIX:e.Squarespace.Navigation.Item.Base.CSS_PREFIX,ATTRS:{isPusher:{value:false}}})},"1.0",{requires:["base","squarespace-navigation-item-base","squarespace-widgets-alert"]})},"./src/main/webapp/universal/scripts-v6/navigation/item/variation.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-item-variation",function(e){e.namespace("Squarespace.Navigation.Item");e.Squarespace.Navigation.Item.Variation=e.Base.create("Variation",e.Squarespace.Navigation.Item.Folder,[],{select:function(){e.Squarespace.Navigation.Item.Base.prototype.select.call(this);e.Squarespace.Singletons.Location.go("/pages/variation/"+this.get("collection").get("id"))}},{CSS_PREFIX:e.Squarespace.Navigation.Item.Folder.CSS_PREFIX,ATTRS:{"strings.itemListEmptyMessage":{value:s("Empty Variation")},"strings.itemListAddText":{value:""}}})},"1.0",{requires:["base","squarespace-navigation-item-base","squarespace-navigation-item-folder","squarespace-singletons-location"]})},"./src/main/webapp/universal/scripts-v6/navigation/pages.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./common/temp/node_modules/alt-utils/lib/ActionListeners.js");var i=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var r=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateInstallationsStore.js");var l=a("./src/main/webapp/universal/src/apps/App/shared/actions/TemplateInstallationsActions.js");var c=a("./src/main/webapp/universal/src/apps/App/shared/actions/MemberAreasActions.js");var u=a("./src/main/webapp/universal/src/apps/App/components/FrameLoader.js");var d=a("./src/main/webapp/universal/src/apps/App/shared/utils/BetaFeaturesUtils.js");var p=a("./src/main/webapp/universal/packages/enums/Flag.js");var m=a("./src/main/webapp/universal/src/shared/utils/clearCollectionsInHiddenNavigation.js");var h=a("./src/main/webapp/universal/src/apps/App/components/Catalog/actions/PageCatalogEntryActions.js");var v=a("./src/main/webapp/universal/src/apps/App/components/Catalog/stores/PageCatalogEntryStore.js");var g=a("./src/main/webapp/universal/src/shared/utils/error-reporter/global-sentry.ts");var f=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");var b=a("./common/temp/node_modules/@sqs/rum-collector/timing.js").mark;var o=a("./src/main/webapp/universal/src/apps/App/components/Catalog/constants/CatalogPerformanceEvents.js");var y=o.PAGE_CATALOG_PRELOAD_EFFECTIVENESS;YUI.add("squarespace-navigation-pages",function(o){o.namespace("Squarespace.Navigation");var t=["Static","SQUARESPACE_CONTEXT","hasDeletedCollections"];var e=e||function(){};var a=o.Squarespace.Navigation.Pages=o.Base.create("Pages",o.Squarespace.Widgets.SSWidget,[o.Squarespace.Damask.Panel.MixinPanel,o.Squarespace.Damask.Panel.MixinPanelParent],{initializer:function(){if(f.isSevenOne()&&!v.getState().isLoaded){b(y);h.loadCatalog()}},destructor:function(){this.get("navigationBar").destroy();"function"===typeof this.onCollectionIdChangeUnsubscribe&&this.onCollectionIdChangeUnsubscribe()},renderUI:function(){a.superclass.renderUI.call(this);f.isSevenOne()&&this.get("boundingBox").addClass("jacquard-pages")},bindUI:function(){this._registerEvent(o.Squarespace.Navigation.Events.on("item:select",this._selectCollection,this),o.Squarespace.Navigation.Events.after("collection:update",this._handleCollectionUpdate,this),o.Squarespace.Navigation.Events.on("collection:emptyTrash",this._setHasDeletedCollections.bind(this,false)),o.Squarespace.Navigation.Events.on("itemList:linkConfigure",this.reloadFrame),o.Squarespace.Navigation.Events.on("item:linkSave",this.reloadFrame),o.Squarespace.Navigation.Events.after("itemList:dd-saved",this._handleItemListDD,this),o.Squarespace.Navigation.Events.on(["item:delete","itemList:delete"],function(e){e.selected?this.loadHomePageCollection():this.reloadFrame();this._setHasDeletedCollections(true)},this),o.Squarespace.Navigation.Events.on("item:initialize",this._initializeItem,this),o.Squarespace.Navigation.Events.on("item:destroy",this._destroyItem,this),o.Squarespace.Navigation.Events.on("item:registerPusher",function(e){this._registerPusher(e.item)},this),o.Squarespace.Navigation.Events.on("item:deregisterPusher",function(e){this._deregisterPusher(e.item)},this),o.Global.on("previewFrame:load",this.highlightCollectionFromFrame.bind(this)));u.then(function(e){this.onCollectionIdChangeUnsubscribe=e.FrameAPI.onCollectionIdChange(function(e){o.Squarespace.Navigation.Events.fire("item:active",{collection:e.collectionId})})}.bind(this));this._homepageChangeListener=new n(i);this._homepageChangeListener.addActionListener(l.SET_HOMEPAGE_COLLECTION_ID,function(e){o.Squarespace.Navigation.Events.fire("collection:homepage",{collection:this.get("homepageCollection")});e.fromDemoContentClone||this.reloadFrame()}.bind(this));this._memberAreaHomepageChangeListener=new n(i);this._memberAreaHomepageChangeListener.addActionListener(c.SET_MEMBER_AREA_HOMEPAGE,function(e){o.Squarespace.Navigation.Events.fire("memberarea:homepage",e);e.fromDemoContentClone||this.reloadFrame()}.bind(this));this._bootstrap()},syncUI:function(){var e=this.get("recycleBinNode");e.toggleClass("visible",this.get("hasDeletedCollections"))},reloadFrame:function(){o.Squarespace.Singletons.Location.requestFrameRefresh()},showRecycleBin:function(){this.get("router").push("/pages/recycle-bin")},loadHomePageCollection:function(){o.Squarespace.Singletons.Location.setFrameUrlOrRefresh("/");o.Squarespace.Navigation.Events.fire("item:active",{collection:this.get("homepageCollection")})},clearActive:function(){this.set("activePanel",null)},highlightCollectionFromFrame:function(){var e=this.get("damask").getPreviewFrameCollection();var t;e&&(t=this.get("collectionCache").getById(e.get("id")));var a={collection:t||this.get("homepageCollection")};o.Squarespace.Navigation.Events.fire("item:active",a)},_bootstrap:function(){this._createNavigationBar();this._createRecycleBin();d.isFeatureEnabled(p.SECTION_ADMIN)&&this._createClearHidden();o.Squarespace.Navigation.Events.fire("memberarea:homepage",{});o.Squarespace.Navigation.Events.fire("collection:homepage",{collection:this.get("homepageCollection")});this.highlightCollectionFromFrame()},_createClearHidden:function(){var e=this.get("contentBox").appendChild('<div class="clear-demo-collections">'+s("Clear Not Linked Navigation")+"</div>");e.on("click",function(){new o.Squarespace.Widgets.Confirmation({"strings.confirm":s("Clear All"),"strings.title":s("Remove All Demo Pages in Not Linked"),"strings.message":s("Be sure you know what you are doing! The page will reload once complete.")}).on("confirm",function(){m(o)},this)})},_createNavigationBar:function(){var e=new o.Squarespace.Navigation.Bar({collectionCache:this.get("collectionCache"),render:this.get("contentBox")});this.set("navigationBar",e)},_createRecycleBin:function(){var e=this.get("recycleBinNode");this.get("contentBox").appendChild(e);this._registerEvent(e.on("click",this.showRecycleBin,this))},_handleCollectionUpdate:function(e){var t=e.collection;var a=e.isNew;if(a){this._selectCollection(t);return}setTimeout(function(){o.Squarespace.Singletons.Location.pointFrameToCollection(e.collection)},0)},_initializeItem:function(e){e.isPusher&&this._registerPusher(e.item)},_destroyItem:function(e){e.isPusher&&this._deregisterPusher(e.item)},_setHasDeletedCollections:function(e){this.set("hasDeletedCollections",e);this.syncUI()},_cloneDemoCollection:function(s){this.set("isCloning",true);var e=o.Node.create("<div></div>");e.addClass("spinner-cog");var t=s.item.get("contentBox");var a=t.one(".icons");a.appendChild(e);var n=t.one(".icon-configure");n.hide();this._loadingSpinner=new o.Squarespace.Spinner({color:"dark",size:"default",render:e});var i=function(){this._loadingSpinner.destroy();this._loadingSpinner=null;e.remove(true);n.show();this.set("isCloning",false)}.bind(this);return s.collection.cloneToNewCollection().then(function(e){var t="/"+s.collection.get("urlId");var a={pathname:"/pages",state:{frameUrl:t}};s.item.get("isPusher")&&!s.stayInPagesPanel&&(a.pathname="/pages/"+e);this.get("router").push(a);i()}.bind(this)).catch(function(t){s.item.get("contentBox").show();i();g.withScope(function(e){e.setTag("project","content_browser");e.setTag("epic","demo_content_improvement");e.setExtra("context",JSON.stringify({collection:s.collection}));g.captureMessage("Error auto-cloning demo content",t)})})},_selectCollection:function(e){if(!this.get("inView"))return;if(!o.Lang.isValue(e.collection))return;var t=o.Squarespace.Singletons.Location.getFrameUrl();var a="/"+e.collection.get("urlId");var s={pathname:"/pages",state:{frameUrl:a}};var n=e.item.get("isNew");var i=e.collection.get("id");if(f.isSevenOne()&&o.Squarespace.ContentCollectionUtils.isDemoCollectionId(i)){if(this.get("isCloning"))return;return this._cloneDemoCollection(e)}e.item.get("isPusher")&&!e.stayInPagesPanel&&(s.pathname="/pages/"+e.collection.get("id"));if(o.Squarespace.Navigation.ListUtils.isCollectionInIndex(e.collection)&&e.collection.get("enabled")&&!o.Squarespace.Navigation.ListUtils.indexCollectionRequiresReload(e.collection)){var r=this.get("damask").get("contentBridge");s.state.frameUrl=r.getCollectionUrl(e.collection);o.Squarespace.Singletons.Location.pointFrameToCollectionInIndex(e.collection,n)}this.get("router").push(s);n&&t===a&&o.Squarespace.Singletons.Location.requestFrameRefresh()},_handleItemListDD:function(e){"silent"!==e.updateStyle&&this.reloadFrame()}},{CSS_PREFIX:"sqs-navigation-pages",ATTRS:{collectionCache:{valueFn:function(){return o.Squarespace.ContentCollectionCache}},damask:{},hasDeletedCollections:{getter:function(){return o.Object.getValue(o.config.win,t)},setter:function(e){return o.Object.setValue(o.config.win,t,e)}},homepageCollection:{getter:function(){var e=r.getHomepageCollectionId();return this.get("collectionCache").getById(e)}},navigationBar:{},recycleBinNode:{valueFn:function(){return o.Node.create('<div class="recycle-bin-button"><div class="icon"></div><div>'+s("Deleted Pages")+"</div></div>")},readOnly:true,writeOnce:true},title:{value:s("Pages")},isCloning:{value:false}}})},"1.0",{requires:["squarespace-settings-collection-recycle-bin","squarespace-damask-panel-mixin-panel","squarespace-damask-panel-mixin-panel-parent","squarespace-navigation-bar","squarespace-navigation-events","squarespace-singletons-location","squarespace-spinner"]})},"./src/main/webapp/universal/scripts-v6/navigation/stacked-index-list.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-navigation-stacked-index-list",function(r){var n={page:{title:i("Content"),icon:null,navigationTitle:i("New Section")}};r.namespace("Squarespace.StackedIndex");var s=r.Squarespace.StackedIndex.List=r.Base.create("List",r.Squarespace.Navigation.ItemList,[],{bindUI:function(){s.superclass.bindUI.call(this);this._registerEvent(r.Global.on("stack:requestNewItem",this._requestAddItemToStack,this))},showItemListAddDialog:function(){r.Squarespace.Navigation.Events.fire("itemList:addDialog",{itemList:this,config:{strings:n},isSectionAdd:true})},_requestAddItemToStack:function(e){if(e.indexCollection.get("id")!==this.get("indexCollection").get("id"))return;r.Lang.isNumber(e.insertIndex)?this.set("insertIndex",e.insertIndex):this.set("insertIndex",null);var t={dialog:e.dialogConfig,strings:n};var a=this.get("acceptTypes");if(1===a.length){var s={};r.Lang.isNumber(this.get("insertIndex"))?s.index=this.get("insertIndex"):this.get("append")||(s.index=0);r.Squarespace.Navigation.Events.fire("itemList:addItem",{type:a[0],modelList:this.get("modelList"),opts:r.merge(s,t.strings)});return}r.Squarespace.Navigation.Events.fire("itemList:addDialog",{itemList:this,title:i("Create new section"),config:t,isSectionAdd:true})},_addNavigationItem:function(e,t){var a=this.get("itemViews");var s=this.get("contentBox").one(".item-list-wrapper .item-list");var n=s.get("children")._nodes;var i=this._createItemView(e,{isNew:!e.get("restored"),isDuplicated:e.get("duplicated")});i.render();if(r.Lang.isNumber(t)&&n[t]){a.splice(t,0,i);s.insertBefore(i.get("boundingBox"),n[t])}else if(this.get("append")){a.push(i);s.append(i.get("boundingBox"))}else{a.unshift(i);s.prepend(i.get("boundingBox"))}this.set("itemViews",a)},moveStackItem:function(e,t){var a=this.get("modelList").indexOf(e.get("model"));if(a===t)return;t<0&&(t=0);t>=this.get("modelList").length&&(t=this.get("modelList").length-1);var s={source:{item:e,list:this},target:{list:this,idx:t}};var n=this.get("contentBox").one(".item-list-wrapper .item-list");var i=n.get("children")._nodes;a<t?n.insertBefore(e.get("boundingBox"),i[t+1]):n.insertBefore(e.get("boundingBox"),i[t]);r.Squarespace.Navigation.Events.fire("itemList:dd",{sourceList:s.source.list,targetList:s.target.list,itemView:s.source.item,targetIndex:s.target.idx,updateStyle:"silent"})},_createItemView:function(e,t){var a=s.createNavigationItem(e,r.merge({},t,{isLocked:this.get("isLocked")}));this._registerEvent(a.after("destroy",r.bind(this._removeItemView,this,a)));return a}},{createNavigationItem:function(e,t){var a=r.merge(t,{model:e,instrumentationTitle:i("Delete Index Section"),strings:{deleteTitle:"",deleteMessage:i("Are you sure you want to delete this section?")}});var s=r.Squarespace.Navigation.Utils.getNavigationItemType(e);if(r.Lang.isValue(s))return new s(a);return new r.Squarespace.Navigation.Item.Base(r.merge(a,{supported:false}))},CSS_PREFIX:"sqs-navigation-item-list",HANDLEBARS_TEMPLATE:"navigation-item-list.html",ATTRS:{indexCollection:{value:null},insertIndex:{value:null,validator:r.Squarespace.AttrValidators.isNullOrNumber}}})},"B)",{requires:["array-invoke","base","model-list","squarespace-navigation-item-list"]})},"./src/main/webapp/universal/scripts-v6/navigation/utils.js":function(e,t,a){var u=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");YUI.add("squarespace-navigation-utils",function(r){r.namespace("Squarespace.Navigation");var e=r.Squarespace.CollectionOrdering;var o=r.Squarespace.Navigation.Item;var l={};l[u.COLLECTION_TYPE_PAGE]=o.Page;l[u.PRODUCTS]=o.Products;l[u.TEMPLATE_PAGE]=o.TemplatePage;l[u.SPLASH_PAGE]=o.Cover;var c={};c[e.USER]=o.Gallery;c[e.CHRONOLOGICAL]=o.Blog;c[e.CALENDAR]=o.Events;c[e.MUSIC_ALBUM]=o.MusicAlbum;c[e.KNOWLEDGE_BASE]=o.Blog;r.Squarespace.Navigation.Utils={getNavigationItemType:function(e){var t=e.get("collection");var a=e.isMemberArea();if(a)return o.MemberArea;if(!r.Lang.isValue(t))return o.Link;var s=t.getTemplateConfiguration();if(s.get("folder")){if(s.get("index")){if(r.Squarespace.Navigation.ListUtils.isCollectionAStackedIndex(t))return o.StackedIndex;return o.Index}if(s.get("variation"))return o.Variation;return o.Folder}if(e.get("isUnsupportedIndexMaybe"))return o.Index;var n=t.get("type")||s.get("collectionType");var i=s.get("ordering")||t.get("ordering");if(n===u.COLLECTION_TYPE_GENERIC)return c[i];return l[n]}}},"1.0",{requires:["squarespace-navigation-item-base","squarespace-navigation-item-blog","squarespace-navigation-item-cover","squarespace-navigation-item-events","squarespace-navigation-item-folder","squarespace-navigation-item-gallery","squarespace-navigation-item-link","squarespace-navigation-item-index","squarespace-navigation-item-variation","squarespace-navigation-item-member-area","squarespace-navigation-item-music-album","squarespace-navigation-item-page","squarespace-navigation-item-products","squarespace-navigation-item-stacked-index","squarespace-navigation-item-template-page"]})},"./src/main/webapp/universal/scripts-v6/order-csv-export-dialog.js":function(e,t,a){var c=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-order-csv-export-dialog",function(n){n.namespace("Squarespace");var e=function(){this.date=new Date;this.startOfDay=function(){this.date.setHours(0,0,0,0);return this};this.endOfDay=function(){this.date.setHours(23,59,59,999);return this};this.subtractDays=function(e){this.date=n.Date.addDays(this.date,-1*e);return this};this.subtractMonths=function(e){this.date=n.Date.addMonths(this.date,-1*e);return this};this.dayOfMonth=function(e){this.date.setDate(e);return this};this.dayOfWeek=function(e){return this.subtractDays(this.date.getDay()-e)};this.build=function(){return new Date(this.date)}};var i={TODAY:{value:"TODAY",label:c("Today"),dateRange:function(){return{start:(new e).startOfDay().build(),end:(new e).endOfDay().build()}}},YESTERDAY:{value:"YESTERDAY",label:c("Yesterday"),dateRange:function(){return{start:(new e).subtractDays(1).startOfDay().build(),end:(new e).subtractDays(1).endOfDay().build()}}},THIS_WEEK_IN:{value:"THIS_WEEK_IN",label:c("This week (Sun - Today)"),dateRange:function(){return{start:(new e).dayOfWeek(0).startOfDay().build(),end:(new e).endOfDay().build()}}},THIS_WEEK_EX:{value:"THIS_WEEK_EX",label:c("This week (Mon - Today)"),dateRange:function(){return{start:(new e).dayOfWeek(1).startOfDay().build(),end:(new e).endOfDay().build()}}},LAST_SEVEN_DAYS:{value:"LAST_SEVEN_DAYS",label:c("Last 7 days"),dateRange:function(){return{start:(new e).subtractDays(7).startOfDay().build(),end:(new e).endOfDay().build()}}},LAST_WEEK_IN:{value:"LAST_WEEK_IN",label:c("Last week (Sun - Sat)"),dateRange:function(){return{start:(new e).subtractDays(7).dayOfWeek(0).startOfDay().build(),end:(new e).subtractDays(7).dayOfWeek(6).endOfDay().build()}}},LAST_WEEK_EX:{value:"LAST_WEEK_EX",label:c("Last week (Mon - Sun)"),dateRange:function(){return{start:(new e).subtractDays(7).dayOfWeek(1).startOfDay().build(),end:(new e).dayOfWeek(0).endOfDay().build()}}},LAST_BUS_WEEK:{value:"LAST_BUS_WEEK",label:c("Last business week (Mon - Fri)"),dateRange:function(){return{start:(new e).subtractDays(7).dayOfWeek(1).startOfDay().build(),end:(new e).subtractDays(7).dayOfWeek(5).endOfDay().build()}}},LAST_FOURTEEN_DAYS:{value:"LAST_FOURTEEN_DAYS",label:c("Last 14 days"),dateRange:function(){return{start:(new e).subtractDays(14).startOfDay().build(),end:(new e).endOfDay().build()}}},THIS_MONTH:{value:"THIS_MONTH",label:c("This month"),dateRange:function(){return{start:(new e).dayOfMonth(1).startOfDay().build(),end:(new e).endOfDay().build()}}},LAST_THIRTY_DAYS:{value:"LAST_THIRTY_DAYS",label:c("Last 30 days"),dateRange:function(){return{start:(new e).subtractDays(30).startOfDay().build(),end:(new e).endOfDay().build()}}},LAST_MONTH:{value:"LAST_MONTH",label:c("Last month"),dateRange:function(){return{start:(new e).dayOfMonth(1).subtractMonths(1).startOfDay().build(),end:(new e).dayOfMonth(0).endOfDay().build()}}},ALL_TIME:{value:"ALL_TIME",label:c("All time"),dateRange:function(){return{start:new Date(Static.SQUARESPACE_CONTEXT.website.createdOn),end:(new e).endOfDay().build()}}},CUSTOM_RANGE:{value:"CUSTOM_RANGE",label:c("Specific date range"),dateRange:function(){}}};var t=n.Object.values(i);var a=n.Base.create("OrderStatusFilter",n.Squarespace.DialogField2,[],{initializer:function(e){this._addFilterOption("PENDING",c("Pending Orders"));this._addFilterOption("FULFILLED",c("Fulfilled Orders"));this._addFilterOption("CANCELLED",c("Cancelled Orders"));a.superclass.initializer.call(this)},_addFilterOption:function(e,t){this.add({name:e,"strings.title":t})}},{ATTRS:{defaultChildType:{value:n.Squarespace.DialogFields.Check},data:{getter:function(){var t=[];this.each(function(e){e.get("data")&&t.push(e.get("name"))});return t},setter:function(t){this.each(function(e){e.set("data",-1!==t.indexOf(e.get("name")))})}}}});var r=n.Base.create("DateFilter",n.Squarespace.DialogField2,[],{initializer:function(e){this.add(this.get("fields"));r.superclass.initializer.call(this)},bindUI:function(){r.superclass.renderUI.call(this);this._registerEvent(this._getField("dateRangeDropdown").after("dataChange",this.syncUI,this))},syncUI:function(){r.superclass.syncUI.call(this);var e=this._getField("dateRangeDropdown").get("data");var t="CUSTOM_RANGE"===e;var a=this._getField("startDateInput");var s=this._getField("endDateInput");a.set("visible",t);s.set("visible",t);if(!t){var n=i[e].dateRange();a.set("data",n.start);s.set("data",n.end)}},_getField:function(t){var a=null;this.each(function(e){a=e.get("name")===t?e:a});return a}},{ATTRS:{data:{getter:function(){if(0===this.size())return{};var e=this._getField("startDateInput");var t=this._getField("endDateInput");var a={start:e.get("data"),end:t.get("data")};return a}},fields:{value:[{childType:n.Squarespace.DialogFields.Select,name:"dateRangeDropdown",defaultValue:"ALL_TIME",options:t,"strings.title":c("Include Orders From"),"strings.description":c("Filter orders by when they were created."),className:"thin dark",required:true},{childType:n.Squarespace.DialogFields.TextDateTimePicker,"strings.title":c("Start Date"),className:"event-datetime-picker thin",name:"startDateInput",width:"50%"},{childType:n.Squarespace.DialogFields.TextDateTimePicker,"strings.title":c("End Date"),className:"event-datetime-picker thin",name:"endDateInput","strings.errorMessage":c("End time must be later than start time."),width:"50%"}]}}});var s=[{value:"ALL_PRODUCTS",label:c("All Products")},{value:"SPECIFIC_PRODUCT",label:c("Specific Product")}];var o=n.Base.create("ProductFilter",n.Squarespace.DialogField2,[],{initializer:function(e){this.add(this.get("fields"));o.superclass.initializer.call(this)},getErrors:function(){return this._getField("productId").getErrors()},showError:function(e){this._getField("productId").showError(e)},hideError:function(){this._getField("productId").hideError()},bindUI:function(){o.superclass.renderUI.call(this);this._registerEvent(this._getField("productFilterDropdown").after("dataChange",this.syncUI,this))},syncUI:function(){o.superclass.syncUI.call(this);var e="SPECIFIC_PRODUCT"===this._getField("productFilterDropdown").get("data");e||this.hideError();this._getField("productId").set("visible",e);this._getField("productId").set("required",e);this._getField("includeProductForm").set("visible",e)},_getField:function(t){var a=null;this.each(function(e){a=e.get("name")===t?e:a});return a}},{ATTRS:{data:{getter:function(){if(0===this.size())return{};var e=this._getField("productFilterDropdown").get("data");var t={includeProductForm:"SPECIFIC_PRODUCT"===e&&this._getField("includeProductForm").get("data"),productType:"ALL_PRODUCTS"!==e&&"SPECIFIC_PRODUCT"!==e?e:null,productId:"SPECIFIC_PRODUCT"===e?this._getField("productId").get("data"):null};return t}},fields:{value:[{childType:n.Squarespace.DialogFields.Select,name:"productFilterDropdown",options:s,"strings.description":c("Export details for orders of All Products or of a specific product. Exports of a specific product will include Product Form data if available."),className:"thin dark",required:true,defaultValue:"ALL_PRODUCTS"},{childType:n.Squarespace.DialogFields.ProductChooser,name:"productId",required:true},{childType:n.Squarespace.DialogFields.Check,name:"includeProductForm","strings.title":c("Include product form data"),data:true}]}}});var l={width:{$value:"width"},height:{$value:"height"},overlay:.5,frames:[{title:c("Select Orders to Export"),fields:[{ctor:n.Squarespace.DialogFields.Description,config:{title:c("Filter by Order Status"),text:c("Select orders to include depending on status.")}},{ctor:a,config:{name:"orderStatusFilter",data:["PENDING","FULFILLED","CANCELLED"]}}]},{title:c("Select Orders to Export"),fields:[{ctor:r,config:{name:"dateFilter"}}]},{title:c("Select Orders to Export"),fields:[{ctor:o,config:{name:"productFilter",className:"order-export-product-filter"}}]}]};n.Squarespace.OrderCSVExportDialog=n.Base.create("OrderCSVExportDialog",n.Base,[],{show:function(){var e={width:400,height:450};var t=n.Squarespace.ObjectBuilder.make(n.clone(l),{},e);var s=new n.Squarespace.Widgets.FlowDialog(t);s.render(n.config.doc.body);s.on("completed",function(){var e=s.getData();var t={orderStates:e.orderStatusFilter.join(","),productType:e.productFilter.productType,productId:e.productFilter.productId,includeProductForm:e.productFilter.includeProductForm.toString(),orderSubmittedOnMin:new Date(e.dateFilter.start).toISOString(),orderSubmittedOnMax:new Date(e.dateFilter.end).toISOString()};var a=n.QueryString.stringify(t);window.location.href="/api/commerce/orders/export?"+a;s.close()})}})},"1.0",{requires:["base","datatype-date","squarespace-dialog","squarespace-dialog-check","squarespace-dialog-description","squarespace-dialog-field-2","squarespace-dialog-promises","squarespace-dialog-select","squarespace-dialog-text-datetime-picker","squarespace-object-builder","squarespace-widgets-flow-dialog"]})},"./src/main/webapp/universal/scripts-v6/pagination.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-pagination",function(s){s.namespace("Squarespace.Widgets");var t=s.Squarespace.Widgets.Pagination=s.Base.create("Pagination",s.Squarespace.Widgets.SSWidget,[s.WidgetChild],{_initialData:{},initializer:function(){this._saveInitialData()},renderUI:function(){t.superclass.renderUI.apply(this,arguments);var e=this.get("contentBox");this._prevEl=e.one(".page-prev");this._nextEl=e.one(".page-next")},bindUI:function(){t.superclass.bindUI.apply(this,arguments);this._prevEl.on("click",this.prevPage,this);this._nextEl.on("click",this.nextPage,this)},syncUI:function(){if(this.get("hasNextPage")||this.get("hasPreviousPage")){this.set("visible",true);this._prevEl.toggleClass("disabled",!this.get("hasPreviousPage"));this._nextEl.toggleClass("disabled",!this.get("hasNextPage"))}else this.set("visible",false)},_requestPage:function(e,t){var a=["next","previous"];if(!s.Lang.isValue(t)||t.hasClass("disabled")||-1===s.Array.indexOf(a,e))return;this.fire("pageRequested",{start:this.get(e+"PageStart"),direction:e})},nextPage:function(){this._requestPage("next",this._nextEl)},prevPage:function(){this._requestPage("previous",this._prevEl)},reset:function(){s.Object.each(this._initialData,function(e,t){this.set(t,e)},this);this.syncUI()},_saveInitialData:function(){s.Object.each(this.constructor.ATTRS,function(e,t){this._initialData[t]=this.get(t)},this)},getData:function(){return{hasNextPage:this.get("hasNextPage"),hasPreviousPage:this.get("hasPreviousPage"),nextPageStart:this.get("nextPageStart"),previousPageStart:this.get("previousPageStart"),totalItems:this.get("totalItems")}},update:function(e){if(s.Lang.isObject(e)){this.set("hasNextPage",e.hasNextPage);this.set("hasPreviousPage",e.hasPreviousPage);this.set("nextPageStart",e.nextPageStart);this.set("previousPageStart",e.previousPageStart);this.set("totalItems",e.totalItems)}this.syncUI()}},{CSS_PREFIX:"sqs-pagination",TEMPLATE:'<span class="nav"><span class="page-prev"></span><span class="page">'+n("Pages")+'</span><span class="page-next"></span><span class="loading"></span></span>',ATTRS:{visible:{value:false},nextPage:{value:false},prevPage:{value:false},totalItems:{}}})},"1.0",{requires:["base","squarespace-ss-widget","widget-child"]})},"./src/main/webapp/universal/scripts-v6/settings-collection-recycle-bin.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").pluralize;var c=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js").default;YUI.add("squarespace-settings-collection-recycle-bin",function(l){l.namespace("Squarespace.Widgets");var e=l.Squarespace.Widgets.ContentCollectionRecycleBin=l.Base.create("ContentCollectionRecycleBin",l.Squarespace.Widgets.RecycleBin.Base,[l.Squarespace.Damask.Panel.MixinPanel,l.WidgetParent],{initializer:function(){var e={restoreFn:l.Squarespace.RecycleBin.Utils.restoreCollection,"strings.confirm.title":s("Restore Collection"),"strings.confirm.message":s("Are you sure you wish to restore this collection?")};var t=l.Squarespace.Widgets.RecycleBin.ContentCollectionListView;this._deletedDemoCollectionRecycleBin=this.add({childType:t,isDemoCollections:true,itemConfig:l.merge({className:"hide-date"},e),"strings.title":s("Example Pages"),"strings.emptyMessage":s("You do not have any deleted example pages.")}).item(0);this._recycleBin=this.add({childType:t,scrollingElement:this.get("contentBox"),itemConfig:e,"strings.title":s("Deleted Pages"),"strings.emptyMessage":s("You do not have any deleted pages.")}).item(0)},destructor:function(){this._deletedDemoCollectionRecycleBin=null;this._recycleBin=null},bindUI:function(){e.superclass.bindUI.call(this);this._registerEvent(this._deletedDemoCollectionRecycleBin.after("restoreRequested",function(e){this.restore(e.item)},this));this._registerEvent(this._recycleBin.after("restoreRequested",function(e){this.restore(e.item)},this))},_setDescription:function(){var e=l.Squarespace.Context.getInstance();var t=Math.floor(e.get("deletedCollectionGcAgeInSeconds")/60/60/24);var a=s("Here you can restore recently deleted pages. Pages remain here for {daysBeforeRemoved} before they are automatically removed by the system.",{daysBeforeRemoved:n({one:"{%n} day",other:"{%n} days"},t)});this.set("strings.description",a)},confirmEmptyBin:function(){l.Data.del({url:"/api/recycle-bin/collection",success:function(){l.Squarespace.Navigation.Events.fire("collection:emptyTrash");l.Squarespace.Singletons.Location.goBack()},failure:function(e){false}})},_restoreConfirm:function(o){this.get("contentBox").one(".controls").empty().setContent('<div class="status">'+s("Restoring...")+"</div>");var e=l.Squarespace.RecycleBin.Utils.restoreCollection;e(o.get("id"),function(){var e=l.Squarespace.ContentCollectionCache.getCollectionFromData(o.toJSON());var t=e.get("folder");var a={collectionId:e.get("id"),enabled:true,title:e.get("navigationTitle"),typeName:e.get("typeName"),urlId:e.get("urlId"),collectionType:e.get("type"),restored:true};c.syncCollection(e.serialize());var s=l.Squarespace.Singletons.TemplateNavigationList.getHiddenNavigation();var n=s.get("itemList");var i=n.create(a);i.setNavigationItemList(n);t&&i.get("children").setTemplateNavigation(s);var r=this.get("router");r.push({pathname:"/pages",state:{frameUrl:"/"+a.urlId}})},this)}},{CSS_PREFIX:"collection-recycle-bin",ATTRS:{strings:{value:{title:s("Deleted Pages"),restoreConfirm:{title:s("Restore collection"),message:s("Are you sure you wish to restore this collection?"),button:s("Restore")},emptyConfirm:{title:s("Empty the trash"),message:s("Are you sure you wish to empty this pages bin? This is permanent and cannot be undone.")}}}}})},"1.0",{requires:["base","squarespace-context","squarespace-damask-panel-mixin-panel","squarespace-models-content-collection","squarespace-models-template-navigation-list","squarespace-navigation-events","squarespace-settings-recycle-bin-base","squarespace-settings-recycle-bin-utils","squarespace-singletons-location","squarespace-widgets-recycle-bin-content-collection-list-view"]})},"./src/main/webapp/universal/scripts-v6/settings-item-recycle-bin.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").pluralize;YUI.add("squarespace-settings-item-recycle-bin",function(s){s.namespace("Squarespace.Widgets");var e=s.Squarespace.Widgets.ContentItemRecycleBin=s.Base.create("ContentItemRecycleBin",s.Squarespace.Widgets.RecycleBin.Base,[s.Squarespace.Damask.Panel.MixinPanel],{initializer:function(){this._recycleBin=this.add({childType:s.Squarespace.Widgets.RecycleBin.ContentItemListView,collection:this.get("collection"),scrollingElement:this.get("contentBox")}).item(0);this._queuedItems=[]},renderUI:function(){e.superclass.renderUI.call(this);this.get("emptyButton").render(this.get("contentBox"))},bindUI:function(){e.superclass.bindUI.call(this);var t=this.get("damask");this._registerEvent(this._recycleBin.after("previewRequested",function(e){s.Squarespace.Singletons.Location.setFrameUrl(e.item.get("fullUrl"))}));this._registerEvent(this._recycleBin.after("restoreRequested",function(e){"bulk-restore"===e.source?this._startBulkRestore(e):this._startIndividualRestore(e)},this));this._registerEvent(s.Global.on("previewFrame:load",function(e){e.halt();t.isFrameEditable()&&t.toggleFrameEditable()}));this._registerEvent(this._recycleBin.after("itemsChange",function(e){var t=e.newVal.item(0);if(!s.Lang.isValue(t))return;s.Squarespace.Singletons.Location.setFrameUrl(t.get("fullUrl"))},this))},destructor:function(){var e=this.get("damask");e.isFrameEditable()||e.toggleFrameEditable()},_setDescription:function(){var e=s.Squarespace.Context.getInstance();var t=Math.floor(e.get("workflowStateDeletedItemGcAgeInSeconds")/60/60/24);var a=n("Your Recycle Bin lets you restore items you have deleted in the past. Items will stay in the Recycle Bin for {daysBeforeRemoved} before they are removed by the system.",{daysBeforeRemoved:r({one:"{%n} day",other:"{%n} days"},t)});this.set("strings.description",a)},setFocusedChildByItem:function(e){if(!e)return;this._recycleBin.setFocusedChildByItem(e)},confirmEmptyBin:function(){var a=this.get("collection");a.deleteTrashItems(function(e,t){if(t){new s.Squarespace.Widgets.Alert({"strings.title":n("Server Request Failed"),"strings.message":n("Failed to empty the items bin.")});false;return}a.fire("empty-trash");s.Squarespace.Singletons.Location.goBack()}.bind(this))},_startIndividualRestore:function(e){if(!this._shouldCheckPlanLimit()){this.restore(e.item);return}this._checkPlanLimit(1).then(s.bind(function(){this.restore(e.item)},this))},_startBulkRestore:function(t){if(!this._shouldCheckPlanLimit()){this._restoreItems(t.items);return}var e=t.items.size();this._checkPlanLimit(e).then(s.bind(function(e){this._restoreItems(t.items)},this))},_shouldCheckPlanLimit:function(){return this.get("collection").get("type")===i.PRODUCTS},_restoreItems:function(e){e.each(function(e){this._restoreConfirm(e.get("item"))},this)},_restoreConfirm:function(e){this.get("contentBox").one(".controls").empty().setContent('<div class="status">'+n("Restoring...")+"</div>");var t=s.Squarespace.RecycleBin.Utils.restoreItem;t(e,function(){this.get("collection").items.fire("restored-items",{item:e});s.Squarespace.Singletons.Location.goBack();this.get("contentBox").one(".controls").empty().setContent('<div class="status"><span class="restore-msg">'+n("Restore successful.")+'</span><span class="button button-edit-page"><a href="#">'+n("View")+"</a></span></div>")},this)},_checkPlanLimit:function(e,t){return s.Squarespace.ProductViolations.isAllowedToAddItemToCollection(this.get("collection"),e)}},{CSS_PREFIX:"item-recycle-bin",ATTRS:{strings:{value:{title:n("Recycle Bin"),restoreConfirm:{title:n("Restore Item"),message:n("Are you sure you wish to restore this item?"),button:n("Restore")},emptyConfirm:{title:n("Empty the trash"),message:n("Are you sure you wish to empty this recycle bin? This is permanent and cannot be undone.")}}},filter:{value:"DELETED",writeOnce:"initOnly"},collection:{value:null,validator:s.Squarespace.AttrValidators.isObject},multiple:{value:true}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-context","squarespace-damask-panel-mixin-panel","squarespace-dialog-button","squarespace-promises","squarespace-settings-recycle-bin-base","squarespace-settings-recycle-bin-utils","squarespace-singletons-location","squarespace-upsell-product-violations","squarespace-widgets-alert","squarespace-widgets-list-selectable-view","squarespace-widgets-recycle-bin-content-item-list-view"]})},"./src/main/webapp/universal/scripts-v6/settings-recycle-bin-utils.js":function(e,t){YUI.add("squarespace-settings-recycle-bin-utils",function(s){s.namespace("Squarespace.RecycleBin");s.Squarespace.RecycleBin.Utils={restoreCollection:function(e,t,a){s.Data.post({url:"/api/recycle-bin/collection/"+e+"/restore",success:function(e){s.Lang.isObject(e)&&s.Lang.isBoolean(e.hasDeletedCollections)&&s.Object.setValue(s.config.win,"Static.SQUARESPACE_CONTEXT.hasDeletedCollections".split("."),e.hasDeletedCollections);t.apply(this,arguments)}},a)},restoreItem:function(e,t,a){e.set("workflowState",s.Squarespace.WorkflowStates.DRAFT);e.save(s.bind(t,a));return e}}},"1.0",{requires:["squarespace-enum"]})},"./src/main/webapp/universal/scripts-v6/settings-recycle-bin.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-settings-recycle-bin-base",function(s){s.namespace("Squarespace.Widgets.RecycleBin");var e=s.Squarespace.Widgets.RecycleBin.Base=s.Base.create("RecycleBin",s.Squarespace.Widgets.DataWidget,[s.Squarespace.Damask.Panel.MixinPanel,s.WidgetParent],{initializer:function(){this._headerTray=this._initHeaderTray()},destructor:function(){this._headerTray=null},renderUI:function(){e.superclass.renderUI.call(this);this._headerTray.render(this.get("contentBox"));this.get("emptyButton").render(this.get("contentBox"))},_initHeaderTray:function(){this._setDescription();return new s.Squarespace.Widgets.HeaderTray({loading:this.get("dataState")===this.getProperty("DATA_STATES").LOADING,"strings.title":this.get("strings.title")||"","strings.subtitle":this.get("strings.description")})},_setDescription:function(){},restore:function(e){var t=s.bind(this._restoreConfirm,this,e);var a=new s.Squarespace.Widgets.Confirmation({"strings.confirm":this.get("strings.restoreConfirm.button"),"strings.title":this.get("strings.restoreConfirm.title"),"strings.message":this.get("strings.restoreConfirm.message")});a.on("confirm",t,this)},_restoreConfirm:function(){throw new Error("_restoreConfirm not implemented.")}},{CSS_PREFIX:"sqs-recycle-bin-settings",ATTRS:{emptyButton:{valueFn:function(){return new s.Squarespace.DialogFields.Button({name:"empty-trash",className:"minor","strings.text":n("Empty Trash"),onClick:s.bind(function(){new s.Squarespace.Widgets.Confirmation({"strings.title":this.get("strings.emptyConfirm.title"),"strings.message":this.get("strings.emptyConfirm.message")}).on("confirm",this.confirmEmptyBin,this)},this)})}}}})},"1.0",{requires:["squarespace-attr-validators","squarespace-widgets-data-widget","squarespace-damask-panel-mixin-panel"]})},"./src/main/webapp/universal/scripts-v6/settings/commerce/checkout-form-edit.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/src/shared/utils/AltActionListener.js");var r=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/CheckoutSettings/shared/actions/CheckoutSettingsActions.js");var o=a("./src/main/webapp/universal/src/shared/constants/FormBuilderFields.js");var l=a("./src/main/webapp/universal/src/shared/constants/FormModelFieldsets.js");YUI.add("squarespace-settings-commerce-checkout-form-edit",function(s){var e=function(){var a=new s.Squarespace.Models.Form({root:s.Squarespace.API_ROOT+"settings/store-settings/checkout-form",url:s.Squarespace.API_ROOT+"settings/store-settings/checkout-form",name:n("Additional Information"),fields:[{type:"textarea",id:"textarea-yui_3_10_1_1_1394561158755_6106",locked:false,title:n("Note / Additional Info"),description:"",placeholder:"",required:false,textarea:true}],submissionMessage:{html:n("Thank you!")}});function e(){var e=new s.Squarespace.FormModelEditor({model:a,dialogConfigStrings:{title:n("Edit Custom Checkout Form"),loadingText:n("Editing Form")},buttons:[{type:"cancel",title:n("Cancel")},{type:"saveAndClose",title:n("Save")}],minimumLength:1,fieldsets:[l.BUILD],excludedFieldTypes:[o.HIDDEN]});e.show();var t=e.get("dialog").getField("formFields");t.before("*:removeClicked",function(e){t.get("data").length<1&&e.halt()})}a.load(e)};i.addActionListener(r.EDIT_CHECKOUT_FORM,e)},"1.0",{requires:["squarespace-editor-form","squarespace-models-form"]})},"./src/main/webapp/universal/scripts-v6/settings/commerce/shipping.js":function(e,t,a){var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var l=a("./src/main/webapp/universal/packages/enums/Features.js");var c=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeatureGateStore/index.js");var u=a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js");var d=a("./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js");var p=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var m=a("./common/temp/node_modules/lodash/get.js");YUI.add("squarespace-settings-commerce-shipping",function(e){e.namespace("Squarespace.Settings.Commerce");var t=o.isFeatureEnabled(l.SHIPSTATION_INTEGRATION);var a=!t||u.isTrial();var s=a?c.getUpsellCopy(l.SHIPSTATION_INTEGRATION):null;var n=!m(window,["Static","SQUARESPACE_CONTEXT","websiteSettings","storeSettings","shipStationConnectionSettings","passwordConfigured"],false);var i=e.Squarespace.Settings.Commerce.Shipping=e.Base.create("shippingSettings",e.Squarespace.Widgets.SettingsPanel,[e.Squarespace.Damask.Panel.MixinPanel],{hasUnsavedChanges:function(){return false},_syncRenderedFields:function(){i.superclass._syncRenderedFields.call(this);var e=this.getField("rules");var t=this.getField("shipstation-connect");if(t){this._syncWarnings();e.after("rulesChanged",this._syncWarnings,this);t.after("isIncompleteConnectionChange",this._syncWarnings,this)}},_syncWarnings:function(){var e=this.getField("shipstation-connect");if(!e)return;this.getField("showShipStationConnectionWarning").set("visible",e.get("isIncompleteConnection"))},_processResponseData:function(e){e.rules=e;return e},addItem:function(){this.getField("rules").showShippingTypeChooser()},renderUI:function(){i.superclass.renderUI.call(this);var e=this.get("contentBox");if(o.isFeatureGated(l.COMMERCE)){var t=e.one(".title");var a=t.insertBefore('<div class="header-feature-gate-panel"></div>',t.next());var s;s=u.isTrial()?r("{commerceDefaultTrial} ShipStation is only available on Commerce Basic and Advanced, and Real-Time Carrier Rates are only available on Commerce Advanced.",{commerceDefaultTrial:c.getCommerceDefaultTrial()}):r("Upgrade to the Business or Commerce plans to use shipping settings. ShipStation is only available on the Commerce plans, and Real-Time Carrier Rates are only available on Commerce Advanced. Your current plan doesn't include these features.");d.renderPanelNode({node:a.getDOMNode(),analyticsId:"commerce-shipping-panel-header",upsellCopyOverrides:{upgradeDescription:s}})}}},{CSS_PREFIX:"sqs-shipping-settings",ATTRS:{initialDataUrl:{value:"/api/commerce/shipping-options"},"strings.title":{value:r("Shipping")},"strings.description":{value:r("Shipping Settings lets you control what shipping options are available to customers and configure your label printing integration.")},fields:{value:[{ctor:e.Squarespace.DialogFields.Description,config:{title:r("Shipping Options"),text:r("Create shipping options for your customers to choose from. The costs are automatically applied to physical products. Countries not served by any of your shipping options will not be accepted at checkout."),className:"shipping-options-description"}},{ctor:e.Squarespace.DialogFields.ShippingRuleList,config:{name:"rules"}},{ctor:e.Squarespace.DialogFields.FeatureGateDescription,config:{name:"shipping-automation",title:r("Shipping Automation"),isFeatureGated:o.isFeatureGated(l.SHIPSTATION_INTEGRATION)&&!o.isFeatureGated(l.COMMERCE),learnMoreUrl:p.PREMIUM_FEATURES,analyticsId:"commerce-shipping-shipstation",feature:l.SHIPSTATION_INTEGRATION},isDisabled:n},{ctor:e.Squarespace.DialogFields.WarningBanner,config:{name:"showShipStationConnectionWarning","strings.warningMessage":r('Your ShipStation connection may be incomplete. Squarespace has not yet synced with ShipStation. Try clicking "Update" in your ShipStation dashboard and refreshing this panel.')},isDisabled:n},{ctor:e.Squarespace.DialogFields.ShipStationConnect,config:{$dontRecurse:true,name:"shipstation-connect",allowedToUseShipstation:t,upsellInfo:s,siteIdentifier:e.Object.getValue(Static,["SQUARESPACE_CONTEXT","website","identifier"]),websiteSettings:e.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings"])},isDisabled:n}].filter(function(e){return!e.isDisabled})}}})},"1.0",{requires:["anim","node","oop","squarespace-commerce-utils","squarespace-damask-panel-mixin-panel","squarespace-dialog-description","squarespace-dialog-flow","squarespace-dialog-range-table","squarespace-dialog-select","squarespace-dialog-shipping-container-table","squarespace-dialog-shipping-rule-list","squarespace-dialog-shipstation-connect","squarespace-dialog-stringset","squarespace-dialog-warning-banner","squarespace-dialog-feature-gate-description","squarespace-localities","squarespace-models-website-settings","squarespace-tray"]})},"./src/main/webapp/universal/scripts-v6/settings/panel.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-settings-panel",function(n){n.namespace("Squarespace.Widgets");var a=n.Squarespace.Widgets.SettingsPanel=n.Base.create("SettingsPanel",n.Squarespace.Widgets.DataWidget,[n.WidgetParent,n.Squarespace.Mixins.SaveChanges],{initializer:function(e){var t=this.get("initialDataUrl");t?this._loadInitialPanelData(t):this.setLoadedState();this._headerTray=this._initHeaderTray();this.publish("fields-rendered");this.publish("saved-changes",{broadcast:2});this.publish("revert-changes",{broadcast:2});this.publish("saved-changes-failed")},destructor:function(){if(this._headerTray){this._headerTray.destroy();this._headerTray=null}n.Array.each(this._renderedFields,function(e){e.destroy()})},_initHeaderTray:function(){var e=this._getButtonConfigurationForHeaderTray();return this.add(new n.Squarespace.Widgets.HeaderTray({loading:this.get("dataState")===this.getProperty("DATA_STATES").LOADING,"strings.title":this.get("strings.title")||"","strings.subtitle":this.get("strings.description"),buttons:e})).item(0)},_getButtonConfigurationForHeaderTray:function(){var e=n.clone(this.get("buttons"));n.Array.each(e,function(e){if("save"===e.type){e.className=e.className||"";e.action=e.action||function(e){this._initSaveChanges()}}else if("add"===e.type){e.className=e.className||"add ";e.action=e.action||this.addItem}e.context=e.context||this},this);this._hasSaveButton=false;e=n.Array.filter(e,function(e){if("save"===e.type){this._hasSaveButton=true;return false}return true},this);return e},_loadInitialPanelData:function(e){this.setLoadingState();n.Data.get({url:e,data:this.get("initialSendData"),success:function(e){if(this.get("destroyed"))return;n.Lang.isFunction(this._processResponseData)&&(e=this._processResponseData(e));var t=this.get("initialDataPropertyName");var a=e;e&&t&&(a=e[t]);this.setLoadedState();this.set("responseData",e);this.set("data",a);this.markAsClean()},failure:function(e){this.setLoadedState();this.set("data",e)}},this)},renderUI:function(){a.superclass.renderUI.call(this);this._headerTray.setAttrs({buttons:this._getButtonConfigurationForHeaderTray()});var e=this.get("contentBox");this._headerTray.render(e);e.prepend(this._headerTray.get("boundingBox"));e.addClass("sqs-settings-panel-content");var t=this.get("contentBox").one(".panel-description");n.Lang.isValue(t)&&t.remove(true)},bindUI:function(){a.superclass.bindUI.call(this);this.after("stringsChange",function(e){"strings.title"!==e.subAttrName&&"strings.description"!==e.subAttrName&&e.subAttrName||this._syncHeaderTray()});this.after("buttonsChange",function(e){this._headerTray.set("buttons",n.Array.filter(this._getButtonConfigurationForHeaderTray(),function(e){return"save"!==e.type}))})},syncUI:function(){a.superclass.syncUI.call(this);this._headerTray.set("loading",this.isLoading());this.loadedSuccessfully()&&this._syncRenderedFields();this._syncHeaderTray()},_syncHeaderTray:function(){this._headerTray.set("strings.title",this.get("strings.title"));var e=this.get("strings.description");this._headerTray.set("strings.subtitle",e)},_syncRenderedFields:function(){var e=this._renderedFields;var a=this.get("data");n.Array.each(e,function(e){e.destroy()});this._renderedFields=e=[];var t=n.Squarespace.ObjectBuilder.makeArray(this.get("fields"),this.get("panelConfigContext"),a);if(0===t.length)return;e=n.Array.map(t,function(e){var t=e.config;n.Lang.isObject(a)&&n.Lang.isString(t.name)&&n.Lang.isValue(a[t.name])&&(t.data=a[t.name]);n.Lang.isValue(t.submitOnEnter)||(t.submitOnEnter=this.get("submitOnEnter"));return this._instantiateField(e.ctor,t)},this);if(this.getProperty("TEMPLATED"))n.Squarespace.FormUtils.template(this.get("contentBox"),e);else{var s=this.get("contentBox").one(".settings-panel-fields");if(!s)throw new Error("The contentBox does not seem to have a .settings-panel-fields element. This is a required element.");n.Array.each(e,function(e){e.render(s)})}this._changedFields=[];n.Array.each(e,function(e){this._registerEvent(e.after("dataChange",function(e){if(e.silent)return;var t=e.target.get("name");t&&!this._changedFields.contains(t)&&this._changedFields.push(t);this.markAsDirty()},this));this.get("submitOnEnter")&&this._registerEvent(e.after("submit",this._onEnter,this))},this);this._renderedFields=e;this.fire("fields-rendered",{fields:e});this.set("fieldsRendered",true)},getChangedFields:function(){return this._changedFields},_instantiateField:function(e,t){return new e(t)},getField:function(t){return n.Array.find(this._renderedFields,function(e){return e.get("name")===t})},_getSanitizedPanelData:function(){return n.merge(this.get("data"),n.Squarespace.FormUtils.getData(this._renderedFields))},_saveChanges:function(){return new n.Promise(n.bind(function(t,a){var e=n.Squarespace.FormUtils.validate(this._renderedFields);if(n.Object.keys(e).length>0){n.Squarespace.FormUtils.showErrors(this._renderedFields,e);a({errors:e});return}n.Data.post({url:this.get("saveUrl"),data:this._getSanitizedPanelData(),json:this.get("postChangesAsJson"),success:function(e){this._onSaveSuccess(e);t()},failure:function(e){this._onSaveFailure(e);a(e.errors)}},this)},this))},_onSaveSuccess:function(e){this.showSuccessConfirmation();this.fire("saved-changes",{responseData:e})},_onSaveFailure:function(e){n.Squarespace.FormUtils.showErrors(this._renderedFields,e.errors);this.fire("saved-changes-failed",{responseData:e})},_revertChanges:function(){this.fire("revert-changes");var e=this.get("initialDataUrl");if(e){this.setLoadingState();this._loadInitialPanelData(e)}else{this._syncRenderedFields();this.markAsClean()}return n.when(true)},_onEnter:function(){this._initSaveChanges()},showSuccessConfirmation:function(e,t){var a=this.get("strings");e=e||a.saveSuccessfulTitle;t=t||a.saveSuccessfulDescription;new n.Squarespace.Widgets.Information({"strings.title":e,"strings.message":t})},addItem:function(){throw new Error("Add Item was called by no implementation was added!")}},{ASYNC_DATA:true,CSS_PREFIX:"sqs-settings-panel",HANDLEBARS_TEMPLATE:"settings-panel.html",TEMPLATED:false,ATTRS:{strings:{value:{title:"",description:"",saveSuccessfulTitle:s("Settings Saved"),saveSuccessfulDescription:s("Your settings have been saved."),loadingMessage:s("Loading")}},buttons:{value:[{label:s("Save"),type:"save"}],validator:n.Lang.isArray},fields:{value:[]},fieldsRendered:{value:false},initialDataUrl:{value:null},initialSendData:{value:{}},postChangesAsJson:{value:false,validator:n.Lang.isBoolean},initialDataPropertyName:{value:null},panelConfigContext:{value:{}},saveUrl:{value:null},submitOnEnter:{value:false,validator:n.Squarespace.AttrValidators.isBoolean},damask:{value:{}}}})},"1.0",{requires:["base","squarespace-dialog","squarespace-form-utils","squarespace-mixin-save-changes","squarespace-object-builder","squarespace-settings-panel-template","squarespace-tray","squarespace-widgets-data-widget","squarespace-widgets-information","widget-anim"]})},"./src/main/webapp/universal/scripts-v6/settings/site/comments.js":function(e,t,a){var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts").pluralize;var u=a("./src/main/webapp/universal/src/shared/utils/humanizeDate.js");var d=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteActions.js");var h=a("./src/main/webapp/universal/scripts-thirdparty/caja_html_sanitizer/html-sanitizer.js");YUI.add("squarespace-settings-comments",function(p){var e=function(){};p.namespace("Squarespace.Settings.Site");p.namespace("Squarespace.Widgets");var s=p.namespace("Squarespace.Settings.Site").CommentModeration=p.Squarespace.Widgets.CommentModeration=p.Base.create("CommentModeration",p.Squarespace.Widgets.SSWidget,[p.Squarespace.Damask.Panel.MixinPanel],{initializer:function(){this.hideReplyForm=this.replyFormAnimGenerator("out");this.showReplyForm=this.replyFormAnimGenerator("in");this.itemId=Static.SQUARESPACE_CONTEXT.commentTargetId;this.eventMap={};this.destroyed=false;this.responseDelayThreshold=200;this.extending=false;this.firstLoad=true;this.deleting=false;this.sortType=p.Squarespace.CommentSortTypes.NEWEST_FIRST;this.numDisplayed=0;this.threadedViewActive=false;this.targettedCommentId="";this.lastThreadViewed=null;this._status=p.Squarespace.CommentStatuses.AWAITING_MODERATION;this.flagged=false;this.targetRoot="";this.currentPage=1;this.commentIdToTargetData={};this.commentIdToCommentData={};this._noApproveActionTrayButtons=[{label:m("Delete"),action:this.onBatchDeleteClick,context:this},{label:m("Deselect"),action:this.deselectAll,context:this},{label:m("Select All"),action:this.selectAll,context:this}];this._fullActionTrayButtons=[{label:m("Approve"),action:this.approveSelectedComments,context:this},{label:m("Delete"),action:this.onBatchDeleteClick,context:this},{label:m("Deselect"),action:this.deselectAll,context:this},{label:m("Select All"),action:this.selectAll,context:this}];this._actionTray=new p.Squarespace.Widgets.ActionTray({scrollNode:this.get("contentBox")});this.statusToClassNameMap={};this.statusToClassNameMap[p.Squarespace.CommentStatuses.AWAITING_MODERATION.toString()]="unmoderated";this.statusToClassNameMap[p.Squarespace.CommentStatuses.APPROVED.toString()]="approved";this.statusToClassNameMap[p.Squarespace.CommentStatuses.DELETED.toString()]="deleted";this.numSelected=0;this.targetNameMap={}},statusToClassName:function(e){return p.Object.getValue(this.statusToClassNameMap,e)||""},bindUI:function(){s.superclass.bindUI.call(this);this.eventMap={"hide-threaded":p.delegate("click",this.hideThreaded,".panel-top-container",".threaded-exit-btn",this),"clear-flags":p.delegate("click",this.clearFlags,".panel-top-container",".clear-btn",this),"select-filter":p.delegate("click",this.selectFilter,".panel-top-container",".settings-filters div",this),"view-target":p.delegate("click",this.targetLinkOnClick,".squarespace-comment-moderation",".target-link",this),"toggle-selected":p.delegate("click",this.toggleSelected,".squarespace-comment-moderation",".comment",this),"sort-toggle":p.delegate("click",this.sortToggle,".squarespace-comment-moderation",".sort-toggle",this),"approve-inline":p.delegate("click",this.approveSingleComment,".squarespace-comment-moderation",".approve-inline",this),"show-threaded":p.delegate("click",this.showThreaded,".squarespace-comment-moderation",".in-reply",this),"show-reply-area":p.delegate("click",this.showReplyForm,".squarespace-comment-moderation",".reply-inline",this),reply:p.delegate("click",this.onPostReplyBtnClick,".squarespace-comment-moderation",".post-reply-btn",this),"delete-inline":p.delegate("click",this.onInlineDeleteClick,".squarespace-comment-moderation",".delete-inline",this),"deselect-all":p.delegate("click",this.deselectAll,".comment-moderation-footer",".deselect-all",this),"select-all":p.delegate("click",this.selectAll,".comment-moderation-footer",".select-all",this),"approve-selected":p.delegate("click",this.approveSelectedComments,".settings",".approve",this),"delete-selected":p.delegate("click",this.onBatchDeleteClick,".settings",".delete",this),"check-scroll":this.get("contentBox").on("scroll",this.checkScroll,this)}},renderUI:function(){s.superclass.renderUI.call(this);var e=this.get("boundingBox");var t=this.get("contentBox");e.addClass("sqs-settings-panel");t.addClass("sqs-settings-panel-content");var a='<div class="squarespace-comment-moderation"><div class="panel-top-container clear"><div class="title-container"><div class="title">'+m("Comments")+'</div></div><div class="settings-filters tabs"><div class="unmoderated filter">'+m("Unmoderated")+'</div><div class="comment-count unmoderated-count"></div><div class="approved filter">'+m("Approved")+'</div><div class="flagged filter">'+m("Flagged")+'</div><div class="comment-count flagged-count"></div></div></div><div class="moderation-body"></div></div>';this.footer=p.Node.create('<div class="comment-moderation-footer"></div>');t.append(a);e.append(this.footer);this._actionTray.render(this.footer);this.refreshCommentData()},syncUI:function(){s.superclass.syncUI.call(this)},confirmViewTarget:function(e,t){var a=function(){window.location=e};new p.Squarespace.Widgets.Confirmation({"strings.title":m("View Post"),"strings.message":m('Are you sure you want to leave this page and view "{name}"?',{name:t})}).on("confirm",a,this)},targetLinkOnClick:function(e){this.confirmViewTarget(e.target.getAttribute("href"),e.target.get("text"));e.stopImmediatePropagation()},getAvatarUrl:function(e){if(!e||!e.avatarAssetUrl)return"/universal/images-v6/default-avatar.png?format=36w";return e.avatarAssetUrl},replyFormAnimGenerator:function(e){var d=false;var t=function(e){switch(e){case"in":return function(e){if(!d){var t=e.target.ancestor(".comment");if(t.hasClass("replyOpen"))this.hideReplyForm(e);else{t.addClass("replyOpen");var a=p.Node.create('<div class="inline-reply-area-container"></div>');var s=p.Node.create('<textarea class="inline-reply-area"></textarea>');var n=this.getAvatarUrl(Static.SQUARESPACE_CONTEXT.account);var i=p.Node.create('<div class="inline-reply-avatar"><img src="'+n+'"></div>');s.setStyles({height:200});a.append(s);a.append('<input type="button" value="'+m("Post Reply")+'" class="post-reply-btn"></input>');var r=p.Node.create("<input>");r.append(a);var o=p.Node.create('<div class="reply-form-container"></div>');o.append(i);o.append(a);var l=o.cloneNode(true);l.setStyles({visibility:"hidden",display:"block",position:"absolute"});t.append(l);var c=parseInt(l.getComputedStyle("height"),10)+5;l.remove(true);o.setStyle("height",0);t.append(o);var u=new p.Anim({node:o,to:{height:c},duration:.3,easing:p.Easing.easeOutStrong});d=true;u.on("end",function(){d=false;var e=p.one("body"),t=o.getY()+o.get("offsetHeight")-(e.get("docScrollY")+e.get("winHeight")-parseInt(this.footer.getComputedStyle("height"),10));if(t>=0){var a=o.ancestor(".main-content");var s=a.get("scrollTop");var n=new p.Anim({node:o.ancestor(".main-content"),to:{scrollTop:s+t+parseInt(o.ancestor(".comment").getComputedStyle("paddingBottom"),10)+3*parseInt(this.footer.getComputedStyle("height"),10)},duration:.3,easing:p.Easing.easeOutStrong});n.run()}},this);u.run()}}};case"out":return function(e){if(!d){var t=e.target.ancestor(".comment"),a=t.one(".reply-form-container");var s=new p.Anim({node:a,to:{height:0},duration:.2,easing:p.Easing.easeOutStrong});d=true;s.on("end",function(){d=false;a.remove(true);t.removeClass("replyOpen")});s.run()}};default:return function(){}}};return t(e)},onPostReplyBtnClick:function(e){var t=e.target.ancestor(".comment");var a=t.getAttribute("data-commentid");var s=t.one(".inline-reply-area").get("value");var n=h.sanitize(p.Squarespace.Lang.markdownToHTML(s));var i=null;var r=null;if(""===s)this.showEmptyText();else{i=function(){r=this.showReply(n,t).addClass("pending");this.hideReplyForm(e);this.sendReply({text:s,parentId:a,success:function(e){r.setAttribute("data-commentId",e.comment.id);r.setAttribute("data-parentId",a);r.removeClass("pending")}},this)};new p.Squarespace.Widgets.Confirmation({"strings.confirm":m("Post Comment"),"strings.title":m("Post Comment"),"strings.message":m("Are you sure you want to post this comment?")}).on("confirm",i,this)}},showReply:function(e,t){var a={comments:[{memberAccount:Static.SQUARESPACE_CONTEXT.authenticatedAccount,parentId:t.get("data-commentId"),status:p.Squarespace.CommentStatuses.APPROVED,parentAuthorName:t.one(".user-info .author").get("text"),addedOn:new Date,body:e,targetName:t.one(".target-link").get("text")}]};var s=this.dataToNodes(a).shift();s.setStyle("paddingLeft",parseInt(t.getStyle("paddingLeft"),10)+40);t.insert(s,"after");return s},sendReply:function(t,a){var e=Static.SQUARESPACE_CONTEXT.authenticatedAccount||{displayName:"",email:"",websiteUrl:""},s={targetId:this.targetNameMap[t.parentId].id,body:t.text,replyToId:t.parentId,authorName:e.displayName,authorEmail:e.email,websiteUrl:e.websiteUrl,targetType:this.commentIdToTargetData[t.parentId].type};p.Data.post({url:"/api/comment/CreateComment",data:s,success:function(e){if(!this.destroyed){this.targetNameMap[e.comment.id]=this.targetNameMap[t.parentId];this.commentIdToCommentData[e.comment.id]=e.comment;this.commentIdToTargetData[e.comment.id]=this.commentIdToTargetData[t.parentId];e.comment.parentAuthorName=this.commentIdToCommentData[t.parentId].parentAuthorName;p.Lang.isFunction(t.success)&&t.success.call(a||this,e)}},failure:function(e){this.destroyed||p.Lang.isFunction(t.failure)&&t.failure.call(a||this,e)}},this)},getThreadNodes:function(e){var t=[];this.getThreadNodesRec(e,t);return t},getThreadNodesRec:function(e,t){t.push(e);var a=e.getAttribute("data-commentId");p.all('.comment[data-parentId="'+a+'"]').each(function(e){this.getThreadNodesRec(e,t)},this)},onInlineDeleteClick:function(e){var t=this.getThreadNodes(e.target.ancestor(".comment"));this.deleteConfirm(t)},onBatchDeleteClick:function(e){var t=[],a={};p.all(".comment.selected").each(function(e){t.push(e);a[e.getAttribute("data-commentId")]=true});t=t.filter(function(e){return!e.hasAttribute("data-parentId")||p.Lang.isUndefined(a[e.getAttribute("data-parentId")])}).map(function(e){return this.getThreadNodes(e)},this);this.batchDeleteConfirm(t)},batchDeleteConfirm:function(e){var t=e.map(function(e){return e[0].getAttribute("data-commentId")}),a=e.reduce(function(e,t){return e+t.length},0),s=function(){this.deleting=false;e.forEach(function(e){this.unsetPreDelete(e)},this)},n=function(){this.deleting=false;e.forEach(function(e){this.unsetPreDelete(e);this.deselect(e);this.setDeleted(e)},this);this.deleteComments(t,false,a);this.numSelected=0;this._actionTray.set("count",0)},i=function(){this.deleting=false;e.forEach(function(e){this.unsetPreDelete(e);this.deselect(e);this.setDeleted(e)},this);this.deleteComments(t,true,a);this.numSelected=0;this._actionTray.set("count",0)};e.forEach(function(e){this.setPreDelete(e)},this);this.deleting=true;var r=new p.Squarespace.Widgets.Confirmation({style:p.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_OR_REJECT,width:370,"strings.reject":m("Delete"),"strings.confirm":m("Delete & Report Spam"),"strings.title":o({one:"Delete Comment",other:"Delete {%n} Comments"},a),"strings.message":o({one:"Are you sure you wish to delete this comment?",other:"Are you sure you wish to delete these comments?"},a)});r.on("cancel",s,this);r.on("reject",n,this);r.on("confirm",i,this)},deleteConfirm:function(e){var t=function(){this.deleting=false;this.unsetPreDelete(e)},a=e[0],s=function(){this.deleting=false;this.unsetPreDelete(e);this.deselect(e);this.setDeleted(e);this.deleteComments([a.getAttribute("data-commentId")],false,e.length)},n=function(){this.deleting=false;this.unsetPreDelete(e);this.deselect(e);this.setDeleted(e);this.deleteComments([a.getAttribute("data-commentId")],true,e.length)};this.deleting=true;this.setPreDelete(e);var i=new p.Squarespace.Widgets.Confirmation({style:p.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_OR_REJECT,width:370,"strings.reject":m("Delete"),"strings.confirm":m("Delete & Report Spam"),"strings.title":1===e.length?m("Delete Comment"):m("Delete {commentCount} Comments",{commentCount:e.length}),"strings.message":e.length>1?m("Are you sure you wish to delete these comments?"):m("Are you sure you wish to delete this comment?")});i.on("cancel",t,this);i.on("reject",s,this);i.on("confirm",n,this)},unsetPreDelete:function(e){e.forEach(function(e){e.removeClass("pending-delete")})},setPreDelete:function(e){e.forEach(function(e){e.addClass("pending-delete")})},setDeleted:function(e){var t=p.Node.create('<div class="delete-anim-wrapper"></div>');var a=e[0];a.insert(t,"after");e.forEach(function(e){t.append(e)});this.numDisplayed-=e.length;var s=new p.Anim({node:t,duration:.3,easing:p.Easing.easeOutStrong,to:{height:0}});s.on("end",function(){t.remove(true);this.numDisplayed||this.showNoCommentAlert()},this);s.run()},deleteComments:function(e,t,a){p.Data.post({url:"/api/comment/admin/DeleteComments",data:{comments:e,markAsSpam:t},success:function(e){this.refreshCommentCounts();new p.Squarespace.Widgets.Information({"strings.title":o({one:"Comment Deleted",other:"Comments Deleted"},a),"strings.message":o({one:"{%n} comment has been deleted.",other:"{%n} comments have been deleted."},a)})}},this)},showEmptyText:function(){new p.Squarespace.Widgets.Alert({"strings.title":m("Enter Comment Text"),"strings.message":m("Enter text in the field above to post a comment.")})},clearFlags:function(e){var t=function(){p.Data.post({url:"/api/comment/admin/ClearFlagCounts",success:function(){if(!this.destroyed){e.target.remove(true);this.refreshCommentData();this.refreshCommentCounts()}}},this)};new p.Squarespace.Widgets.Confirmation({"strings.title":m("Clear Flags"),"strings.message":m("Are you sure you wish to clear flags on these comments?")}).on("confirm",t,this)},toggleSelected:function(e){if(!this.deleting&&!e.target.hasClass("approve-inline")&&!e.target.hasClass("delete-inline")&&!e.target.hasClass("reply-inline")&&!e.target.hasClass("inline-reply-area")&&!e.target.hasClass("inline-reply-area")&&!e.target.hasClass("post-reply-btn")&&!e.target.hasClass("context-inline")&&!e.target.hasClass("in-reply")){var t=e.target.ancestor(".comment");t=t||e.target;if(t.hasClass("selected")){this.decNumSelected();this.animToUnselected(t)}else{this.incNumSelected();this.animToSelected(t)}}},selectAll:function(e){p.all(".comment").each(function(e){if(!e.hasClass("selected")){this.animToSelected(e);this.incNumSelected()}},this)},deselectAll:function(e){p.all(".comment").each(function(e){if(e.hasClass("selected")){this.animToUnselected(e);this.decNumSelected()}},this)},deselect:function(e){e.forEach(function(e){if(e.hasClass("selected")){this.animToUnselected(e);this.decNumSelected()}},this)},select:function(e){e.forEach(function(e){if(!e.hasClass("selected")){this.animToSelected(e);this.incNumSelected()}},this)},selectFilter:function(e){this._actionTray.set("count",0);if(!this.deleting)if(this.threadedViewActive){this.hideThreaded();this.selectFilter(e)}else{var t=this._status;var a=this.flagged;var s=e.target.ancestor(".settings-filters");this.flagged=false;e.target.hasClass("approved")?this._status=p.Squarespace.CommentStatuses.APPROVED:e.target.hasClass("unmoderated")?this._status=p.Squarespace.CommentStatuses.AWAITING_MODERATION:e.target.hasClass("flagged")&&(this.flagged=true);var n=p.one(".clear-btn");n&&n.remove(true);var i=this._status!==t||this.flagged!==a;if(this.itemId||i){this.itemId=null;s.all(".active").each(function(e){e.removeClass("active")});e.target.addClass("active");this.refreshCommentData()}}},sortToggle:function(e){var t=p.one(".sort-toggle");if(this.sortType===p.Squarespace.CommentSortTypes.OLDEST_FIRST){this.sortType=p.Squarespace.CommentSortTypes.NEWEST_FIRST;t.set("innerHTML",m("Newest first"));this.refreshCommentData()}else{this.sortType=p.Squarespace.CommentSortTypes.OLDEST_FIRST;t.set("innerHTML",m("Oldest first"));this.refreshCommentData()}},toApproved:function(e){e.removeClass("unmoderated");e.removeClass("deleted");e.addClass("approved");this.animToUnselected(e);e.all(".avatar, .user-info, .comment-body").each(function(e){e.removeClass("unmoderated");e.removeClass("deleted");e.setStyle("textDecoration","none")},this)},approveSelectedComments:function(e){var t=e.buttonConfig&&e.buttonConfig.label||e.target.hasClass&&!e.target.hasClass("inactive");if(t){var a=this.getSelectedIds();a.length&&p.Data.post({url:"/api/comment/admin/ApproveComments",data:{comments:a},success:function(e){if(!this.destroyed){p.all(".squarespace-comment-moderation .selected").each(function(e){if(this._status===p.Squarespace.CommentStatuses.APPROVED||this.threadedViewActive){this.toApproved(e);this.threadedViewActive&&this.toApproved(p.one(".moderation-body .comment[data-commentid="+e.getAttribute("data-commentid")+"]"))}else{this.numDisplayed-=1;var t=new p.Anim({node:e,duration:.3,to:{opacity:0},easing:p.Easing.easeOutStrong});t.on("end",function(){e.remove(true);this.numDisplayed||this.showNoCommentAlert()},this);t.run()}},this);this.numSelected=0;this._actionTray.set("count",this._numSelected);new p.Squarespace.Widgets.Information({"strings.title":m("Comments Approved"),"strings.message":m("The selected comments have been approved.")});this.refreshCommentCounts()}}},this)}},toDeleted:function(e){e.removeClass("unmoderated");e.removeClass("approved");e.addClass("deleted");this.animToUnselected(e);e.all(".avatar, .user-info, .comment-body").each(function(e){e.removeClass("unmoderated");e.removeClass("approved");e.addClass("deleted")})},reset:function(){while(this.numSelected>0)this.decNumSelected();p.all(".moderation-body .selected").each(function(e){this.animToUnselected(e)},this)},showThreaded:function(t){var e=t.target;var a=p.one(".moderation-body");var s;var n;var i=Number.MAX_VALUE;var r={};var o;var l;this.reset();t.target.hasClass("comment")||(e=t.target.ancestor(".comment"));s=e.getAttribute("data-commentid");if(this.targettedCommentId!==s&&this.targetRoot!==s){this.targettedCommentId=s;this.lastThreadViewed=e;p.Data.get({url:"/api/comment/GetThread",data:{commentId:s,sortBy:p.Squarespace.CommentSortTypes.NEWEST_FIRST},success:function(e){if(!this.destroyed){this.reset();this.threadedViewActive=true;p.one(".threaded-view")&&this.hideThreaded(t);p.one(".threaded-exit-button")||p.one(".panel-top-container").append('<input class="threaded-exit-btn" type="button" value="'+m("Exit Thread")+'"></input>');for(n=0;n<e.comments.length;n++){e.comments[n].comment.depth<i&&(i=e.comments[n].comment.depth);0===e.comments[n].comment.depth&&(this.targetRoot=e.comments[n].comment.id);r[e.comments[n].comment.id]=e.comments[n].comment.depth;this.targetNameMap[e.comments[n].comment.id]={name:e.comments[n].targetName,id:e.comments[n].targetId}}o=this.dataToNodes(this.dataToRenderable(e));l=p.Node.create('<div class="moderation-body threaded-view"></div>');for(n=0;n<o.length;n++)l.append(o[n]);o=l;o.setStyle("zIndex",11e3);o.all(".comment").each(function(e){e.setStyle("marginLeft",40*(r[e.getAttribute("data-commentid")]-i)+"px")},this);a.setStyle("display","none");this.get("contentBox").one(".squarespace-comment-moderation").append(o);p.one(".panel-top-container").scrollIntoView();this.animToSelected(o.one(".comment[data-commentid="+s+"]"))}},failure:function(e){}},this)}},hideThreaded:function(e){var t=p.one(".threaded-view");var a=p.one(".moderation-body");var s=p.one(".threaded-exit-btn");this.reset();this.threadedViewActive=false;t.remove(true);s.remove();this.targettedCommentId="";this.targetRoot="";a.setStyle("display","block");this.lastThreadViewed.scrollIntoView(true)},checkScroll:function(e){if(!p.one(".moderation-body.threaded-view")&&this.numDisplayed&&this.currentPage<this.numPages&&!this.extending){var t=this.get("contentBox");var a=(t.get("scrollTop")+p.DOM.viewportRegion().height)/t.get("scrollHeight");this.lastScrollRatio<a&&a>=.8&&this.extendComments(t);this.lastScrollRatio=a}},checkScrollCameron:function(e){if(!p.one(".moderation-body.threaded-view")&&this.numDisplayed&&this.currentPage<this.numPages&&!this.extending){var t=p.one("body");var a=(t.get("scrollTop")+p.DOM.viewportRegion().height)/t.get("scrollHeight");this.lastScrollRatio<a&&a>=.8&&this.extendComments(p.one(".main-content"));this.lastScrollRatio=a}},onLoading:function(){var e=p.one(".moderation-body");null!==e&&e.empty()},postLoading:e,onExtendLoading:e,extendPostLoading:e,extendComments:function(a){this.extending=true;var s=a.get("scrollTop");this.extending=true;p.Data.get({url:"/api/comment/admin/GetAllComments",data:{sortType:this.sortType,page:this.currentPage+1,commentStatus:this._status,flagged:this.flagged,itemId:this.itemId},success:function(e){if(!this.destroyed){this.currentPage+=1;var t=e;this.populateDataMaps(t);this.data.comments=this.data.comments.concat(t.comments);this.renderExtend(t);a.set("scrollTop",s);this.extending=false}},failure:function(e){this.extending=false}},this)},incNumSelected:function(){this.numSelected+=1;this._actionTray.set("count",this.numSelected)},decNumSelected:function(){this.numSelected-=1;this._actionTray.set("count",this.numSelected)},fadeOutComment:function(e,t){e.wrap('<div class="temporary-wrapper"></div>');var a=e.ancestor(".temporary-wrapper");var s=e.get("offsetHeight");var n=new p.Anim({node:e,duration:.3,to:{opacity:0},easing:p.Easing.easeOutStrong});var i=new p.Anim({node:a,duration:.3,to:{height:0},easing:p.Easing.easeOutStrong});a.setStyle("height",s);n.on("end",function(){p.later(80,this,function(){e.remove(true);i.on("end",function(){a.remove(true);this.fire(t+"-animation-complete");p.one(".moderation-body").get("children").size()||this.refreshCommentData()},this);i.run()})},this);n.run()},animToDeleted:function(e){this.fadeOutComment(e,"delete")},animToApproved:function(e){this.fadeOutComment(e,"approve")},approveSingleComment:function(e){var t=e.target;t.hasClass("comment")||(t=t.ancestor(".comment"));p.Data.post({url:"/api/comment/admin/ApproveComments",data:{comments:[t.getAttribute("data-commentid")]},success:function(e){if(!this.destroyed){if(this._status===p.Squarespace.CommentStatuses.APPROVED||this.threadedViewActive||this.flagged&&this.commentIdToCommentData[t.getAttribute("data-commentid")].flagCount>this.flagThreshold){this.toApproved(t);this.threadedViewActive&&this.toApproved(p.one(".moderation-body .comment[data-commentid="+t.getAttribute("data-commentid")+"]"))}else{this.eventMap["approve-inline"].detach();this.once("approve-animation-complete",function(){this.eventMap["approve-inline"]=p.delegate("click",this.approveSingleComment,".squarespace-comment-moderation",".approve-inline",this);this.numDisplayed-=1;this.numDisplayed||this.showNoCommentAlert()},this);this.animToApproved(t)}this.refreshCommentCounts()}},failure:function(e){}},this)},destructor:function(){this.destroyed=true;p.Object.each(this.eventMap,function(e){e.detach()},this);this.eventMap=null},animToSelected:function(e){e.addClass("selected")},animToUnselected:function(e){e.removeClass("selected")},refreshCommentData:function(){this.onLoading();p.Data.get({url:"/api/comment/admin/GetAllComments",data:{sortType:this.sortType,itemId:this.itemId,page:1,commentStatus:this._status,flagged:this.flagged},success:function(e){if(!this.destroyed){if(!this.itemId&&!this.flagged&&e.comments.length>0&&e.comments[0].comment.status!==this._status)return;this.get("contentBox").toggleClass("viewing-item",!!this.itemId);e.comments=e.comments.filter(function(e){if(p.Lang.isUndefined(e.targetId)){false;return false}return e});this.numPages=Math.max(Math.ceil(e.totalComments/25),1);this.data=e;this.currentPage=1;this.numDisplayed=this.data.comments.length;this.numSelected=0;this.flagThreshold=this.data.flagThreshold;if(e.comments.length){this.populateDataMaps(e);this.flagged||p.one("."+this.statusToClassName(this._status)).addClass("active");this._actionTray.set("buttons",this._noApproveActionTrayButtons);this._status!==p.Squarespace.CommentStatuses.APPROVED&&this._actionTray.set("buttons",this._fullActionTrayButtons)}else{if(this.firstLoad){this._status=p.Squarespace.CommentStatuses.APPROVED;var t=p.one(".settings-filters");if(t){t.one(".approved ").addClass("active");t.one(".unmoderated").removeClass("active")}this.firstLoad=false;this.refreshCommentData();return}this.flagged?p.one(".flagged").addClass("active"):p.one("."+this.statusToClassName(this._status)).addClass("active");p.all(".comment-moderation-footer [type=button]").each(function(e){e.remove(true)},this)}this.firstLoad=false;this.postLoading();this._renderManager(e);p.one("window").set("scrollTop",0);this.refreshCommentCounts()}}},this)},populateDataMaps:function(e){for(var t=0,a=e.comments.length;t<a;t++){this.targetNameMap[e.comments[t].comment.id]={name:e.comments[t].targetName,id:e.comments[t].targetId};this.commentIdToTargetData[e.comments[t].comment.id]={name:e.comments[t].targetName,id:e.comments[t].targetId,urlId:e.comments[t].targetUrlId,type:e.comments[t].targetType};this.commentIdToTargetData[e.comments[t].comment.id].collectionUrlId=e.comments[t].targetCollectionUrlId||void 0;this.commentIdToCommentData[e.comments[t].comment.id]=e.comments[t].comment}},refreshCommentCounts:function(){var e=function(e){if(!this.destroyed||!this.get("destroyed")){var t=p.one(".settings-filters");var a=t.one(".flagged-count");var s=t.one(".unmoderated-count");var n=parseInt(a.get("text"),10);var i=parseInt(s.get("text"),10);var r=e.unmoderatedCount;var o=e.flagCount;var l=p.one(".clear-btn");o>0?!l&&this.flagged&&p.one(".panel-top-container").append('<div class="clear-btn">'+m("Clear Flags")+"</div>"):l&&l.remove(true);if(n!==o){var c=t.one(".flagged-count");c.set("innerHTML",o>0?o:"");o>0?c.addClass("visible"):c.removeClass("visible")}if(i!==r){Static.SQUARESPACE_CONTEXT.website.unmoderatedCommentCount=r;d.update({unmoderatedCommentCount:r});var u=t.one(".unmoderated-count");u.set("innerHTML",r>0?r:"");r>0?u.addClass("visible"):u.removeClass("visible")}p.Global.fire("sqsContextChange")}};p.Data.get({url:"/api/comment/admin/GetModerationCounts",success:e},this)},dataToRenderable:function(e){var t={comments:[]};for(var a=0;a<e.comments.length;a++){t.comments.push(e.comments[a].comment);e.comments[a].parentAuthorName&&(t.comments[a].parentAuthorName=e.comments[a].parentAuthorName)}return t},renderExtend:function(e){var t;var a;var s;if(this.data.comments.length){t=this.get("contentBox").one(".moderation-body");a=this.dataToRenderable(e);if(a.comments.length){s=t.cloneNode(true);p.Array.each(this.dataToNodes(a),function(e){s.append(e)},this);t.replace(s)}}},showNoCommentAlert:function(){var e;this.flagged?e=m("There are no comments currently flagged."):this._status===p.Squarespace.CommentStatuses.APPROVED?e=m("There are no comments to display."):this._status===p.Squarespace.CommentStatuses.AWAITING_MODERATION&&(e=m("There are no comments awaiting moderation."));var t=p.one(".moderation-body");var a='<div class="no-comments"><img class="icon large" src="/universal/images-v6/configuration/no-comments.png"><div class="empty-text">'+e+"</div></div>";t.empty();t.append(a)},_renderManager:function(e){var t=p.one(".moderation-body");var a=t.cloneNode(true).empty();var s=this.dataToRenderable(e);if(s.comments.length){var n=this.dataToNodes(s);for(var i=0;i<n.length;i++)a.append(n[i]);t.replace(a)}else this.showNoCommentAlert()},escapeComment:function(e){e.authorName=p.Squarespace.Escaping.escapeForHtml(e.authorName);if(e.memberAccount){e.memberAccount.displayName=p.Squarespace.Escaping.escapeForHtml(e.memberAccount.displayName);e.memberAccount.email=p.Squarespace.Escaping.escapeForHtml(e.memberAccount.email);e.memberAccount.bio=p.Squarespace.Escaping.escapeForHtml(e.memberAccount.bio)}},getTargetUrlForComment:function(e){var t=this.commentIdToTargetData[e.id||e.parentId];if(p.Lang.isUndefined(t))return"";return"/"+(t.collectionUrlId?t.collectionUrlId+"/":"")+t.urlId},_getAuthorString:function(e){var t="";var a=function(e){return"("+e+")"};if(e.memberAccount)t=e.memberAccount.displayName;else{t=e.authorName;e.authorEmail?t+=" "+a(e.authorEmail):e.authorUrl&&(t='<a target="_blank" href="'+p.Escape.html(e.authorUrl)+'">'+e.authorName+"</a>")}return t},_getTargetName:function(e){var t=e.targetName||p.Squarespace.Escaping.escapeForHtml(this.targetNameMap[e.id].name)||"---";t.length>30&&(t=t.trim().substr(0,30)+"");return t},dataToNodes:function(e){var c=this._status!==p.Squarespace.CommentStatuses.AWAITING_MODERATION;var t=p.Array.map(e.comments,function(e,t){this.escapeComment(e);var a=this.getAvatarUrl(e.memberAccount);var s=u(e.addedOn).capitalize();var n=this._getTargetName(e);var i=c?'<span class="target-link" href="'+this.getTargetUrlForComment(e)+'">'+n+"</span>":n;var r=m(" on {commentTarget}",{commentTarget:i})+'<span class="in-reply"></span></span>';e.parentAuthorName&&(r=m(' on {commentTarget}<span class="in-reply"> in reply to {parentCommentAuthorName}</span>',{commentTarget:i,parentCommentAuthorName:p.Escape.html(e.parentAuthorName)}));var o='<div data-commentid="'+e.id+'" class="comment '+(this.statusToClassName(e.status.toString())||"")+'"><div class="comment-header"><div class="avatar"><img src="'+a+'"></div><div class="user-info"><span class="author">'+this._getAuthorString(e)+'</span><span class="date"> '+s+'</span><span class="target">'+r+'</span></div><div class="inline-btn-container"><div class="inline-btn delete-inline"></div><div class="inline-btn approve-inline"></div><div class="inline-btn reply-inline"></div></div></div><div class="comment-body"></div></div>';var l=p.Node.create(o);l.one(".comment-body").set("innerHTML",h.sanitize(e.body));return l},this);return t},getSelectedIds:function(){var t=[];p.all(".squarespace-comment-moderation .selected").each(function(e){t.push(e.getAttribute("data-commentid"))});return t}},{CSS_PREFIX:"sqs-comment-moderation"})},"1.0",{requires:["anim","escape","node","oop","squarespace-escaping-utils","squarespace-damask-panel-mixin-panel","squarespace-markdown","squarespace-tray","squarespace-util","squarespace-widgets-alert","squarespace-widgets-confirmation","squarespace-widgets-information"]})},"./src/main/webapp/universal/scripts-v6/settings/site/importing.js":function(e,t,a){var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./src/main/webapp/universal/src/shared/actions/JobActions.js");var s=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var d=a("./common/temp/node_modules/lodash/invert.js");var p=a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js");var m=a("./src/main/webapp/universal/src/shared/utils/YuiElimination.ts").isYuiClassEnabled;var h=u('Import content from other platforms. </br>You can also export your blogs. <a target="_blank" href="{sub1}">Learn more about importing and exporting.</a>',{sub1:s.IMPORT_EXPORT});var v=u("Import content from other platforms.");var g=u("Export your blogs and pages to WordPress.");YUI.add("squarespace-settings-site-importing",function(l){l.namespace("Squarespace");var e;var t;var a;var s;var n;var i;var c;l.Squarespace.JobWidget=e=l.Base.create("jobWidget",l.Widget,[l.WidgetChild],{initializer:function(e){if(!(e&&e.job))throw new Error(u("You must provide a Squarespace.Job instance to create a Job Widget."));this._jobStatusNames=d(l.Squarespace.JobStatuses);this._importSourceNames=d(l.Squarespace.ImportingSources);this._jobTypeNames=d(l.Squarespace.JobTypes);this._anims=[];this._numMessages=5},destructor:function(){var e=this.get("job");e.detachAll();this._anims.forEach(function(e){e.get("running")&&e.stop()})},renderUI:function(){var e=this.get("contentBox");var t=this.get("boundingBox");var a=this.get("job");var s=l.Node.create('<div class="general"></div>');var n=a.get("progress")/100;var i;var r;var o;e.append(s);e.append(l.Node.create('<div class="detail"><div class="messages"></div></div>'));s.append('<div class="job-info"><div class="type-info"><div class="icon '+this._jobTypeNames[a.get("type")].toLowerCase()+'"></div></div><div class="progress"><div class="progress-bar"></div></div><div class="status">'+this._jobStatusNames[a.get("status")].toLowerCase()+"</div></div>");s.append('<div class="job-buttons"><input class="check button light" type="button" value="'+u("Clear")+'" /></div>');t.addClass("status-"+this._jobStatusNames[a.get("status")].toLowerCase());this._renderMessages();i=e.one(".progress-bar");r=e.one(".progress");o=new l.Anim({duration:.3,easing:l.Easing.easeOutStrong,node:i,from:{width:0},to:{width:r.get("offsetWidth")*n}});o.run()},_renderMessages:function(){var e=this.get("contentBox");var t=this.get("job");var a=(t.get("messages")||[]).reverse();var s=e.one(".messages");var n=l.one(l.config.doc.createDocumentFragment());s.empty();a.forEach(function(e){n.append(l.Lang.sub('<div class="message level-{level}"><div class="message-text">&mdash; {messageText}</div></div>',{level:e.get("level"),messageText:e.get("message")}))});s.setContent(n)},_getURLForSource:function(e){switch(e){case l.Squarespace.ImportingSources.V5:return this.get("job").get("data").username+".squarespace.com";case l.Squarespace.ImportingSources.WORDPRESS:case l.Squarespace.ImportingSources.TUMBLR:return this.get("job").get("data").hostname;default:return""}},bindUI:function(){var e=this.get("job");var t=this.get("contentBox");e.before("statusChange",this._beforeStatusChange,this);e.after("statusChange",this.syncUI,this);e.after("progressChange",this._afterProgressChange,this);e.after("messagesChange",this._renderMessages,this);t.one(".check").on("click",this._onCheckClick,this)},_onCheckClick:function(e){e.stopImmediatePropagation();this.fire("remove")},_onRetryClick:function(e){e.stopImmediatePropagation();this.fire("retry")},_beforeStatusChange:function(e){var t=this.get("boundingBox");t.removeClass("status-"+this._jobStatusNames[e.prevVal].toLowerCase());t.addClass("status-"+this._jobStatusNames[e.newVal].toLowerCase())},syncUI:function(){var e=this.get("job");var t=this.get("contentBox");var a=t.one(".status");a.empty();a.setContent(this._jobStatusNames[e.get("status")].toLowerCase())},_afterProgressChange:function(){var e=this.get("job");var t=this.get("contentBox");var a=t.one(".progress");var s=t.one(".progress-bar");var n;var i=e.get("progress")/100;n=new l.Anim({duration:.3,easing:l.Easing.easeOutStrong,node:s,to:{width:a.get("offsetWidth")*i}});this._anims.push(n);n.run()}},{ATTRS:{job:{}},CSS_PREFIX:"ss-job"});l.Squarespace.JobList=l.Base.create("jobList",l.Widget,[l.WidgetParent],{renderUI:function(){var e=Static.JOB_MANAGER;var t=this.get("contentBox");var a=e.allJobs();var s=l.Node.create('<div class="jobs"></div>');var n;var i;var r;var o;t.append('<div class="settings-help"></div>');t.append(s);a=l.Object.values(a).sort(function(e,t){return!l.DataType.Date.isGreater(e.get("addedOn"),t.get("addedOn"))});i=function(e){return e.get("type")===l.Squarespace.JobTypes.IMPORTING||e.get("type")===l.Squarespace.JobTypes.EXPORTING_WORDPRESS||e.get("type")===l.Squarespace.JobTypes.STATS_MIGRATION};r=function(e){if(!i(e))return false;var t=e.get("data");return!(t.type===l.Squarespace.ImportingSources.ETSY||t.type===l.Squarespace.ImportingSources.SHOPIFY||t.type===l.Squarespace.ImportingSources.BIG_CARTEL)};a.filter(r).forEach(function(e){n=c[e.get("type").toString()];if(n){o=new n({job:e});this._bindJob(o);this.add(o);o.render(s)}},this)},addJob:function(e){var t=c[e.get("type").toString()];if(t){var a=new t({job:e});this._bindJob(a);this.add(a)}},_bindJob:function(e){e.on("retry",this._onRetry,this);e.on("remove",this._onRemove,this)},_onRetry:function(e){var t=e.target,a=t.get("job");t.on("hidden",function(){t.destroy();this.fire("retry",a)},this);t.hide()},_onRemove:function(e){var s=e.target;var t=s.get("job").get("id");o.delete(t);s.destroy();var n=-1;this.some(function(e,t){var a=e.get("id")===s.get("id");a&&(n=t);return a});this.remove(n);this.syncUI()},syncUI:function(e){var a=this.get("contentBox");this.each(function(e){if(!e.get("rendered")){var t=l.Node.create('<div class="temporary-widget-container"></div>');a.one(".jobs").prepend(t);e.render(t);e.get("boundingBox").unwrap()}});var t=a.one(".empty-text");t&&t.remove(true)},destructor:function(){l.Lang.isValue(Static.JOB_MANAGER)&&Static.JOB_MANAGER.detach("jobList|*");this.detachAll();this.each(function(e){e.destroy()})}},{CSS_PREFIX:"joblist"});l.Squarespace.WordpressExportJobWidget=i=l.Base.create("wordpressExportJobWidget",e,[],{renderUI:function(){l.Squarespace.WordpressExportJobWidget.superclass.renderUI.apply(this,arguments);var e=this.get("contentBox").one(".general");e.one(".type-info").append('<div class="type">'+u("Exporting Site")+"</div>");e.one(".icon").addClass("wordpress")},syncUI:function(){l.Squarespace.WordpressExportJobWidget.superclass.syncUI.apply(this,arguments);if(this.get("job").get("status")===l.Squarespace.JobStatuses.SUCCESS){var e=this.get("contentBox").one(".status");e.replace(l.Node.create('<a class="status download-btn" target="_blank">'+u("download")+"</a>"));var t=this.get("job");var a="https://"+l.Object.getValue(Static,["SQUARESPACE_CONTEXT","website","identifier"])+"."+Static.SQUARESPACE_CONTEXT.appDomain;a+="/api/export/DownloadExport";var s={jobId:t.get("id")};a=l.Data.addCrumb(a+"?"+l.QueryString.stringify(s));this.get("contentBox").one(".download-btn").setAttribute("href",a)}}});l.Squarespace.ImportJobWidget=t=l.Base.create("importJobWidget",e,[],{renderUI:function(){l.Squarespace.ImportJobWidget.superclass.renderUI.apply(this,arguments);var e=this.get("job");var t=this.get("contentBox").one(".general");var a=this._getURLForSource(e.get("data").type)||u("Import From File");t.one(".type-info").append('<div class="type">'+u("Importing Site")+"</div>");t.one(".type-info").append('<div class="desc">'+a+"</div>");t.one(".icon").addClass(this._importSourceNames[e.get("data").type].toLowerCase())}});m("statsMigrationJobWidget")&&(l.Squarespace.StatsMigrationJobWidget=s=l.Base.create("statsMigrationJobWidget",e,[],{renderUI:function(){l.Squarespace.StatsMigrationJobWidget.superclass.renderUI.apply(this,arguments);var e=this.get("contentBox").one(".general");e.one(".type-info").append('<div class="type">'+u("Migrating Statistics")+"</div>");e.one(".icon").addClass("social-push")}}));m("imageProcJobWidget")&&(l.Squarespace.ImageProcJobWidget=n=l.Base.create("imageProcJobWidget",e,[],{renderUI:function(){l.Squarespace.ImageProcJobWidget.superclass.renderUI.apply(this,arguments);var e=this.get("contentBox").one(".general");e.one(".type-info").append(l.Node.create('<div class="type">'+u("Image Processing")+"</div>"));e.one(".icon").addClass("image-processing")}}));m("pushJobWidget")&&(l.Squarespace.PushJobWidget=a=l.Base.create("pushJobWidget",e,[],{renderUI:function(){l.Squarespace.PushJobWidget.superclass.renderUI.apply(this,arguments);var e=this.get("contentBox").one(".general");e.one(".type-info").append(l.Node.create('<div class="type">'+u("Social Publish")+"</div>"));e.one(".type-info").append(l.Node.create('<div class="desc">'+u("Facebook")+"</div>"));e.one(".icon").addClass("social-push")}}));c={2:n,3:t,4:a,26:s,16:i};l.namespace("Squarespace.Settings.Site");var r=l.Squarespace.Settings.Site.Importing=l.Base.create("ImportingPanel",l.Squarespace.Widgets.SettingsPanel,[l.Squarespace.Damask.Panel.MixinPanel],{initializer:function(){this._authDialogMap[l.Squarespace.ImportingSources.BLOGGER]=l.merge(this._defaultAuthDialog,{initialData:{type:l.Squarespace.ImportingSources.BLOGGER},tabs:[l.merge(this._defaultAuthDialog.tabs[0],{title:u("Import from Blogger"),fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:u("<strong>Fill in your Blogger credentials to move your content over to Squarespace.</strong> Please note that this process will only port over blogs and comments.<br/> <br/>Importing from Blogger will not import your site's design or other content."),padding:[0,10]}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{name:"username",submitOnEnter:true,required:true,"strings.title":u("Blogspot URL"),"strings.description":u("<strong>Example:</strong> example.blogspot.com")}}]})]});this._authDialogMap[l.Squarespace.ImportingSources.V5]=l.merge(this._defaultAuthDialog,{initialData:{type:l.Squarespace.ImportingSources.V5},tabs:[l.merge(this._defaultAuthDialog.tabs[0],{title:u("Import from Squarespace 5"),fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:u("<strong>Fill in your Squarespace 5 credentials to move your content over to the most recent version of Squarespace.</strong>  Please note that this process will only port over blogs, pages, galleries and comments.  <br/><br/><strong>The Squarespace 5 importing process currently does not support follow-up posts, podcasting variables, post annotations or audiences.  If you require these features, you should not move to Squarespace at this time.</strong>  <br/><br/>Importing from Squarespace 5 will not import your site's design or other content."),padding:[0,10]}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{name:"username",className:"thin",submitOnEnter:true,required:true,"strings.title":u("Account URL or Login"),"strings.description":u("<strong>Example:</strong> http://test.squarespace.com/")}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{className:"thin",name:"password",submitOnEnter:true,required:true,password:true,"strings.title":u("Password")}}]})]});this._authDialogMap[l.Squarespace.ImportingSources.TUMBLR]=l.merge(this._defaultAuthDialog,{initialData:{type:l.Squarespace.ImportingSources.TUMBLR},tabs:[l.merge(this._defaultAuthDialog.tabs[0],{title:u("Import from Tumblr"),fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:u("<strong>Fill in your Tumblr credentials to move your content over to Squarespace.</strong> Squarespace will import all of your post types and retain their proper format.  Style and other content must be manually moved over."),padding:[0,10]}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{name:"hostname",className:"thin",submitOnEnter:true,required:true,"strings.title":u("Tumblr URL"),"strings.description":u("<strong>Example:</strong> http://test.tumblr.com/")}}]})]});this._authDialogMap[l.Squarespace.ImportingSources.WORDPRESS]=l.merge(this._defaultAuthDialog,{initialData:{type:l.Squarespace.ImportingSources.WORDPRESS},style:void 0,name:"wordpress-auth",height:365,width:440,validateActiveTabOnly:true,tabs:[l.merge(this._defaultAuthDialog.tabs[0],{tabTitle:u("Basic"),title:u("Import from Wordpress"),fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:u("<strong>Fill in your Wordpress credentials to move your content over to Squarespace.</strong>  Squarespace will import all of your posts, pages, comments, and attachments.  Style and other content must be manually moved over."),padding:[0,10]}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{name:"hostname",className:"thin",submitOnEnter:true,required:true,"strings.title":u("Wordpress URL"),"strings.description":u('<strong>Example:</strong> http://test.wordpress.com/  or "test" if your account is hosted at wordpress.com')}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{name:"username",className:"thin",submitOnEnter:true,required:true,"strings.title":u("Login"),"strings.description":u("<strong>Example:</strong> admin")}},{ctor:l.Squarespace.DialogFields.LabeledText,config:{name:"password",className:"thin",submitOnEnter:true,required:true,password:true,"strings.title":u("Password")}}]}),{tabTitle:u("Advanced"),name:"advanced",fields:[{ctor:l.Squarespace.DialogFields.Select,config:{name:"textProcessor",className:"thin dark","strings.title":u("Processor"),"strings.description":u("The formatting language that will be used to process your text content during the import."),options:[{value:"0",label:u("Standard Wordpress")},{value:"1",label:u("Textile")},{value:"2",label:u("Markdown")}],defaultValue:"0"}},{ctor:l.Squarespace.DialogFields.Description,config:{title:u("XML Export Upload"),text:u("Upload the Wordpress XML file for your site.")}},{ctor:l.Squarespace.DialogFields.File,contentType:"text/xml",name:"xmlImport",uploadMessage:u("Upload via Wordpress export XML."),transientStore:true,maxSize:200,height:188,isWordpressXmlFile:true}]}]})},renderUI:function(){var e=l.one("body");e.hasClass("section-settings")||e.addClass("section-settings");e.removeClass("ordering-user");r.superclass.renderUI.call(this);this._jobList=new l.Squarespace.JobList;this._jobList.on("retry",this._retry,this);this._jobList.render(this.get("contentBox"))},_collectionSelectDialog:{loadingText:u("Loading"),style:"flyout",closeOthers:false,width:370,overlay:.5,flyoutPointerDirection:"centered",buttons:[{type:"cancel",title:u("Cancel")},{type:"saveAndClose",title:u("Export")}],tabs:[{title:u("Select Primary Blog"),icon:"/universal/images-v6/icons/icon-export-16-light.png",fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:u("Unlike Squarespace, Wordpress does not allow a single installation to manage multiple blogs. Please select a blog to export.")}},{ctor:l.Squarespace.DialogFields.Select,config:{className:"thin dark",name:"collection",options:[]}}]}]},_importDialogParameters:{loadingText:u("Loading"),style:"flyout",closeOthers:false,width:420,overlay:.5,flyoutPointerDirection:"centered",hidable:true,tabs:[{title:u("Import Site"),icon:"/universal/images-v6/icons/icon-import-16-light.png",fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:v}}]}]},_importMultiOption:{ctor:l.Squarespace.DialogFields.MultiOption,config:{name:"caption-position",className:"round square button importButtons",defaultValue:"normal",titleStyle:"top",buttonStyle:true,columns:3,options:(p.isSevenOne()?[]:[{icon:"squarespace",title:u("V5",{}),value:l.Squarespace.ImportingSources.V5}]).concat([{icon:"wordpress",title:u("WordPress"),value:l.Squarespace.ImportingSources.WORDPRESS},{icon:"tumblr",title:u("Tumblr"),value:l.Squarespace.ImportingSources.TUMBLR},{title:u("Blogger"),icon:"blogger",value:l.Squarespace.ImportingSources.BLOGGER}])}},_exportDialogParameters:{loadingText:u("Loading"),style:"flyout",closeOthers:false,width:420,overlay:.5,flyoutPointerDirection:"centered",hidable:true,tabs:[{title:u("Export Site"),icon:"/universal/images-v6/icons/icon-export-16-light.png",fields:[{ctor:l.Squarespace.DialogFields.Description,config:{text:g}}]}]},_exportMultiOption:{ctor:l.Squarespace.DialogFields.MultiOption,config:{name:"caption-position",defaultValue:"normal",className:"button square exportButtons",titleStyle:"top",buttonStyle:true,columns:2,options:[{icon:"wordpress",title:u("WordPress"),value:"wordpress"}]}},_defaultAuthDialog:{style:"flyout",closeOthers:false,width:385,overlay:.5,flyoutPointerDirection:"centered",tabs:[{title:u("Authenticate"),icon:"/universal/images-v6/icons/icon-import-16-light.png",fields:[]}],buttons:[{type:"cancel",title:u("Cancel")},{type:"saveAndClose",title:u("Begin Import")}]},_authDialogMap:{},addItem:function(){var e=l.clone(this._importDialogParameters);var t=l.clone(this._importMultiOption);e.tabs[0].fields.push(t);var a=new l.Squarespace.EditingDialog(e),s;a.once("datachange",function(e){s=e.getValue();a.once("dismiss",function(){a.detachAll();this._authenticate(s)},this);a.close()},this);a.show()},_exportSite:function(){var e=l.clone(this._exportMultiOption);var t=l.clone(this._exportDialogParameters);t.tabs[0].fields.push(e);var i=new l.Squarespace.EditingDialog(t);var r=function(e){return l.Array.reduce(e,[],function(e,t){e.push({value:t.get("id"),label:t.get("navigationTitle")});return e})};i.once("datachange",function(e){var t=l.Squarespace.ContentCollectionCache.filter(function(e){var t=e.getTemplateConfiguration();return!!t&&t.get("ordering")===l.Squarespace.CollectionOrdering.CHRONOLOGICAL});if("wordpress"===e.getValue()){if(t.length>1){var a=l.clone(this._collectionSelectDialog);var s=r(t);a.tabs[0].fields[1].config.options=s;a.tabs[0].fields[1].config.defaultValue=s[0].value;var n=new l.Squarespace.EditingDialog(a);n.once("send-requested",function(){var e=n.getField("collection").getValue();this._createWordpressExportJob(e);n.close()},this);n.show()}else this._createWordpressExportJob();i.close()}},this);i.show()},_authenticate:function(t){var a=new l.Squarespace.EditingDialog(this._authDialogMap[t]);a.on("send-requested",function(e){this._createJob(t,a)},this);a.show()},_createWordpressExportJob:function(e){l.Data.post({url:"/api/export/StartUserExport",data:{blogId:e},success:function(e){var t=new l.Squarespace.WordpressExportJob(e.job);Static.JOB_MANAGER.addJob(t);this._jobList.addJob(t)}},this)},_createJob:function(e,a){var t=a.getData();t.xmlImport&&(t.xmlImportId=t.xmlImport.get("id"));t=l.clone(t);delete t.xmlImport;l.Data.post({url:"/api/sync/StartImport",data:t,success:function(e){a.close();var t=new l.Squarespace.ImportingJob(e);Static.JOB_MANAGER.addJob(t);this._jobList.addJob(t)}},this)},_retry:function(e){var t=e.details[0];t.get("type")===l.Squarespace.JobTypes.IMPORTING&&this._createJob(t.get("name"),t.get("data"))},destructor:function(){this._jobList.destroy()}},{CSS_PREFIX:"sqs-settings-panel-importing",ATTRS:{buttons:{getter:function(){var e=[{label:u("Export"),action:this._exportSite,className:"export"}];var t=l.Squarespace.Damask.ContextGlobals.fromTop("Static.SQUARESPACE_CONTEXT.website.siteStatus.value");if(t===l.Squarespace.StatusConstants.EXPIRED)return e;e.push({type:"add",label:u("Import"),className:"import"});return e}},"strings.title":{value:u("Import / Export")},"strings.description":{value:h}}})},"1.0",{requires:["base","querystring","squarespace-animations","squarespace-damask-panel-mixin-panel","squarespace-dialog-description","squarespace-dialog-multi-option","squarespace-dialog-select","squarespace-enum","squarespace-jobs","squarespace-settings-panel","squarespace-widgets-confirmation","squarespace-util","squarespace-util-authenticated","widget","widget-parent"]})},"./src/main/webapp/universal/scripts-v6/settings/site/templates.js":function(e,t,a){var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/src/shared/utils/humanizeDate.js");var l=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var c=a("./src/main/webapp/universal/src/shared/utils/UrlUtils.js");var u=a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js");var d=a("./src/main/webapp/universal/src/apps/App/shared/actions/TemplateInstallationsActions.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateInstallationsStore.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/stores/MemberWebsiteSettingsStore.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js");YUI.add("squarespace-settings-site-templates",function(i){var s=i.namespace("Squarespace.Settings.Site").Templates=i.Base.create("templateSettings",i.Squarespace.Widgets.SettingsPanel,[],{isAllowedToTemplateSwitch:function(){return!h.isTemplateOwner()},initializer:function(){if(this.isAllowedToTemplateSwitch()){this.set("strings.title",o("Template"));this.set("strings.description",o('You can switch <a href="{templatesKBLink}" target="new">templates</a> at any time. Previewing a template allows you to make style changes without changing the live template visitors see.<br /><br /><a target="new" href="{templateSwitchingKBLink}">Learn more</a>',{templateSwitchingKBLink:l.TEMPLATE_SWITCHING,templatesKBLink:l.TEMPLATES}));this._installedTemplates=i.Squarespace.Singletons.TemplateInstallationListCache;this._registerEvent(this._installedTemplates.once("load",function(){this.setLoadedState();this.syncUI()},this));this.setLoadingState();this._installedTemplates.load();d.loadAll()}else{this.set("strings.title",o("Templates (Disabled)"));this.set("strings.description","<strong>"+o("Your site has Developer Mode enabled, template switching is disabled.")+"</strong> ")}},destructor:function(){if(this._unlistenTemplateInstallationStore){this._unlistenTemplateInstallationStore();this._unlistenTemplateInstallationStore=null}if(this._developerShortcutButton){this._developerShortcutButton.destroy();this._developerShortcutButton=null}},renderUI:function(){s.superclass.renderUI.call(this);if(this.isAllowedToTemplateSwitch())this.get("contentBox").append('<div class="active-template"></div><div class="templates clearfix"></div>');else{this._developerShortcutButton=new i.Squarespace.Widgets.Button({"strings.text":o("View Template Settings"),onClick:function(){i.Squarespace.Singletons.Location.go("/settings/advanced/developer")}});this._developerShortcutButton.render(this.get("contentBox"))}},bindUI:function(){s.superclass.bindUI.call(this);if(this.isAllowedToTemplateSwitch()){this._registerEvent(this._installedTemplates.on("add",this._onNewInstallation,this));this.after("liveInstallationIdChange",this._onLiveInstallationIdChange);this._unlistenTemplateInstallationStore=p.listen(this._onInstallationChange.bind(this))}},syncUI:function(){s.superclass.syncUI.call(this);if(this.isAllowedToTemplateSwitch()){var t=[];this.each(function(e){e instanceof r&&t.push(e)});i.Array.each(t,function(e){this.remove(this.indexOf(e))},this);this.isAllowedToTemplateSwitch()&&this.loadedSuccessfully()&&this._installedTemplates.sort().each(function(e){this._renderInstalledTemplate(e)},this)}},_onNewInstallation:function(e){d.loadAll();var a;this.each(function(e,t){if(!(e instanceof r))return;e.get("boundingBox").plug(i.Squarespace.PositionAnimator).positionAnimator.hold();if(i.Lang.isValue(a))return;a=e});var t=this._renderInstalledTemplate(e.model);i.Lang.isValue(a)&&a.get("boundingBox").insert(t.get("boundingBox"),"after");this.each(function(e){if(!(e instanceof r))return;e.positionAnimator&&e.positionAnimator.release()})},_onInstallationChange:function(){this.set("liveInstallationId",p.getState().liveInstallationId);this.each(function(e){if(!(e instanceof r))return;e.syncUI()})},_onLiveInstallationIdChange:function(e){var t=e.prevVal;var a=e.newVal;if(t&&a!==t){var s;this.each(function(e){if(!(e instanceof r))return;e.get("boundingBox").plug(i.Squarespace.PositionAnimator).positionAnimator.hold();e.get("model").get("id")===a&&(s=e)});this.get("contentBox").one(".templates").prepend(s.get("boundingBox"));this.each(function(e){if(!(e instanceof r))return;e.get("boundingBox").positionAnimator.release()})}},_renderInstalledTemplate:function(e){return this.add({childType:r,model:e,render:this.get("contentBox").one(".templates"),damask:this.get("damask")}).item(0)},addItem:function(e){e.domEvent.stopPropagation();u.templateButtonClick("install-new-template");var t=new i.Squarespace.TemplatePicker({render:true,installedTemplates:this._installedTemplates.toJSON().map(function(e){var t=null;e.templateWebsiteTaxonomy&&(t=e.templateWebsiteTaxonomy.websiteId);return{templateId:e.templateId,websiteId:t}}),templateSwitcher:true});t.once("install-template",function(e){t.destroy();this.installTemplate(e.identifier)},this)},installTemplate:function(e){i.Squarespace.Models.TemplateInstallation.createWithTemplateWebsiteIdentifier(e).then(i.bind(function(e){u.templateButtonClick("start-with-template",e.toJSON());new i.Squarespace.Widgets.Information({"strings.title":o("Installation Successful"),"strings.message":o("The requested template has been successfully installed.")});this._installedTemplates.add(e)},this),i.bind(function(e){new i.Squarespace.Widgets.Alert({"strings.title":o("Cannot Install Template"),"strings.message":e.error})}))},_uiAddChild:function(e,t){if(e instanceof r){t=this.get("contentBox").one(".templates");var a=e.get("boundingBox");t.contains(a)||t.appendChild(e.get("boundingBox"))}else s.superclass._uiAddChild.apply(this,arguments)}},{CSS_PREFIX:"sqs-template-settings",ATTRS:{damask:{},strings:{value:{installTemplateText:o("Install Template")}},buttons:{valueFn:function(){if(h.isTemplateOwner())return[];return[{label:this.get("strings.installTemplateText"),type:"add"}]}}}});var r=i.Base.create("InstalledTemplateView",i.Squarespace.Widgets.SSWidget,[i.WidgetChild],{renderUI:function(){this.get("boundingBox").setAttribute("data-test","installed-template");var e=this.get("contentBox");e.appendChild(i.Node.create('<div class="thumbnail-wrapper"></div>')).appendChild(i.Node.create('<div class="button-wrapper"></div>')).appendChild(i.Node.create('<div class="buttons"></div>')).append(i.Node.create('<div class="button button-edit" data-action="preview">'+o("Preview")+"</div>")).append(i.Node.create('<div class="button button-remove" data-action="remove">'+o("Uninstall")+"</div>")).append(i.Node.create('<div class="button button-previewing">'+o("Previewing")+"</div>"));e.appendChild(i.Node.create('<div class="meta-wrapper"></div>')).append(i.Node.create('<div class="header"></div>').append('<div class="title"></div>').append('<div class="indicator"></div>')).append(i.Node.create('<div class="installed-on"></div>'))},bindUI:function(){this.get("contentBox").one(".buttons").delegate("click",function(e){var t=e.target.getAttribute("data-action");"preview"===t?this._setAsPreviewTemplate():"remove"===t&&this._removeTemplate()},"div[data-action]",this);var t=this.get("contentBox").one(".button-wrapper");var a=this.get("boundingBox");this.unlistenToInstallationStore=p.listen(function(){t.unplug(i.Squarespace.Plugins.LoadingOverlay);a.removeClass("show-overlay");var e=p.getState().error;e&&new i.Squarespace.SystemError("",e.responseJSON,"json").show()})},syncUI:function(){var e=this.get("model");var t=this.get("boundingBox");var a=this.get("contentBox");var s=a.one(".header");s.one(".title").setContent(e.get("displayName"));s.one(".indicator").addClass("hidden");t.removeClass("active-template");t.removeClass("preview-template");if(e.get("isLiveTemplate")){s.one(".indicator").removeClass("hidden").setContent(o("Live"));t.addClass("active-template")}else e.get("isPreviewTemplate")&&t.addClass("preview-template");a.one(".thumbnail-wrapper").setStyles({backgroundImage:"url("+c.securifyURL(e.getThumbnailAssetUrl("500w"))+")"});a.one(".installed-on").setContent(o("Installed {date}.",{date:n(new Date(e.get("installedOn")))}))},destructor:function(){this.unlistenToInstallationStore()},_setAsPreviewTemplate:function(){var e=this.get("model");var t=this.get("contentBox").one(".button-wrapper");var a=this.get("boundingBox");u.templateButtonClick("preview-template-from-panel",e.toJSON());t.plug(i.Squarespace.Plugins.LoadingOverlay);a.addClass("show-overlay");var s=m.getState();d.setPreviewInstallation(s,e.get("id"),e.get("templateId"))},_removeTemplate:function(){var e=this.get("model");var n=this.get("boundingBox");n.addClass("show-overlay");var t=new i.Squarespace.Widgets.Confirmation({"strings.title":o("Uninstall Template"),"strings.message":o("Are you sure you wish to uninstall the template <strong>{name}</strong>?",{name:e.get("displayName")})});t.on("confirm",function(){u.templateButtonClick("uninstall-template",e.toJSON());e.destroy({remove:true},i.bind(function(e,t){var a;if(t&&t.responseText)try{a=JSON.parse(t.responseText)}catch(e){false}n.removeClass("show-overlay");if(i.Lang.isObject(a)&&a.error){new i.Squarespace.Widgets.Confirmation({"strings.title":o("Something went wrong"),"strings.message":a.error,"strings.confirm":o("Okay"),style:i.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_ONLY});return}var s=this.get("parent");s.each(function(e){if(!(e instanceof r))return;e.get("boundingBox").plug(i.Squarespace.PositionAnimator).positionAnimator.hold()});this.destroy();s.each(function(e){if(!(e instanceof r))return;e.get("boundingBox").positionAnimator.release(true)})},this))},this);t.on("cancel",function(){n.removeClass("show-overlay")},this)}},{CSS_PREFIX:"sqs-installed-template",ATTRS:{liveInstallationId:{valueFn:function(){return p.getState().liveInstallationId}},model:{},damask:{}}})},"1.0",{requires:["squarespace-ss-widget","squarespace-settings-panel","model-sync-rest","squarespace-template-picker","squarespace-models-template-installation","promise","parallel","squarespace-plugin-loading-overlay","squarespace-widgets-alert","squarespace-widgets-confirmation","squarespace-widgets-information"]})},"./src/main/webapp/universal/scripts-v6/tax-rule-view.js":function(e,t,a){var h=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-tax-rule-view",function(m){m.namespace("Squarespace");m.Squarespace.Widgets.TaxRuleView=m.Base.create("taxRule",m.Squarespace.SSWidget,[m.WidgetParent,m.WidgetChild],{initializer:function(e){this._taxRule=e.ruleInstance;this._parentTaxRules=e.parents;this.set("strings.name",this._taxRule.get("name"));switch(this._taxRule.get("scope")){case m.Squarespace.TaxScopes.COUNTRY:this._taxRule.hasStates()?this.set("strings.addAction",this._taxRule.isCanadian()?h("add province"):h("add state")):this.set("strings.addAction",null);break;case m.Squarespace.TaxScopes.STATE:this._taxRule.hasLocalTaxes()?this.set("strings.addAction",h("add local")):this.set("strings.addAction",null);break;case m.Squarespace.TaxScopes.LOCAL:this.set("strings.addAction",null);break}},renderUI:function(){this.constructor.superclass.renderUI.call(this);var e=this._parentTaxRules;var t=this._taxRule.getAggregateRates(e);var a=this.get("contentBox");var s=a.one(".description");var n,i,r,o;var l,c,u;var d=this._taxRule;if(0===e.length)if(0===d.get("rate"))s.setContent(h("No tax at this level."));else{if(d.get("chargeTaxOnServices"))o=d.get("chargeTaxOnShipping")?h("{taxRate}% on products and shipping.",{taxRate:d.get("rate")}):h("{taxRate}% on products.",{taxRate:d.get("rate")});else{r=h("0% on services. ");o=d.get("chargeTaxOnShipping")?h("{taxRate}% on all other products and shipping.",{taxRate:d.get("rate")}):h("{taxRate}% on all other products.",{taxRate:d.get("rate")})}s.setContent(m.Handlebars.render("{{services}}{{productsAndShipping}}",{services:r,productsAndShipping:o}))}else{if("CA"===d.get("countryCode"))if(d.get("showCombinedRate")){if(t.services!==t.products){l=h("{total}% {name} total on services.",{total:t.services,name:d.get("taxName")});c=h("{total}% {name} total on all other products.",{total:t.products,name:d.get("taxName")});r="<div class='directive'>"+l+"</div>";n="<div class='directive'>"+c+"</div>"}else{c=h("{total}% {name} total on products.",{total:t.products,name:d.get("taxName")});n="<div class='directive'>"+c+"</div>"}u=h("{total}% {name} total on shipping.",{total:t.shipping,name:d.get("taxName")});i="<div class='directive'>"+u+"</div>"}else{if(t.services!==t.products){l=h("+{additional}% {name} ({total}% {name} + GST total) on services.",{additional:d.get("chargeTaxOnServices")?d.get("rate"):0,total:t.services,name:d.get("taxName")});c=h("+{additional}% {name} ({total}% {name} + GST total) on all other products.",{additional:d.get("rate"),total:t.products,name:d.get("taxName")});r="<div class='directive'>"+l+"</div>";n="<div class='directive'>"+c+"</div>"}else{c=h("+{additional}% {name} ({total}% {name} + GST total) on products.",{additional:d.get("rate"),total:t.products,name:d.get("taxName")});n="<div class='directive'>"+c+"</div>"}u=h("+{additional}% {name} ({total}% {name} + GST total) on shipping.",{additional:d.get("shippingRate"),total:t.shipping,name:d.get("taxName")});i="<div class='directive'>"+u+"</div>"}else{if(t.services!==t.products){l=h("+{additional} ({total}% total) on services.",{additional:d.get("chargeTaxOnServices")?d.get("rate"):0,total:t.services});c=h("+{additional}% ({total}% total) on all other products.",{additional:d.get("rate"),total:t.products});r="<div class='directive'>"+l+"</div>";n="<div class='directive'>"+c+"</div>"}else{c=h("+{additional}% ({total}% total) on products.",{additional:d.get("rate"),total:t.products});n="<div class='directive'>"+c+"</div>"}u=h("+{additional}% ({total}% total) on shipping.",{additional:d.get("shippingRate"),total:t.shipping});i="<div class='directive'>"+u+"</div>"}0===d.get("shippingRate")&&0===t.shipping&&(i=null);var p=m.Handlebars.render("{{{services}}}{{{products}}}{{{shipping}}}",{services:r,products:n,shipping:i});a.one(".description").append(p)}},bindUI:function(){var e=this.get("contentBox");this.after("addChild",function(t){t.child.on("activated",function(){this.deactivateScope();this.each(function(e){e!==t.child&&e.deactivateScope()})},this)},this);e.on("mouseover",this._activateScope,this);e.on("mouseleave",this.deactivateScope,this);m.Lang.isNull(e.one(".add"))||e.one(".add").on("click",this._requestCreateSubRule,this);e.on("click",this._edit,this)},_requestCreateSubRule:function(e){this.fire("create-requested",{parentModel:this._taxRule});e.halt()},_edit:function(e){var t=this._taxRule;var a=t.get("scope")===m.Squarespace.TaxScopes.COUNTRY&&t.isUSA()&&0===t.get("rate");var s;var n=[{type:"cancel",title:h("Cancel")},{type:"remove",title:h("Remove")}];a?n.push({type:"add-state",title:h("Add State")}):n.push({type:"saveAndClose",title:h("Save")});s=t.isCanadian()&&t.get("scope")===m.Squarespace.TaxScopes.STATE?[{title:h("Edit Rate for {taxRuleName}",{taxRuleName:t.get("name")}),icon:"/universal/images-v6/icons/icon-plus-16-light.png?4",fields:[{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"countryCode"}},{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"state"}},{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:m.Squarespace.DialogFields.Description,config:{title:h("Provincial Tax Rate"),text:h("All customers from this province will have this tax applied to their purchase.")}},{ctor:m.Squarespace.DialogFields.Text,config:{name:"taxName",className:"thin","strings.title":h("Tax Name"),"strings.description":h("E.g. HST, QST, PST")}},{ctor:m.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":h("Provincial Tax Rate (%)"),"strings.description":h("This rate is applied to the federal rate.")}},{ctor:m.Squarespace.DialogFields.Check,config:{name:"showCombinedRate","strings.title":h("Show As Combined Rate"),"strings.description":h("Typically for HST provinces, this displays the tax on invoices as a combined rate.")}},{ctor:m.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":h("Charge Tax on Shipping"),"strings.description":h("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:m.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":h("Charge Tax on Services"),"strings.description":h("Apply this tax to service products. Tax is applied based on the billing address.")}}]}]:a?[{title:h("Edit Rate for {taxRuleName}",{taxRuleName:t.get("name")}),icon:"/universal/images-v6/icons/icon-plus-16-light.png?4",fields:[{ctor:m.Squarespace.DialogFields.HTML,config:{name:"usTaxMessage",content:h("The United States does not have sales tax at the federal level. To charge sales tax, set up locations at the State level.")}}]}]:[{title:h("Edit Rate for {taxRuleName}",{taxRuleName:t.get("name")}),icon:"/universal/images-v6/icons/icon-plus-16-light.png?4",fields:[{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"countryCode"}},{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"state"}},{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"zipStart"}},{ctor:m.Squarespace.DialogFields.Hidden,config:{name:"zipEnd"}},{ctor:m.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":h("Tax Rate (%)"),"strings.validationFailMessage":h("This must be a number between 0 and 100."),validator:function(e){return m.Lang.isNumber(e)&&e>=0&&e<100}}},{ctor:m.Squarespace.DialogFields.Text,config:{name:"taxName",className:"thin","strings.title":h("Tax Name"),"strings.description":h("E.g. VAT, GST")},visible:!t.isUSA()},{ctor:m.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":h("Charge Tax on Shipping"),"strings.description":h("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:m.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":h("Charge Tax on Services"),"strings.description":h("Apply this tax to service products. Tax is applied based on the billing address.")}}]}];var i=new m.Squarespace.EditingDialog({name:"addEditRule",style:"flyout",savingText:h("Saving Tax Rule"),initialData:t.getAttrs(),overlay:.5,width:390,verticalHeight:"fit",closeOthers:false,discardChangesConfirmation:false,buttons:n,primaryTabs:s});i.on("remove-requested",m.bind(function(){new m.Squarespace.Widgets.Confirmation({"strings.title":h("Remove Tax Rule"),"strings.message":h("Are you sure you want to delete this tax rate? This will also delete any lower level rates.")}).on("confirm",function(){t.sync("delete",{},m.bind(function(){i.close();this.fire("rule-removed")},this))},this)},this));i.on("send-requested",m.bind(function(){t.set("rate",i.getData().rate);t.set("chargeTaxOnShipping",i.getData().chargeTaxOnShipping);t.set("chargeTaxOnServices",i.getData().chargeTaxOnServices);t.set("taxName",i.getData().taxName);t.set("showCombinedRate",i.getData().showCombinedRate);this._taxRule.sync("update",{},m.bind(function(){i.close();this.fire("rule-updated")},this))},this));i.on("button-add-state",m.bind(function(){i.close();this._requestCreateSubRule()},this));i.show();e.stopPropagation();e.halt()},deactivateScope:function(){this.get("contentBox").removeClass("active-scope")},_activateScope:function(e){this.fire("activated");this.get("contentBox").addClass("active-scope");e.halt();e.stopPropagation()},syncUI:function(){var e=this._taxRule.get("scope");var t;t=e===m.Squarespace.TaxScopes.COUNTRY?"country":e===m.Squarespace.TaxScopes.STATE?"state":"local";this.get("contentBox").addClass(t)}},{CSS_PREFIX:"sqs-tax-rule",HANDLEBARS_TEMPLATE:"tax-rule-view.html",ATTRS:{strings:{value:{addAction:h("add state")}}}})},"1.0",{requires:["base","squarespace-dialog","squarespace-dialog-description","squarespace-dialog-numeric-text","squarespace-enum","squarespace-models-tax-rule","squarespace-ss-widget","squarespace-tax-rule-view-template","squarespace-widgets-confirmation"]})},"./src/main/webapp/universal/scripts-v6/widgets/blog/item-view.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-blog-item-view",function(a){a.namespace("Squarespace.Widgets.Blog");var s=a.Squarespace.Widgets.Blog.ItemView=a.Base.create("BlogListItem",a.Squarespace.Widgets.List.BaseItem,[],{bindUI:function(){s.superclass.bindUI.call(this);this._registerEvent(a.Global.on("previewFrame:load",function(e){var t=CONFIG_PANEL.get("previewFrame").get("contentBridge").get("contentItem");this._reloadItemIfAnExternalContentItemHasTheSameID(t);this._bindExternalChanges()},this))},syncUI:function(){s.superclass.syncUI.call(this);var e=this.get("item").get("workflowState");var t=this._getTemplateContextForWorkflow(e);var a=t.className;this.set("className",this.getClassName(a));this.get("contentBox").one(".meta .status").setContent(t.message)},_reloadItemIfAnExternalContentItemHasTheSameID:function(e,t){e&&e.get("id")===this.get("item").get("id")&&(t?e.onceAfter("save",function(){this.get("item").load()}.bind(this)):this.get("item").load())},_bindExternalChanges:function(){this._registerEvent(window.CONFIG_PANEL.get("contentBridge").after("cmcSave",function(e){this._reloadItemIfAnExternalContentItemHasTheSameID(e.model,true)},this));this._registerEvent(window.Y.Global.on("blogPostSave",function(e){this._reloadItemIfAnExternalContentItemHasTheSameID(e.model,false)},this))},_getHBTemplateContext:function(){var e=s.superclass._getHBTemplateContext.call(this);var t=this._getTemplateContextForWorkflow(e.workflowState);a.Object.isEmpty(t)||(e.flag=t);t.message=t.message===n("Needs Review")?n("Review"):t.message;a.Lang.isString(e.title)&&(e.title=e.title.replace(/<em>|<\/em>/g,""));e.noTitle=n("No Title");a.Lang.isValue(e.proxyForId)&&(e.flag={className:"example-content",message:n("Example")});return e},_getTemplateContextForWorkflow:function(e){switch(e){case a.Squarespace.WorkflowStates.SCHEDULED:return{className:"scheduled",message:n("Scheduled")};case a.Squarespace.WorkflowStates.NEEDS_REVIEW:return{className:"needs-review",message:n("Needs Review")};case a.Squarespace.WorkflowStates.DRAFT:return{className:"draft",message:n("Draft")};case a.Squarespace.WorkflowStates.DELETED:return{className:"deleted",message:n("Deleted")};default:return{className:"published"}}}},{CSS_PREFIX:"sqs-blog-item",HANDLEBARS_TEMPLATE:"widgets-blog-item-view.html",ATTRS:{item:{}}})},"1.0",{requires:["base","squarespace-content-item-types-editor","squarespace-util","squarespace-widgets-blog-item-view-template","squarespace-widgets-confirmation","squarespace-widgets-list-base-item-view","widget-child"]})},"./src/main/webapp/universal/scripts-v6/widgets/blog/list-search-filter.js":function(e,t,a){var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./common/temp/node_modules/lodash/debounce.js");YUI.add("squarespace-widgets-blog-list-search-filter",function(n){n.namespace("Squarespace.Widgets.Blog");var s={FILTER_CHANGED:"filterChanged",SEARCH_RETURNED:"searchReturned",SEARCH_CLEARED:"searchCleared"};var i=n.Squarespace.Widgets.Blog.ListSearchFilter=n.Base.create("SearchFilter",n.Squarespace.Widgets.SSWidget,[],{initializer:function(){this.publish(s.FILTER_CHANGED);this.publish(s.SEARCH_RETURNED);this.publish(s.SEARCH_CLEARED)},renderUI:function(){i.superclass.renderUI.call(this);this._addFilters()},bindUI:function(){i.superclass.bindUI.call(this);var e=this.get("contentBox");e.delegate("click",this._changeFilter,".filter-button",this);e.delegate("click",this._clearSearch,".btn-clear",this);var t=e.one("input");var a=o(this._onKeyUp,200);this._registerEvent(t.on("keyup",function(e){if(27===e.keyCode){e.halt();this._clearSearch()}},this));this._registerEvent(t.on("keyup",a,this));this.after("filterChange",function(e){this.fire(s.FILTER_CHANGED,{filter:e.newVal,silent:this.hasActiveQuery()});this.hasActiveQuery()&&this._search()});this.after("queryChange",function(){this.get("contentBox").one(".btn-clear").toggleClass("empty-query",!this.hasActiveQuery());if(this.hasActiveQuery()){this.setAttrs({loadedItemCount:0,totalCount:0,page:0});this._search()}else this.fire(s.SEARCH_CLEARED)})},hasActiveQuery:function(){return""!==this.get("query")},loadNextPage:function(){if(this.hasMoreItems()){this.set("page",this.get("page")+1);this._search()}},hasMoreItems:function(){return this.get("totalCount")>this.get("loadedItemCount")},_clearSearch:function(){this.setAttrs({query:"",loadedItemCount:0,totalCount:0,page:0});this.get("contentBox").one("input").set("value","")},_onKeyUp:function(e){this.set("query",e.target.get("value"))},_addFilters:function(){var e=this.get("filterList");var a=this.get("contentBox").one(".search-filter-by-type");a.empty();n.Array.each(e,function(e){var t=n.Node.create('<div class="filter-button" data-filter-name="'+e.key+'">'+e.label+"</div>");e.key===this.get("filter")&&t.addClass("active");a.append(t)},this)},_changeFilter:function(t){var e=n.one(t.target).getAttribute("data-filter-name");this.get("contentBox").all(".filter-button").each(function(e){e.toggleClass("active",t.target===e)});this.set("filter",e)},_search:function(){var e=this.get("page");var t=this.get("query");var a=this.get("limit");var s={q:t,p:e,size:a,f_collectionId:this.get("collectionId")};"all"!==this.get("filter")&&(s.f_workflowState=n.Squarespace.WorkflowStates[this.get("filter").toUpperCase()]);0===e&&this.set("loadedItemCount",0);n.Data.get({url:"/api/search/GeneralSearch",data:s,success:this._searchSuccess,error:this._searchError},this)},_fireEmptySearchReturn:function(){this.fire(s.SEARCH_RETURNED,{empty:true,items:[]})},_searchError:function(){this._fireEmptySearchReturn()},_searchSuccess:function(e){if(e.serviceError){false;this._fireEmptySearchReturn();return}this.set("totalCount",parseInt(e.totalCount,10));this.set("loadedItemCount",this.get("loadedItemCount")+e.items.length);this.fire(s.SEARCH_RETURNED,{items:e.items,page:this.get("page"),empty:e.items.length<1})}},{CSS_PREFIX:"sqs-blog-list-search-filter",EVENTS:s,TEMPLATE:'<div class="search-filter-wrapper"><div class="search-filter-input"><input class="search-filter" placeholder="'+r("Search items")+'" type="text"><div class="btn-clear empty-query">Clear</div></div><div class="search-filter-by-type"> </div></div>',ATTRS:{collectionId:{},filter:{value:"all",validator:function(t){return n.Array.some(this.get("filterList"),function(e){return t===e.key})}},filterList:{value:[{key:"all",label:r("All")},{key:"draft",label:r("Drafts")},{key:"needs_review",label:r("Review")},{key:"scheduled",label:r("Scheduled")}]},page:{validator:n.Squarespace.AttrValidators.isNumber,value:0},limit:{validator:n.Squarespace.AttrValidators.isNumber,value:20},query:{value:"",setter:function(e){return n.Lang.trim(e)},validator:n.Squarespace.AttrValidators.isString},loadedItemCount:{validator:n.Squarespace.AttrValidators.isNumber,value:0},totalCount:{validator:n.Squarespace.AttrValidators.isNumber,value:0}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-ss-widget","widget-child","widget-parent"]})},"./src/main/webapp/universal/scripts-v6/widgets/blog/list-view.js":function(e,t){YUI.add("squarespace-widgets-blog-list-view",function(e){e.namespace("Squarespace.Widgets.Blog");var t={EDIT_REQUESTED:"editRequested",BLOG_EDIT_REQUESTED:"blogEditRequested",DELETE_REQUESTED:"deleteRequested"};var a=e.Squarespace.Widgets.Blog.ListView=e.Base.create("BlogListView",e.Squarespace.Widgets.List.SelectableListView,[],{initializer:function(){this.publish(t.EDIT_REQUESTED);this.publish(t.BLOG_EDIT_REQUESTED);this.publish(t.DELETE_REQUESTED)},bindUI:function(){a.superclass.bindUI.call(this);this.on("*:buttonAction",function(e){"edit"===e.action?this.fire(t.EDIT_REQUESTED,{item:e.target.get("item")}):"delete"===e.action&&this.fire(t.DELETE_REQUESTED,{item:e.target.get("item")})})},removeItems:function(e){e.each(function(e){this.fire(t.DELETE_REQUESTED,{item:e.get("item"),source:"bulk-remove"})},this)}},{CSS_PREFIX:"sqs-blog-list-view",ATTRS:{defaultChildType:{value:e.Squarespace.Widgets.Blog.ItemView}}})},"1.0",{requires:["base","squarespace-util-authenticated","squarespace-widgets-list-selectable-view","squarespace-widgets-blog-item-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce-upgrade-banner.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/packages/enums/StatusConstants.js");var r=a("./src/main/webapp/universal/src/apps/App/shared/constants/UpsellUrls.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/constants/UpsellDestination.js");var l=a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts");YUI.add("squarespace-widgets-commerce-upgrade-banner",function(s){s.namespace("Squarespace.Widgets");var t=s.Squarespace.Widgets.CommerceUpgradeBanner=s.Base.create("CommerceUpgradeBanner",s.Squarespace.Widgets.SSWidget,[],{renderUI:function(){t.superclass.renderUI.call(this);this.get("contentBox").append('<div class="message">'+this._getMessage()+'</div><div class="upgradeButton">'+n("Upgrade Now")+'</div><div class="dismissButton"></div>');this._track("upsell_commerce_banner_shown")},bindUI:function(){t.superclass.renderUI.call(this);var e=this.get("contentBox");this._registerEvent(e.one(".upgradeButton").on("click",this._gotoUpgrade,this));this._registerEvent(e.one(".dismissButton").on("click",this._dismiss,this))},_dismiss:function(){this._track("upsell_commerce_banner_dismiss");this.get("dismissAction")()},_gotoUpgrade:function(){this._track("upsell_commerce_banner_upgrade_click");var e=s.Squarespace.Context.getInstance().get("website").get("siteStatus.value");e===i.TRIAL?s.Squarespace.Singletons.Location.go(r[o.TRIAL_UPGRADE_PLAN]):s.Squarespace.Singletons.Location.go(r[o.UPGRADE_PLAN])},_getMessage:function(){return this.get("message")},_track:function(e){var t=s.Squarespace.Context.getInstance().get("website").get("siteStatus.value");var a=t===i.TRIAL;l(e,{isTrial:a,identifier:this.get("identifier")})}},{CSS_PREFIX:"sqs-commerce-upgrade-banner",ATTRS:{identifier:{value:""},dismissAction:{validator:s.Squarespace.AttrValidators.isFunctionOrNull},message:{value:""}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-enum","squarespace-ui-base","squarespace-util","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation-list-header.js":function(e,t,a){var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var s=a("./common/temp/node_modules/@sqs/cookie-cutter/index.js");var o=a("./src/main/webapp/universal/packages/enums/Features.js");var l=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var c=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeatureGateStore/index.js");var u=a("./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js");YUI.add("squarespace-widgets-commerce-donation-list-header",function(n){n.namespace("Squarespace.Widgets");var i=n.Squarespace.Widgets.CommerceDonationListHeader=n.Base.create("CommerceDonationListHeader",n.Squarespace.Widgets.ModelListHeader,[],{_syncCurrentTab:function(){i.superclass._syncCurrentTab.call(this);this.get("models").load()},_clearTestDonations:function(){new n.Squarespace.Widgets.Confirmation({"strings.title":r("Clear Test Donations"),"strings.message":r("This will permanently remove all test donations.")}).on("confirm",function(){n.Data.del({url:"/api/rest/commerce/contributions/test",success:n.bind(this._syncCurrentTab,this)})},this)},_exportCSV:function(){document.location="/api/commerce/donations/export?crumb="+s.get("crumb")},renderUI:function(){i.superclass.renderUI.call(this);var e=this.get("contentBox");if(l.isFeatureGated(o.COMMERCE)){var t=e.one(".header-title");t.insertBefore('<span class="header-feature-gate-badge"></span>',t.nextSibling);var a=t.one(".header-feature-gate-badge");u.renderBadge({node:a.getDOMNode(),analyticsId:"commerce-donation-panel-header",knockout:true,upsellCopyOverrides:c.getUpsellCopy(o.COMMERCE)})}var s=e.one(".tab-description");s.appendChild(n.Node.create("<br />"));s.appendChild(n.Node.create(r("To see a list of donors, along with their donation history, go to {donorProfilesLink}.",{donorProfilesLink:'<a href="/config/profiles/donors">'+r("Donor Profiles")+"</a>"})))}},{CSS_PREFIX:"sqs-commerce-donation-list-header",ATTRS:{tabs:{value:[{name:"donations",title:r("Donations"),description:r("View donations youve received.")}]},actionButtons:{valueFn:function(){return[{name:"clearTestDonations",label:r("Clear Test Donations"),action:n.bind(this._clearTestDonations,this)},{name:"exportCSV",label:r("Export CSV"),action:n.bind(this._exportCSV,this)}]}},strings:{value:{title:r("Donations")}}}})},"1.0",{requires:["base","squarespace-widgets-confirmation","squarespace-widgets-model-list-header"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation-list-manager.js":function(e,t){YUI.add("squarespace-widgets-commerce-donation-list-manager",function(e){e.namespace("Squarespace.Widgets");e.Squarespace.Widgets.DonationListManager=e.Base.create("DonationListManager",e.Squarespace.Widgets.SyncModelListManager,[e.Squarespace.Damask.Panel.MixinPanel],{},{CSS_PREFIX:"sqs-commerce-donation-list-manager",ATTRS:{constructors:{value:{body:e.Squarespace.Widgets.CommerceDonationList,header:e.Squarespace.Widgets.CommerceDonationListHeader,models:e.Squarespace.Models.CommerceContributionList}},"constructorConfigs.body":{value:{}}}})},"1.0",{requires:["base","squarespace-damask-panel-mixin-panel","squarespace-models-commerce-contribution-list","squarespace-widgets-sync-model-list-manager","squarespace-widgets-commerce-donation-list-header","squarespace-widgets-commerce-donation-list"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation-list.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-commerce-donation-list",function(a){a.namespace("Squarespace.Widgets");var s=a.Squarespace.Widgets.CommerceDonationList=a.Base.create("CommerceDonationList",a.Squarespace.Widgets.ModelList,[],{destructor:function(){this._loadingTimer&&this._loadingTimer.cancel();a.Lang.isValue(this._loadMoreButton)&&this._loadMoreButton.destroy();a.Lang.isValue(this._spinner)&&this._spinner.destroy();this._loadMoreButton=null;this._spinner=null},bindUI:function(){s.superclass.bindUI.call(this);var e=this.get("models");this._registerEvent(e.on("loading",function(){this._renderLoadingState()},this));this._registerEvent(e.on("loaded",function(){this._renderLoadedState()},this))},_renderLoadingState:function(){this._loadingTimer&&this._loadingTimer.cancel();this._loadingTimer=a.later(500,this,function(){if(a.Lang.isValue(this._loadMoreButton)){this._loadMoreButton.destroy();this._loadMoreButton=null}this._spinner=new a.Squarespace.Spinner({render:this.get("contentBox"),size:44,color:"dark",visible:false})},this)},_renderLoadedState:function(){s.superclass._renderLoadedState.call(this);var e=this.get("models");if(0===e.size()||!e.get("hasNextPage")){a.Lang.isValue(this._loadMoreButton)&&this._loadMoreButton.destroy();return}var t=a.Node.create('<div class="load-more-container"></div>');this.get("contentBox").append(t);this._loadMoreButton=new a.Squarespace.DialogFields.Button({"strings.text":n("Load more"),render:t,onClick:function(){e.loadMore()}})},getEmptyStateMessage:function(){return n("You haven't received any donations yet.")}},{CSS_PREFIX:"sqs-commerce-donation-list",ATTRS:{defaultChildType:{value:a.Squarespace.Widgets.CommerceDonation},strings:{value:{modelName:"donation"}}}})},"1.0",{requires:["base","squarespace-dialog-button","squarespace-spinner","squarespace-widgets-model-list","squarespace-widgets-commerce-donation"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var r=a("./src/main/webapp/universal/src/shared/utils/evaluateJsonTemplate.js");YUI.add("squarespace-widgets-commerce-donation",function(a){a.namespace("Squarespace.Widgets");var n=a.Base.create("contribution-summary",a.Squarespace.DialogField2,[],{renderUI:function(){n.superclass.renderUI.call(this);var s=this.get("contentBox");a.Data.get({url:"/api/config/GetFragment",data:{name:"contribution-summary"},success:a.bind(function(e){var t=this.get("data");var a={title:i("Contribution to {donationTitle}",{donationTitle:t.donationTitle}),amountLabel:i("Amount"),donorLabel:i("DONOR"),additionalInformation:i("ADDITIONAL INFORMATION")};t.localizedStrings=a;try{s.setContent(r(e.html,t))}catch(e){s.setContent("<pre>"+e.message+"</pre>")}},this)})}},{CSS_PREFIX:"sqs-contribution-summary"});var t=a.Squarespace.Widgets.CommerceDonation=a.Base.create("CommerceDonation",a.Squarespace.Widgets.Model,[],{bindUI:function(){t.superclass.bindUI.call(this);var e=this.get("boundingBox");e.on("click",function(){var e=this.get("model");var t=new a.Squarespace.EditingDialog;t.setParams({width:700,verticalHeight:"full",overlay:.5,closeOthers:false,buttons:[{type:"cancel",title:i("Close")}],initialData:{contribution:e.getAttrs()},tabs:[{title:i("Contribution Summary"),icon:"/universal/images-v6/icons/icon-donation-32-light.png",scroll:true,fields:[{ctor:n,config:{name:"contribution"}},{ctor:a.Squarespace.DialogFields.PaymentLink,config:{url:e.get("chargeUrl"),chargeId:e.get("payment.transactionId"),type:e.get("payment.paymentProviderType")}}]}]});t.show()},this)},_getHBTemplateContext:function(){var e=t.superclass._getHBTemplateContext.call(this);return e.model}},{CSS_PREFIX:"sqs-commerce-donation",HANDLEBARS_TEMPLATE:"widgets-commerce-donation.html",ATTRS:{}})},"1.0",{requires:["base","squarespace-dialog","squarespace-dialog-payment-link","squarespace-widgets-model","squarespace-widgets-commerce-donation-template","squarespace-hb-date-format"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list-header.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var n=a("./src/main/webapp/universal/packages/enums/AchievementType.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteAchievementStore.js");YUI.add("squarespace-widgets-order-list-header",function(t){t.namespace("Squarespace.Widgets");var a=t.Squarespace.Widgets.OrderListHeader=t.Base.create("OrderListHeader",t.Squarespace.Widgets.ModelListHeader,[],{initializer:function(){var e=[{name:"order-number",label:s("order")},{name:"test-order",label:""},{name:"date",label:s("placed on")},{name:"placed-by",label:s("customer")},{name:"placed-by-email",label:s("email")},{name:"total",label:s("total")},{name:"payment",label:s("payment")}];(i.hasAchievement(n.POS_ORDER_PLACED)||i.hasAchievement(n.THIRD_PARTY_ORDER_CREATED))&&e.push({name:"order-channel",label:s("channel")});e.push({name:"fulfillment-status",label:s("status")});this._labelBar=new t.Squarespace.Widgets.ModelListLabelBar({labels:e})},_updateControlsVisibility:function(){var e=this.get("models");var t=this._labelBar;e.isEmpty()?t.hide():t.show()},destructor:function(){this._labelBar.destroy()},renderUI:function(){a.superclass.renderUI.call(this);var e=this.get("contentBox").one(".header-controls");this._labelBar.render(e)}},{CSS_PREFIX:"sqs-order-list-header",ATTRS:{strings:{value:{title:""}}}})},"1.0",{requires:["base","squarespace-commerce-order-utils","squarespace-enum","squarespace-models-order-list","squarespace-order-csv-export-dialog","squarespace-util","squarespace-widgets-confirmation","squarespace-widgets-model-list-header","squarespace-widgets-model-list-search","squarespace-widgets-model-list-label-bar"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list-manager.js":function(e,t){YUI.add("squarespace-widgets-order-list-manager",function(e){e.namespace("Squarespace.Widgets");e.namespace("Squarespace.Damask.Menu.Commerce");var s=e.Squarespace.Damask.Menu.Commerce.Orders=e.Base.create("OrderListManager",e.Squarespace.Widgets.SyncModelListManager,[e.Squarespace.Damask.Panel.MixinPanel],{initializer:function(){this.get("contentBox").addClass("sqs-model-list-manager-content");var e=this.get("header");e.setAttrs(this.getAttrs(["router","location"]));var t=this.get("location").query.customerId;if(t){var a=this.get("models");a.set("customerId",t)}else-1!==this.get("location").pathname.indexOf("customers")&&this.get("router").redirect("/orders")},bindUI:function(){s.superclass.bindUI.call(this);var e=this.get("models");var t=false;this._registerEvent(e.after(["add","remove","reset"],function(){if(!t){t=true;window.setTimeout(function(){t=false;this.syncUI()}.bind(this),0)}},this))},syncUI:function(){s.superclass.syncUI.call(this);var e=this.get("contentBox");var t=this.get("models");if(!t.isEmpty()){var a=e.all(".test-tag");a.size()>0?e.addClass("has-test-orders"):e.removeClass("has-test-orders")}}},{CSS_PREFIX:"sqs-order-list-manager",ATTRS:{constructors:{value:{models:e.Squarespace.Models.OrderList,header:e.Squarespace.Widgets.OrderListHeader,body:e.Squarespace.Widgets.OrderList}},menuHeaderChildWidget:{valueFn:function(){return new e.Squarespace.Widgets.OrderListMenuHeader({models:this.get("models"),router:this.get("router"),location:this.get("location")})}}}})},"1.0",{requires:["base","squarespace-damask-panel-mixin-panel","squarespace-enum","squarespace-models-order-list","squarespace-widgets-sync-model-list-manager","squarespace-widgets-order-list","squarespace-widgets-order-list-header","squarespace-widgets-order-list-menu-header"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list-menu-header.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var o=a("./common/temp/node_modules/react/index.js");var l=a("./common/temp/node_modules/react-dom/index.js");var n=a("./src/main/webapp/universal/packages/enums/AchievementType.js");var c=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");var u=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteAchievementStore.js");var d=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/components/CustomerOrdersFilterPill/index.js");YUI.add("squarespace-widgets-order-list-menu-header",function(i){i.namespace("Squarespace.Widgets");var r=i.Squarespace.Widgets.OrderListMenuHeader=i.Base.create("OrderListMenuHeader",i.Squarespace.Widgets.ModelListHeader,[],{initializer:function(){this.get("contentBox").addClass("sqs-model-list-header-content");var e=this.get("models");this._search=new i.Squarespace.Widgets.ModelListSearch({models:e,"strings.placeholder":this._getSearchPlaceholderForState(this.get("currentTab").fulfillmentState)})},destructor:function(){this._search.destroy()},renderUI:function(){r.superclass.renderUI.call(this);var e=this.get("models");var t=this.get("contentBox").one(".tab-select-container");if(e.get("customerId")){var a={router:this.get("router"),location:this.get("location")};var s=o.createElement(d,a);var n=i.Node.create('<div class="sqs-model-list-search"></div>');t.append(n);l.render(s,n.getDOMNode())}else this._search.render(t)},bindUI:function(){r.superclass.bindUI.call(this);var e=this.get("models");e.after("searchQueryChange",function(){e.refresh()},this)},_syncCurrentTab:function(){r.superclass._syncCurrentTab.call(this);var e=this.get("models");var t=this.get("currentTab").fulfillmentState;var a;a=t===c.PENDING?i.Squarespace.OrderDirection.ASCENDING:i.Squarespace.OrderDirection.DESCENDING;var s=this._getSearchPlaceholderForState(t);this._search.set("strings.placeholder",s);e.get("paginator").set("orderDirection",a);e.set("fulfillmentState",t);var n=e.get("searchQuery");i.Lang.isValue(n)&&""!==n&&e.set("searchQuery",null,{fromTabSync:true});e.refresh()},_updateControlsVisibility:function(){var e=this.get("models");var t=this._search;var a=e.get("searchQuery");var s=i.Lang.isValue(a)&&""!==a;e.isEmpty()&&!s?t._textField.disable():t._textField.enable()},_getSearchPlaceholderForState:function(e){var t=i.Squarespace.Commerce.OrderUtils.getOrderStateString(e);return""===t?s("Search"):s("Search {stateLabel} orders",{stateLabel:t})},_goToGiftCardOrders:function(e){i.Squarespace.Singletons.Location.go("/commerce/orders/gift-cards")},_exportToCSV:function(e){var t=new i.Squarespace.OrderCSVExportDialog;t.show()}},{CSS_PREFIX:"sqs-order-list-menu-header",ATTRS:{actionButtons:{valueFn:function(){var e=[{name:"exportToCSV",label:s("export"),className:"export-button",action:i.bind(this._exportToCSV,this)}];u.hasAchievement(n.GIFT_CARD_ISSUED)&&e.push({name:"giftCardOrders",label:s("view gift cards"),className:"view-gift-cards-button",action:i.bind(this._goToGiftCardOrders,this)});return e}},location:{},router:{},tabs:{value:[{name:"all",fulfillmentState:"",title:s("All Orders")},{name:"pending",fulfillmentState:c.PENDING,title:s("Pending Orders")},{name:"completed",fulfillmentState:c.COMPLETED,title:s("Fulfilled Orders")},{name:"canceled",fulfillmentState:c.CANCELLED,title:s("Canceled Orders")}]},strings:{value:{title:""}}}})},"1.0",{requires:["base","squarespace-commerce-order-utils","squarespace-enum","squarespace-models-order-list","squarespace-order-csv-export-dialog","squarespace-util","squarespace-widgets-confirmation","squarespace-widgets-model-list-header","squarespace-widgets-model-list-search","squarespace-widgets-model-list-label-bar"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list.js":function(e,t,a){var s=a("./common/temp/node_modules/react/index.js");var n=a("./common/temp/node_modules/react-dom/index.js");var c=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts").pluralize;var i=a("./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js");var r=a("./src/main/webapp/universal/packages/enums/Features.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var d=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");var p=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/CommerceAppRedirect/index.jsx");YUI.add("squarespace-widgets-order-list",function(l){l.namespace("Squarespace.Widgets");var e=l.Squarespace.Widgets.OrderList=l.Base.create("OrderList",l.Squarespace.Widgets.InfiniteScrollList,[l.Squarespace.Mixins.SelectedActionTray],{initializer:function(){this.get("contentBox").addClass("sqs-model-list-content");this._scrollbarWidth=0;this.appRedirectContainer=l.Node.create("<div></div>")},destructor:function(){n.unmountComponentAtNode(this.appRedirectContainer.getDOMNode());this.appRedirectContainer.remove(true);this.appRedirectContainer=null},renderUI:function(){n.render(s.createElement(p,{name:"commerce-app-redirect-orders-panel"}),this.appRedirectContainer.getDOMNode())},bindUI:function(){e.superclass.bindUI.call(this);var t=false;this.after(["selectionChange","selectedChange","addChild","removeChild"],function(){if(!t){t=true;l.later(0,this,function(){0!==this.get("selected")&&this.set("actionTrayButtons",this._getActionTrayButtons());var e=this.get("contentBox").get("offsetWidth")-this._childrenContainer.get("offsetWidth")+this._scrollbarWidth;if(e!==this._scrollbarWidth){this._scrollbarWidth=e;this._childrenContainer.setStyle("margin-right",-e)}t=false})}},this)},getEmptyStateMessage:function(){var e=this.get("models");var t=e.get("fulfillmentState");var a=l.Squarespace.Commerce.OrderUtils.getOrderStateString(t);if(""===a)return this._hasSearchQuery()?c("There are no orders matching this search."):c("There are no orders.");return this._hasSearchQuery()?c("There are no {stateLabel} orders matching this search.",{stateLabel:a}):c("There are no {stateLabel} orders.",{stateLabel:a})},_syncEmptyState:function(){var e=this.get("contentBox").one(".no-models-text");if(o.isFeatureGated(r.COMMERCE)){e.set("innerHTML","");i.renderMessage({node:e.getDOMNode(),analyticsId:"commerce-orders-panel",title:c("Upgrade Required"),subTitle:c("To take orders, upgrade to the Business or Commerce plans.")})}else e.set("text",this.getEmptyStateMessage())},_hasSearchQuery:function(){var e=this.get("models");var t=e.get("searchQuery");return l.Lang.isString(t)&&""!==t.trim()},_getActionTrayButtons:function(){var e=[];var t=this.get("selected");if(1!==t){var a=this.get("models");var s=a.get("hasNextPage");e.push({label:s?c("Select {num} of Total",{num:a.size()}):c("Select All"),action:this.selectAll,context:this,className:"light"})}0!==t&&e.push({label:c("Clear SelectioN"),action:this.deselectAll,context:this,className:"light"});e.push({label:c("Print"),action:this.printSelected,context:this,className:"dark"});var n=this.get("selectedModels");var i=null;var r=false;n&&n.each(function(e,t){if(0===t){i=e.get("fulfillmentState");r=true}else i!==e.get("fulfillmentState")&&(i=null);r=r&&e.get("testMode")});i===d.PENDING?e.push({label:c("Mark Fulfilled"),action:this.markSelectedAsCompleted,context:this,className:"dark"}):i===d.COMPLETED&&e.push({label:c("Mark Pending"),action:this.markSelectedAsPending,context:this,className:"dark"});if(r){var o=1===n.size()?"":"s";e.push({label:c("Delete test order")+o,action:this._clearTestOrders,context:this,className:"dark"})}return e},printSelected:function(){this.get("selectedModels").print()},markSelectedAsCompleted:function(){var a=this.get("selectedModels");var s=a.size();var n="order"+(1===s?"":"s");var i="Order"+(1===s?"":"s");var e=l.Lang.sub(c("Mark {numOrders} {orderStringCaps} as Fulfilled"),{numOrders:s,orderStringCaps:i});var t=new l.Squarespace.Widgets.CommerceShipConfirmation({title:e,orders:a});t.on("markComplete",function(e){var t=e.currentTarget.getDialog().getField("sendNotificationCheckBox");a.markShipped(t.get("data"),l.bind(function(e){e?new l.Squarespace.Widgets.Alert({"strings.title":c("Failed to Mark Orders Shipped"),"strings.message":c("Something went wrong when processing these orders.")}):new l.Squarespace.Widgets.Information({"strings.title":l.Lang.sub(c("{orderStringCap} Marked Fulfilled"),{orderStringCap:i}),"strings.message":l.Lang.sub(c("{numOrders} {orderString} marked Fulfilled."),{numOrders:s,orderString:n})})}))},this);t.render()},markSelectedAsPending:function(){var e=c("Mark Pending");var t=this.get("selectedModels");var a=t.size();var s="order"+(1===a?"":"s");var n=c('This will move {numOrders} {orderString} to the "Pending" tab for your records.');var i=l.Lang.sub(n,{numOrders:a,orderString:"order"+(1===a?"":"s")});new l.Squarespace.Widgets.Confirmation({"strings.title":e,"strings.message":i}).on("confirm",function(){t.markPending();new l.Squarespace.Widgets.Information({"strings.title":l.Lang.sub(c("{orderString} Marked Pending"),{orderString:s}),"strings.message":l.Lang.sub(c("{numOrders} {orderString} marked pending."),{numOrders:a,orderString:s})})},this)},_clearTestOrders:function(){var a={type:"cancel",title:c("Cancel")};var s={type:"saveAndClose",title:c("Delete Selected")};var n={type:"saveAndClose",title:c("Delete All")};var i=this.get("selectedModels");var r=new l.Squarespace.EditingDialog({title:u({one:"Delete Test Order",other:"Delete Test Orders"},i.size()),name:"deleteTestOrders",className:"sqs-widgets-delete-test-orders",overlay:.5,width:400,savingText:"Deleting",tabs:[{fields:[{ctor:l.Squarespace.DialogFields.Check,config:{name:"deleteAll",defaultValue:false,"strings.title":c("Delete all test orders"),"strings.description":c("This will delete all test orders ever created. Otherwise it just deletes the selected test orders.")}}]}],buttons:[a,s]});var o=function(e,t){r.detach();r.close();e?new l.Squarespace.Widgets.Alert({"strings.title":c("Failure"),"strings.message":c("Something went wrong when deleting {order}",{order:t})}):new l.Squarespace.Widgets.Information({"strings.title":c("Deleted"),"strings.message":c("Successfully deleted {order}",{order:t})})};r.on("send-requested",function(){var e=r.getField("deleteAll").get("data");if(e){var t=this.get("models");t.deleteAllTestOrders(function(e){o(e,c("all test orders"))})}else i.deleteTestOrders(function(e){o(e,u({one:"this test order",other:"these test orders"},i.size()))})},this);r.show();var e=r.getField("deleteAll");e.on("dataChange",function(e){var t=[a];e.newVal?t.push(n):t.push(s);r.setButtons(t)},this)}},{CSS_PREFIX:"sqs-order-list",ATTRS:{defaultChildType:{value:l.Squarespace.Widgets.Order},"strings.noMoreModelsToLoad":null,actionTrayButtons:{setter:function(){return this._getActionTrayButtons()}}}})},"1.0",{requires:["base","squarespace-mixins-selected-action-tray","squarespace-commerce-order-utils","squarespace-widgets-commerce-ship-confirmation","squarespace-widgets-order","squarespace-widgets-infinite-scroll-list","squarespace-widgets-confirmation"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order.js":function(e,t,a){var u=a("./src/main/webapp/universal/packages/enums/OrderFulfillmentStates.js");var d=a("./src/main/webapp/universal/packages/enums/OrderChannelTypes.js");var p=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var m=a("./src/main/webapp/universal/src/shared/i18n/commerce/MoneyFormatterProvider.ts");var h=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var v=a("./src/main/webapp/universal/src/shared/i18n/index.ts").formatDateTime;var i=a("./src/main/webapp/universal/packages/enums/ProductTypes.js");var g=a("./src/main/webapp/universal/packages/enums/AchievementType.js");var f=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteAchievementStore.js");YUI.add("squarespace-widgets-order",function(l){l.namespace("Squarespace.Widgets");var n=l.Squarespace.API_ROOT+"2/commerce/orders";var c=l.Squarespace.Widgets.Order=l.Base.create("Order",l.Squarespace.Widgets.Model,[l.Squarespace.Mixins.EditableModel],{initializer:function(){this._selector=new l.Squarespace.DialogFields.Check({name:"orderSelector",data:0!==this.get("selected"),className:"dark"})},destructor:function(){this._selector.destroy()},renderUI:function(){c.superclass.renderUI.call(this);this._selector.render(this.get("contentBox").one(".order-selector"))},bindUI:function(){c.superclass.bindUI.call(this);var e=this.get("model");this._registerEvent(this.get("boundingBox").once("click",this._handleOrderClickToOpen.bind(this)));var t=this._selector;this.after("selectedChange",function(e){t.set("data",0!==e.newVal,{silent:true})});this._registerEvent(t.after("dataChange",function(e){e.silent||this.set("selected",e.newVal?1:0)},this));this._registerEvent(e.after("refundTotalCentsChange",function(){this.syncUI()},this))},_handleOrderClickToOpen:function(e){var t=this.get("model");var a=t.get("items");var s=l.Array.some(a,function(e){return e.productType===i.GIFT_CARD});s?l.Data.get({headers:{"Content-Type":"application/json"},url:n+"/"+t.get("id")+"/giftcard",success:function(e){t.set("giftCardDetails",e);t.load(l.bind(function(){this._edit()},this))},failure:function(e){t.set("giftCardDetails",null);t.load(l.bind(function(){this._edit()},this))}},this):t.load(l.bind(function(){this._edit()},this));e.stopPropagation()},_getPaymentState:function(e,t){var a=!e.isZero()&&0!==e.compare(t);var s=!e.isZero()&&0===e.compare(t);if(a)return h("Partial Refund");if(s)return h("Refunded");return h("Paid")},_getHBTemplateContext:function(){var e=c.superclass._getHBTemplateContext.call(this);var t=e.model;var a=t.fulfillmentState;var s=p.fromJson(t.refundedTotalAmount);var n=p.fromJson(t.grandTotal);var i=t.channelType;var r=t.channelName;this.set("strings.date",v(t.submittedOn));var o={pending:h("Pending"),fulfilled:h("Fulfilled"),canceled:h("Canceled"),channelPOS:h("POS"),channelOnline:h("Online"),testOrder:h("Test")};return l.merge(e,{amountFormatted:m.formatter.format(n),stateShipped:a===u.COMPLETED,stateCanceled:a===u.CANCELLED,paymentState:this._getPaymentState(s,n),submittedOn:v(t.submittedOn,"lllLT"),multipleChannels:f.hasAchievement(g.POS_ORDER_PLACED)||f.hasAchievement(g.THIRD_PARTY_ORDER_CREATED),channelOnline:i===d.ONLINE,channelPOS:i===d.POS,channelThirdParty:i===d.THIRD_PARTY,channelName:r,strings:o})}},{CSS_PREFIX:"sqs-order",HANDLEBARS_TEMPLATE:"widgets-order.html",ATTRS:{editorCtor:{value:l.Squarespace.Editor.Order}}})},"1.0",{requires:["base","squarespace-commerce-utils","squarespace-dialog-check","squarespace-editor-order","squarespace-enum","squarespace-mixins-editable-model","squarespace-util","squarespace-widgets-model","squarespace-widgets-order-template"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity-list-header.js":function(e,t,a){var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var r=a("./src/main/webapp/universal/src/shared/utils/dateFormat.js");YUI.add("squarespace-widgets-commerce-payment-activity-list-header",function(n){var e=o("Find successful payments, failed charges, refunds, and chargebacks here. This information is synced from your Stripe account. Click a transaction to open it in Stripe.");var t=o('For help with Payment Activity, visit <a href="https://support.stripe.com/questions/squarespace">Stripe\'s documentation</a>.');var a=["<div>",e,"</div>","<div>",t,"</div>"].join("");n.namespace("Squarespace.Widgets");var i=n.Base.create("FilterIndicator",n.Squarespace.DialogField2,[],{bindUI:function(){i.superclass.bindUI.call(this);this.after("descriptionChange",this.syncUI);this.after("labelChange",this.syncUI);var e=this.get("contentBox").one(".clear-filter");this._registerEvent(e.on("click",function(){this.fire("clearFilterClick")},this))},syncUI:function(){i.superclass.syncUI.call(this);var e=this.get("description");var t=this.get("label");var a=this.get("contentBox").one(".description");var s=this.get("contentBox").one(".label");a.set("text",e||"&nbsp;");s.set("text",t||"&nbsp;")}},{CSS_PREFIX:"filter-indicator",TEMPLATE:'<div class="clear-filter"></div><div class="label"></div><div class="description"></div>',ATTRS:{description:{value:null},label:{value:null}}});var s=n.Squarespace.Widgets.CommercePaymentActivityListHeader=n.Base.create("CommercePaymentActivityListHeader",n.Squarespace.Widgets.ModelListHeader,[],{initializer:function(){this._abortNextSyncSearch=false;this._labelBar=new n.Squarespace.Widgets.ModelListLabelBar({labels:[{name:"description",label:o("activity")},{name:"order-number",label:o("order")},{name:"charge-id",label:o("charge id")},{name:"timestamp",label:o("time")}]});this._filterIndicator=new i({className:"filter-indicator",visible:false})},destructor:function(){this._labelBar.destroy();this._filterIndicator.destroy();this._labelBar=null;this._filterIndicator=null},renderUI:function(){s.superclass.renderUI.call(this);var e=this.get("contentBox").one(".header-controls");this._filterIndicator.render(e);this._labelBar.render(e)},bindUI:function(){s.superclass.bindUI.call(this);this._registerEvent(this._filterIndicator.on("clearFilterClick",this._clearFilter,this))},_showFilterByDateDialog:function(){var e=this.get("models");var t=e.get("minTimestamp")||n.DataType.Date.addDays(new Date,-7).valueOf();var a=e.get("maxTimestamp")||(new Date).valueOf();var s={title:o("Search by"),style:"flyout",width:415,height:200,overlay:.5,discardChangesConfirmation:false,disableOverlayCancel:true,validateActiveTabOnly:true,buttons:[{type:"cancel",title:o("Cancel")},{type:"filter",title:o("Filter")}],tabs:[{name:"filterByDateTab",title:o("Filter by date"),tabTitle:o("Date"),icon:"/universal/images-v6/icons/icon-search-16-light.png",fields:[{ctor:n.Squarespace.DialogFields.TextDateTimePicker,config:{name:"minTimestampInput","strings.title":o("From:"),data:t}},{ctor:n.Squarespace.DialogFields.TextDateTimePicker,config:{name:"maxTimestampInput","strings.title":o("To:"),data:a,"strings.errorMessage":o("End time must be later than start time."),validator:function(e){return e>this.get("dialog").getField("minTimestampInput").get("data")}}}]},{name:"filterByChargeIdTab",title:o("Filter by charge ID"),tabTitle:o("Charge ID"),icon:"/universal/images-v6/icons/icon-search-16-light.png",fields:[{ctor:n.Squarespace.DialogFields.Text,config:{name:"chargeIdInput","strings.title":o("Charge ID:"),required:true}}]}]};var r=new n.Squarespace.EditingDialog(s);r.on("button-filter",function(){if(r._showLocalErrors())return;if("filterByDateTab"===r.currentTab.name){var e=r.getField("minTimestampInput");var t=r.getField("maxTimestampInput");var a=e.getValue();var s=t.getValue();this._applyDateFilter(a,s)}else{var n=r.getField("chargeIdInput");var i=n.getValue();this._applyChargeIdSearch(i)}r.close()},this);r.show()},_clearFilter:function(e){var t=this.get("models");t.set("minTimestamp",null);t.set("maxTimestamp",null);t.set("chargeId",null);false!==e&&t.load();this._filterIndicator.hide()},_applyDateFilter:function(e,t){this._clearFilter(false);var a=this.get("models");a.set("minTimestamp",e);a.set("maxTimestamp",t);a.load();this._showFilterIndicator(o("Activity between {minTime} and {maxTime}",{minTime:this._formatDateFilter(e),maxTime:this._formatDateFilter(t)}))},_formatDateFilter:function(e){return r(e,n.Squarespace.Commerce.COMMERCE_DATE_TIME_FORMAT)},_applyChargeIdSearch:function(e){this._clearFilter(false);var t=this.get("models");t.set("chargeId",e);t.load();this._showFilterIndicator(e)},_updateControlsVisibility:function(){this._labelBar.set("visible",!this.get("models").isEmpty())},_showFilterIndicator:function(e){this._filterIndicator.show();this._filterIndicator.set("label",o("Filter"));this._filterIndicator.set("description",e)},_syncCurrentTab:function(){s.superclass._syncCurrentTab.call(this);var e=this.get("models");var t=this.get("currentTab").activityType;e.set("activityTypes",t);e.load()}},{CSS_PREFIX:"sqs-commerce-payment-activity-list-header",ATTRS:{tabs:{value:[{name:"payments",activityType:"CHARGE,CHARGE_FAILURE",title:o("Payments"),description:a},{name:"refunds",activityType:"REFUND",title:o("Refunds"),description:a},{name:"failures",activityType:"CHARGE_FAILURE",title:o("Failures"),description:a},{name:"chargebacks",activityType:"CHARGEBACK",title:o("Chargebacks"),description:a}]},actionButtons:{valueFn:function(){return[{name:"filterByDate",label:o("Filter"),action:n.bind(this._showFilterByDateDialog,this)}]}},strings:{value:{title:o("Payment Activity")}}}})},"1.0",{requires:["base","squarespace-enum","squarespace-models-commerce-payment-activity-list","squarespace-util","squarespace-widgets-model-list-header","squarespace-widgets-confirmation","squarespace-widgets-model-list-label-bar","squarespace-dialog-select","squarespace-dialog-text-datetime-picker","squarespace-dialog-text"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity-list-manager.js":function(e,t){YUI.add("squarespace-widgets-commerce-payment-activity-list-manager",function(e){e.namespace("Squarespace.Widgets");var t=e.Squarespace.Widgets.PaymentActivityListManager=e.Base.create("PaymentActivityListManager",e.Squarespace.Widgets.SyncModelListManager,[e.Squarespace.Damask.Panel.MixinPanel],{initializer:function(){this.get("contentBox").addClass("sqs-model-list-manager-content")},bindUI:function(){t.superclass.bindUI.call(this);var e=this.get("models");e.after("minTimestampChange",this._syncFilter,this);e.after("maxTimestampChange",this._syncFilter,this);e.after("chargeIdChange",this._syncFilter,this)},_syncFilter:function(){var e=this.get("models");var t=e.get("minTimestamp");var a=e.get("maxTimestamp");var s=e.get("chargeId");var n=this.get("contentBox");n.toggleClass("filtered",t||a||s)}},{CSS_PREFIX:"sqs-commerce-payment-activity-list-manager",ATTRS:{constructors:{value:{body:e.Squarespace.Widgets.CommercePaymentActivityList,header:e.Squarespace.Widgets.CommercePaymentActivityListHeader,models:e.Squarespace.Models.CommercePaymentActivityList}},constructorConfigs:{header:{}}}})},"1.0",{requires:["base","squarespace-damask-panel-mixin-panel","squarespace-models-commerce-payment-activity-list","squarespace-widgets-sync-model-list-manager","squarespace-widgets-commerce-payment-activity-list-header","squarespace-widgets-commerce-payment-activity-list"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity-list.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-commerce-payment-activity-list",function(t){t.namespace("Squarespace.Widgets");var a=t.Squarespace.Widgets.CommercePaymentActivityList=t.Base.create("CommercePaymentActivityList",t.Squarespace.Widgets.ModelList,[],{initializer:function(){this._abortNextSyncSearch=false},destructor:function(){if(null!==this._loadMoreButton){this._loadMoreButton.destroy();this._loadMoreButton=null}},bindUI:function(){a.superclass.bindUI.call(this);var e=this.get("models");e.after("hasMoreResultsChange",function(){false===e.get("hasMoreResults")&&null!==this._loadMoreButton&&this._loadMoreButton.hide()},this)},_empty:function(){this._loadMoreButton=null;a.superclass._empty.call(this)},_renderLoadedState:function(){this._loadMoreButton=null;a.superclass._renderLoadedState.call(this);var e=this.get("models");if(e.get("hasMoreResults")){this._loadMoreButton=new t.Squarespace.DialogFields.Button({"strings.text":s("Load more"),className:"load-more-button"});this._registerEvent(this._loadMoreButton.on("click",function(){e.loadMore()}));this._loadMoreButton.render(this.get("contentBox"))}},getEmptyStateMessage:function(){return s("No payment activity found.")}},{CSS_PREFIX:"sqs-commerce-payment-activity-list",ATTRS:{defaultChildType:{value:t.Squarespace.Widgets.CommercePaymentActivity},strings:{value:{modelName:"payment-activity"}}}})},"1.0",{requires:["base","squarespace-widgets-model-list","squarespace-widgets-commerce-payment-activity","squarespace-dialog-button"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-commerce-payment-activity",function(a){a.namespace("Squarespace.Widgets");var s=a.Squarespace.Widgets.CommercePaymentActivity=a.Base.create("CommercePaymentActivity",a.Squarespace.Widgets.Model,[],{bindUI:function(){s.superclass.bindUI.call(this);this.get("contentBox").on("click",function(){window.open(this.get("model").get("url"),"_blank")},this)},_getHBTemplateContext:function(){var e=s.superclass._getHBTemplateContext.call(this);var t=e.model;e.type=this.get("strings.activityTypes."+t.type);e.typeCssClass=t.type;e.dateFormat=a.Squarespace.Commerce.COMMERCE_DATE_TIME_FORMAT;return e}},{CSS_PREFIX:"sqs-commerce-payment-activity",HANDLEBARS_TEMPLATE:"widgets-commerce-payment-activity.html",ATTRS:{strings:{value:{activityTypes:{CHARGE:n("Successful"),CHARGE_FAILURE:n("Declined"),REFUND:n("Refund"),CHARGEBACK:n("Chargeback")}}}}})},"1.0",{requires:["base","squarespace-widgets-model","squarespace-widgets-commerce-payment-activity-template","squarespace-hb-date-format"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/shipping/ship-confirmation.js":function(e,t,a){var p=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var m=a("./src/main/webapp/universal/packages/enums/OrderChannelTypes.js");YUI.add("squarespace-widgets-commerce-ship-confirmation",function(d){d.namespace("Squarespace.Widgets");var e=d.Squarespace.Widgets.CommerceShipConfirmation=d.Base.create("shipConfirmation",d.Squarespace.Widgets.SSWidget,[],{initializer:function(){var e={notificationInitialState:true,notificationDescription:p("Send an email notification to the customer that their order has been fulfilled.")};var t={notificationInitialState:true,notificationDescription:p("Send email notifications to customers that their orders have been fulfilled.")};var a={notificationInitialState:false,notificationDescription:p("Select if your third-party integration doesnt send fulfillment notifications to customers.")};var s={notificationInitialState:true,notificationDescription:p("Some orders were imported from external platforms, which may send their own notifications.")};var n=this.get("orders");var i=n instanceof d.ModelList&&n.size()>1;var r=n.get("channelType");var o="string"===typeof r?[r]:d.Array.dedupe(r);var l=o.indexOf(m.THIRD_PARTY)>-1;var c=l&&1===o.length;var u=e;c?u=a:i&&!l?u=t:i&&(u=s);this._dialog=new d.Squarespace.EditingDialog({title:this.get("title"),name:"ShipConfirmation",className:"sqs-widgets-commerce-ship-confirmation",overlay:.5,width:600,savingText:p("Marking"),disableTips:false,closeOthers:false,discardChangesConfirmation:false,tabs:[{fields:[{ctor:d.Squarespace.DialogFields.Check,config:{name:"sendNotificationCheckBox",defaultValue:u.notificationInitialState,"strings.title":p("Send Order Fulfilled Notification"),"strings.description":u.notificationDescription}},{ctor:d.Squarespace.DialogFields.OrderTracking,config:{name:"orderTrackingDialog",data:this.get("orders")}}]}],buttons:[{type:"cancel",title:p("Cancel")},{type:"saveAndClose",title:p("Confirm")}]});this.publish("markComplete")},destructor:function(){this._dialog=null},bindUI:function(){e.superclass.bindUI.call(this);var t=this._dialog.getField("orderTrackingDialog");this._registerEvent(this._dialog.on("send-requested",function(e){t.validateOrders()?this._onSuccessfulValidation():this._onFailedValidation()},this));this._registerEvent(this._dialog.on("close"),function(e){t.hideErrors();this._dialog.close();this.destroy(true)},this)},renderUI:function(){this._dialog.show()},getDialog:function(){return this._dialog},_onSuccessfulValidation:function(){this.fire("markComplete");this._dialog.hideErrors();this._dialog.close()},_onFailedValidation:function(){this._dialog.hideSaveOverlay()}},{ATTRS:{title:{value:"",validator:d.Squarespace.AttrValidators.isString},orders:{value:null,validator:d.Squarespace.AttrValidators.isObject}}})},"1.0",{requires:["base","squarespace-dialog","squarespace-dialog-check","squarespace-dialog-order-tracking","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/taxes/tax-panel-header.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var r=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var o=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var l=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeatureGateStore/index.js");var c=a("./src/main/webapp/universal/packages/enums/Features.js");var u=a("./src/main/webapp/universal/src/shared/utils/BlockFeatureGatingUtils.js");YUI.add("squarespace-widgets-commerce-taxes-tax-panel-header",function(e){e.namespace("Squarespace.Widgets");var n=e.Base.create("TaxSettingsPusher",e.Squarespace.Widgets.SSWidget,[],{renderUI:function(){this.get("contentBox")},bindUI:function(){this.get("contentBox").on("click",function(){e.Squarespace.Singletons.Location.go("/commerce/taxes/tax-settings")})}},{ATTRS:{childPanelConfig:{value:{panelPathName:"tax-settings"}}}});e.Squarespace.Widgets.CommerceTaxPanelHeader=e.Base.create("CommerceTaxPanelHeader",e.Squarespace.Widgets.SSWidget,[e.WidgetParent],{renderUI:function(){var e=this.get("contentBox");e.addClass("sqs-tray");e.setHTML('<div class="title" title="Taxes">'+i("Taxes")+'</div><div class="subtitle">'+i("Add locations where taxes apply to your store's sales. Customers with shipping addresses that match these locations will be charged the sales tax you've specified.")+'<p><a target="_blank" href="'+r.COMMERCE_TAXES+'">'+i("Learn more")+"</a></p></div>");var t=new n;this.set("taxSettingsPusher",t);this.add(t);if(o.isFeatureGated(c.COMMERCE)){var a=e.one(".title");var s=a.insertBefore('<div class="header-feature-gate-panel"></div>',a.next());u.renderPanelNode({node:s.getDOMNode(),analyticsId:"commerce-tax-panel-header",upsellCopyOverrides:l.getCommerceOrMemberAreasUpsell()})}}},{CSS_PREFIX:"sqs-taxes-panel-header",ATTRS:{taxSettingsPusher:{readOnly:true}}})},"1.0",{requires:["base","widget-parent","squarespace-damask-panel-mixin-pusher","squarespace-singletons-location","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/widgets/commerce/taxes/tax-rule-list.js":function(e,t,a){var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var s=a("./src/main/webapp/universal/packages/enums/TaxScopes.js");var c=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/utils/localizedRuleDefaults.js");YUI.add("squarespace-widgets-commerce-taxes-tax-rule-list",function(i){i.namespace("Squarespace.Widgets");var r=l("This must be a number between 0 and 100.");var o=function(e){return i.Lang.isNumber(e)&&e>=0&&e<100};i.Squarespace.Widgets.CommerceTaxRuleList=i.Base.create("taxRuleList",i.Squarespace.Widgets.DialogField2,[],{initializer:function(){this._rules=new i.Squarespace.Models.TaxRuleList;this._rules.load()},bindUI:function(){this._registerEvent(this._rules.on("add",this.syncUI,this));this._registerEvent(this._rules.after("reset",this.syncUI,this))},syncUI:function(){var a=this.get("contentBox");a.empty();var s={};var n=[];this._rules.each(i.bind(function(e){if(e.get("scope")===i.Squarespace.TaxScopes.COUNTRY){var t=new i.Squarespace.Widgets.TaxRuleView({ruleInstance:e,parents:this._rules.getParentsOf(e)});t.render(a);n.push(t);s[e.get("countryCode")]={ruleView:t,states:{}}}},this));this._rules.each(i.bind(function(e){if(e.get("scope")===i.Squarespace.TaxScopes.STATE){var t=new i.Squarespace.Widgets.TaxRuleView({ruleInstance:e,parents:this._rules.getParentsOf(e)});var a=s[e.get("countryCode")].ruleView;a.add(t);s[e.get("countryCode")].states[e.get("state")]={ruleView:t,localities:{}}}},this));this._rules.each(i.bind(function(e){if(e.get("scope")===i.Squarespace.TaxScopes.LOCAL){var t=new i.Squarespace.Widgets.TaxRuleView({ruleInstance:e,parents:this._rules.getParentsOf(e)});var a=s[e.get("countryCode")].states[e.get("state")].ruleView;a.add(t)}},this));i.Array.each(n,i.bind(function(e){e.on("create-requested",function(e){var t=e.parentModel;switch(t.get("scope")){case i.Squarespace.TaxScopes.COUNTRY:this.showAddState(t);break;case i.Squarespace.TaxScopes.STATE:this.showAddLocal(t);break;case i.Squarespace.TaxScopes.LOCAL:throw new Error("Can't add anything below Local")}},this);e.on("rule-removed",function(){this._rules.load()},this);e.on("rule-updated",function(){this._rules.load()},this)},this))},_showAddDialog:function(e,t){var s=new i.Squarespace.EditingDialog({name:"addEditRule",style:"flyout",savingText:l("Saving Tax Rule"),initialData:e,overlay:.5,width:390,scroll:true,closeOthers:false,discardChangesConfirmation:false,buttons:[{type:"cancel",title:l("Cancel")},{type:"saveAndClose",title:l("Save")}],primaryTabs:t});s.on("send-requested",i.bind(function(){var e=s.getField("state");if(e&&""===e.getValue()){e.showError(l("You need to pick a state."));s.allowEditing();return}var t=s.getField("countryCode");if(t&&(""===t.getValue()||t.getValue()===i.Squarespace.Localities.SPECIAL_KEYS.DIVIDER)){t.showError(l("You need to pick a country."));s.allowEditing();return}var a=new i.Squarespace.Models.TaxRule(s.getData());i.Lang.isValue(a.get("zipEnd"))||a.set("zipEnd",a.get("zipStart"));a.save(i.bind(function(e){if(e){new i.Squarespace.Widgets.Alert({"strings.title":l("Error"),"strings.message":e.responseJSON.message});s.allowEditing()}else{this._rules.load();s.close()}},this))},this));return s},showAddLocal:function(e){var t=e.newChildRaw();var a=[{value:"single",title:l("Single ZIP Code")},{value:"range",title:l("Range of ZIP Codes")}];var s=new i.Squarespace.DialogFlow({fieldName:"zipMatchType",title:l("Create New Local Tax Rate"),subtitle:l("Match by ZIP Code"),width:400,description:l("Create a local tax rule for customers from a certain ZIP Code. You can specify the local rate for a single ZIP Code or a range of codes."),options:a,nextDialogGenerator:i.bind(function(e){if("single"===e.zipMatchType)return this._showAddDialog(t,{title:l("Create New Local Tax Rate"),icon:"/universal/images-v6/icons/icon-plus-16-light.png",fields:[{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"countryCode"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"state"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"zipMatchType"}},{ctor:i.Squarespace.DialogFields.Description,config:{title:l("Local Rate"),text:l("This tax rate will be applied to products that are shipping to this ZIP Code.")}},{ctor:i.Squarespace.DialogFields.Text,config:{name:"zipStart","strings.title":l("ZIP Code"),"strings.validationFailMessage":l("This must be a valid ZIP Code"),className:"thin",validator:i.Squarespace.Commerce.isValidUSZip}},{ctor:i.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":l("Tax Rate (%)"),"strings.validationFailMessage":r,validator:o}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":l("Charge Tax on Shipping"),"strings.description":l("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":l("Charge Tax on Services"),"strings.description":l("Apply this tax to service products. Tax is applied based on the billing address.")}}]});return this._showAddDialog(t,{title:l("Create New Local Tax Rate"),icon:"/universal/images-v6/icons/icon-plus-16-light.png?4",fields:[{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"countryCode"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"state"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"zipMatchType"}},{ctor:i.Squarespace.DialogFields.Description,config:{title:l("Local Rate"),text:l("This tax rate will be applied to products that are shipping to any ZIP Codes included in this range")}},{type:"splitter",fields:[{ctor:i.Squarespace.DialogFields.Text,config:{name:"zipStart","strings.title":l("Starting Zip"),"strings.validationFailMessage":l("This must be a valid ZIP Code"),className:"thin",validator:i.Squarespace.Commerce.isValidUSZip,width:.5}},{ctor:i.Squarespace.DialogFields.Text,config:{name:"zipEnd","strings.title":l("Ending Zip"),"strings.validationFailMessage":l("This must be a valid ZIP Code"),className:"thin",validator:i.Squarespace.Commerce.isValidUSZip,width:.5}}]},{ctor:i.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":l("Tax Rate (%)"),"strings.validationFailMessage":r,validator:o}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":l("Charge Tax on Shipping"),"strings.description":l("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":l("Charge Tax on Services"),"strings.description":l("Apply this tax to service products. Tax is applied based on the billing address.")}}]})},this)});s.showPrescreen(t)},showAddState:function(e){var t=e.newChildRaw();var a=e.isCanadian();var s;s="CA"===e.get("countryCode")?this._showAddDialog(t,{title:l("Create New Provincial Rate"),icon:"/universal/images-v6/icons/icon-plus-16-light.png?4",fields:[{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"countryCode"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:i.Squarespace.DialogFields.Description,config:{title:l("Provincial Tax Rate"),text:l("This tax rate will be applied to products that are shipping to this province.")}},{ctor:i.Squarespace.DialogFields.Select,config:{name:"state",defaultValue:"",options:e.getStateOptions(),"strings.title":l("Province"),"strings.placeholder":l("Select a Province"),className:"thin dark",required:true}},{ctor:i.Squarespace.DialogFields.Text,config:{name:"taxName","strings.title":l("Tax Name"),"strings.description":l("E.g. HST, QST, PST")}},{ctor:i.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":l("Provincial Tax Rate (%)"),"strings.description":l("This rate is applied to the federal rate."),"strings.validationFailMessage":r,validator:o}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"showCombinedRate","strings.title":l("Show As Combined Rate"),"strings.description":l("Typically for HST provinces, this displays the tax on invoices as a combined rate.")}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":l("Charge Tax on Shipping"),"strings.description":l("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":l("Charge Tax on Services"),"strings.description":l("Apply this tax to service products. Tax is applied based on the billing address.")}}]}):this._showAddDialog(t,{title:l("Create New State Tax Rate"),icon:"/universal/images-v6/icons/icon-plus-16-light.png?4",fields:[{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"countryCode"}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:i.Squarespace.DialogFields.Description,config:{title:l("State Tax Rate"),text:l("This tax rate will be applied to products that are shipping to this state.")}},{ctor:i.Squarespace.DialogFields.Select,config:{name:"state",defaultValue:"",options:e.getStateOptions(),"strings.title":l("State"),"strings.placeholder":l("Select a State"),className:"thin dark",required:true}},{ctor:i.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":l("Tax Rate (%)"),"strings.validationFailMessage":r,validator:o}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":l("Charge Tax on Shipping"),"strings.description":l("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":l("Charge Tax on Services"),"strings.description":l("Apply this tax to service products. Tax is applied based on the billing address.")}}]});s.show();var n=s.getField("state");a&&n.after("dataChange",function(e){var t=n.get("data");s.getField("taxName").set("data",c.reportingNameForCanadianProvince(t));s.getField("showCombinedRate").set("data",c.shouldShowCombinedRate(t))})},showAddCountry:function(){var e={scope:s.COUNTRY,chargeTaxOnServices:true};var a=this._showAddDialog(e,{title:l("Create Country Tax Rate"),icon:"/universal/images-v6/icons/icon-plus-16-light.png",fields:[{ctor:i.Squarespace.DialogFields.Description,config:{title:l("Country Rate"),text:l("This tax rate will be applied to products that are shipping to this country.")}},{ctor:i.Squarespace.DialogFields.Select,config:{name:"countryCode",defaultValue:"",options:i.Squarespace.Localities.getAmericentricSortedCountryOptions(),"strings.title":l("Country"),className:"thin dark",required:true}},{ctor:i.Squarespace.DialogFields.Hidden,config:{name:"scope"}},{ctor:i.Squarespace.DialogFields.HTML,config:{name:"usTaxMessage",content:l("The United States does not have sales tax at the federal level. To charge sales tax, set up locations at the State level."),visible:false}},{ctor:i.Squarespace.DialogFields.Text,config:{name:"taxName",className:"thin","strings.title":l("Tax Name"),"strings.description":l("E.g. VAT, GST")},visible:true},{ctor:i.Squarespace.DialogFields.NumericText,config:{name:"rate",className:"thin","strings.title":l("Tax Rate (%)"),"strings.validationFailMessage":r,validator:o}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnShipping","strings.title":l("Charge Tax on Shipping"),"strings.description":l("Apply this tax to shipping costs in addition to the products being shipped.")}},{ctor:i.Squarespace.DialogFields.Check,config:{name:"chargeTaxOnServices","strings.title":l("Charge Tax on Services"),"strings.description":l("Apply this tax to service products. Tax is applied based on the billing address.")}}]});a.show();a.getField("countryCode").after("dataChange",function(e){var t=e.newVal;if("US"===t){a.getField("rate").set("data",0).hide();a.getField("chargeTaxOnShipping").hide();a.getField("chargeTaxOnServices").hide();a.getField("taxName").hide();a.getField("usTaxMessage").show()}else{a.getField("rate").show();a.getField("chargeTaxOnShipping").show();a.getField("chargeTaxOnServices").show();a.getField("taxName").show();a.getField("usTaxMessage").hide()}a.getField("taxName").set("data",c.reportingNameForCountry(t))})}},{CSS_PREFIX:"sqs-tax-rule-list"})},"1.0",{requires:["base","json","squarespace-commerce-utils","squarespace-models-tax-rule","squarespace-tax-rule-view","squarespace-dialog-description","squarespace-dialog-numeric-text","squarespace-dialog-field-2","squarespace-widgets-alert"]})},"./src/main/webapp/universal/scripts-v6/widgets/events/list-view.js":function(e,t,a){var c=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-event-list-view",function(l){l.namespace("Squarespace.Widgets.Event");var t={EDIT_REQUESTED:"editRequested",EVENT_EDIT_REQUESTED:"eventEditRequested",DELETE_REQUESTED:"deleteRequested"};var e=l.Squarespace.Widgets.Event.ListView=l.Base.create("EventListView",l.Squarespace.Widgets.List.SelectableListView,[],{bindUI:function(){e.superclass.bindUI.call(this);this.on("*:buttonAction",function(e){"edit"===e.action?this.fire(t.EDIT_REQUESTED,{item:e.target.get("item")}):"delete"===e.action&&this.fire(t.DELETE_REQUESTED,{item:e.target.get("item")})})},_uiAddChild:function(e,t){var a=e.get("boundingBox");t.contains(a)||t.appendChild(e.get("boundingBox"))},_syncListItems:function(){var e=this.get("items");if(e){this.setLoadedState();var t=[];this.each(function(e){e.set("selected",0);t.push(e)});l.Array.each(t,function(e){e.destroy()});var a=this.get("contentBox").one(".past-events");var s=a.one(".items");var n=this.get("contentBox").one(".upcoming-events");var i=n.one(".items");var r=e.getPastEvents();a.toggleClass("hidden",0===r.length);l.Array.each(r,function(e){this.add({item:e,render:s,"strings.typeName":c("event")})},this);var o=e.getUpcomingEvents();n.toggleClass("hidden",0===o.length);o=o.reverse();l.Array.each(o,function(e){this.add({item:e,render:i})},this)}}},{CSS_PREFIX:"sqs-event-list-view",TEMPLATE:'<div class="upcoming-events events-list"><header class="events-header">'+c("Upcoming Events")+'</header><div class="items"></div></div><div class="past-events events-list"><header class="events-header">'+c("Past Events")+'</header><div class="items"></div></div>',ATTRS:{defaultChildType:{value:l.Squarespace.Widgets.Blog.ItemView},model:{getter:function(){return this.get("collection")}}}})},"1.0",{requires:["base","squarespace-util-authenticated","squarespace-widgets-blog-item-view","squarespace-widgets-list-selectable-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/flow-dialog.js":function(e,t){YUI.add("squarespace-widgets-flow-dialog",function(t){t.namespace("Squarespace.Widgets");var e=t.Squarespace.Widgets.FlowDialog=t.Base.create("FlowDialog",t.Squarespace.SSWidget,[t.WidgetParent],{initializer:function(){this.publish("completed",{emitFacade:true});this.publish("closed",{emitFacade:true})},destructor:function(){this._flow.destroy();this._flow=null;this._overlay.remove(true);this._overlay=null},renderUI:function(){this.get("boundingBox").setStyles({marginLeft:-1*this.get("width")/2});e.superclass.renderUI.call(this);this._overlay=t.one("body").appendChild('<div class="flow-dialog-overlay"></div>');this._renderFrameTransitioner();t.Squarespace.EscManager.addTarget(this);this._registerTimer(t.later(50,this,function(){this.get("boundingBox").addClass("shown");this._overlay.setStyle("opacity",this.get("overlay"))}))},bindUI:function(){e.superclass.bindUI.call(this);this._bindButtons();this._bindBackArrow()},_renderFrameTransitioner:function(){var e=this.get("contentBox").one(".flow-widget");this._flow=new t.Squarespace.Widgets.FrameTransitioner({render:e,height:this.get("height")-100,width:this.get("width")-66,frames:this.get("frames")})},_bindButtons:function(){var e=this.get("contentBox").one(".next");var t=this.get("contentBox").one(".cancel");e.on("click",this._flow.next,this._flow);t.on("click",this.close,this);this._flow.on("completed",function(e){e.halt();this.fire("completed")},this);this._flow.after("currentFrameChange",function(e){e.newVal===this._flow.get("frames").length-1?this.get("contentBox").one(".next").setHTML("Save"):this.get("contentBox").one(".next").setHTML("Next");e.newVal<1?this._setBackArrowVisible(false):this._setBackArrowVisible(true)},this)},_bindBackArrow:function(){var e=this.get("contentBox").one(".back-arrow");e.on("click",this._flow.previous,this._flow)},_setBackArrowVisible:function(e){var t=this.get("contentBox").one(".back-arrow");t.toggleClass("hidden",!e)},close:function(){t.Squarespace.EscManager.removeTarget(this);this._flow.hideErrors();this.get("boundingBox").removeClass("shown");this._overlay.setStyle("opacity",0);this.fire("closed");this._registerTimer(t.later(500,this,function(){this.destroy()}))},showErrors:function(e){this._flow.showErrors(e)},getData:function(){return this._flow.getData()},_getHBTemplateContext:function(){return{damask:true}}},{CSS_PREFIX:"sqs-widgets-flow-dialog",HANDLEBARS_TEMPLATE:"widgets-flow-dialog.html",ATTRS:{frames:{value:[],writeOnce:"initOnly"},overlay:{value:0,writeOnce:"initOnly"}}})},"1.0",{requires:["base","squarespace-escmanager","squarespace-ss-widget","squarespace-widgets-flow-dialog-template","squarespace-widgets-frame-transitioner","widget-parent"]})},"./src/main/webapp/universal/scripts-v6/widgets/frame-transitioner.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-frame-transitioner",function(r){r.namespace("Squarespace.Widgets");var e=r.Squarespace.Widgets.FrameTransitioner=r.Base.create("FrameTransitioner",r.Squarespace.SSWidget,[r.WidgetChild],{initializer:function(){this.publish("completed",{emitFacade:true});this._childWidgets=[]},destructor:function(){this.hideErrors();r.Array.invoke(this._childWidgets,"destroy",true);this._multiFrame=null},renderUI:function(){e.superclass.renderUI.call(this);this._renderMultiframe();this._renderTitles();this._setFrame(this.get("currentFrame"))},bindUI:function(){e.superclass.bindUI.call(this);this._registerEvent(this.on("currentFrameChange",function(e){this._setFrame(e.newVal)},this))},_renderTitles:function(){var t=this.get("contentBox").one(".titles");var e=this.get("frames").map(function(e){return false,e.title});e.forEach(function(e){t.append('<div class="title hidden">'+e+"</div>")})},_renderMultiframe:function(){var e=this.get("contentBox").one(".frames");var n={width:this.get("width"),render:e,name:"frames",frames:[]};var i={};r.Array.each(this.get("frames"),function(e,t){var a={name:t,scroll:"auto",fields:e.fields};n.frames.push(a);var s=r.Array.filter(e.fields,function(e){return r.Lang.isValue(e.config.name)});s=r.Array.map(s,function(e){return e.config.name});i[t]=s});this._frameToFieldsMap=i;this._multiFrame=new r.Squarespace.DialogFields.MultiFrame(n);this._childWidgets.push(this._multiFrame)},_setFrame:function(e){this.hideErrors();this._multiFrame.switchFrames(e);this._setProgessCounter(e+1);this._setActiveTitle(e)},_setProgessCounter:function(e){var t=this.get("contentBox").one(".progress-counter");var a=this.get("frames").length;t.setHTML(s("{i} of {total}",{i:e,total:a}))},_setActiveTitle:function(e){var t=this.get("contentBox").all(".title");t.item(this.get("currentFrame")).toggleClass("hidden",true);t.item(e).toggleClass("hidden",false)},next:function(){var e=this.get("currentFrame");var t=this._validateFieldsOnFrame(e);if(r.Object.isEmpty(t)){var a=e+1;var s=this.get("frames").length;a<s?this.set("currentFrame",a):this.fire("completed")}else this.showErrors(t)},_validateFieldsOnFrame:function(e){var t=this._frameToFieldsMap[e];var s={};r.Array.each(t,function(t){var e=this._multiFrame.getField(t);if(r.Lang.isFunction(e.getErrors)){var a=e.getErrors();r.Array.each(a,function(e){s[t]=e})}},this);return s},previous:function(){var e=this.get("currentFrame")-1;e>=0&&this.set("currentFrame",e)},showErrors:function(s){var e=Number.MAX_VALUE;var t=[];for(var a in s){var n=this._getContainingFrame(a);if(-1!==n){n<e&&(e=n);t.contains(n)||t.push(n)}}if(e!==Number.MAX_VALUE){this._setFrame(e);this._registerTimer(r.later(250,this,function(){this._showErrorsOnFrame(e,s)}))}var i=this;t.forEach(function(t){if(t!==e)var a=i.after("currentFrameChange",function(e){if(e.newVal===t){i._registerTimer(r.later(250,i,function(){i._showErrorsOnFrame(t,s)}));a.detach()}})})},hideErrors:function(){r.Squarespace.FormUtils.hideErrors(this._multiFrame._items)},_getContainingFrame:function(e){var t=-1;for(var a in this._frameToFieldsMap)if(this._frameToFieldsMap[a].contains(e)){t=parseInt(a,10);break}return t},_showErrorsOnFrame:function(e,t){var a=this;this._frameToFieldsMap[e].forEach(function(e){t[e]&&a._multiFrame.getField(e).showError(t[e])})},_hideErrorsOnFrame:function(e){var t=this;this._frameToFieldsMap[e].forEach(function(e){t._multiFrame.getField(e).hideError()})},getData:function(){return r.Squarespace.FormUtils.getData(this._multiFrame._items)}},{CSS_PREFIX:"sqs-widgets-frame-transitioner",HANDLEBARS_TEMPLATE:"widgets-frame-transitioner.html",ATTRS:{currentFrame:{value:0},frames:{value:{}}}})},"1.0",{requires:["array-invoke","base","squarespace-dialog-multi-frame","squarespace-form-utils","squarespace-ss-widget","squarespace-widgets-frame-transitioner-template"]})},"./src/main/webapp/universal/scripts-v6/widgets/infinite-scroll/infinite-scroll-list.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-infinite-scroll-list",function(a){a.namespace("Squarespace.Widgets");var o=a.Squarespace.Widgets.InfiniteScrollList=a.Base.create("InfiniteScrollList",a.Squarespace.Widgets.SSWidget,[a.WidgetParent,a.Squarespace.Mixins.Loadable],{destructor:function(){this._childrenContainer=null},renderUI:function(){o.superclass.renderUI.call(this);var e=this.get("contentBox");this._childrenContainer=e.one(".children-wrapper");var t=e.one(".spinner-wrapper");t&&new a.Squarespace.Spinner({render:t,size:40,color:"dark"})},bindUI:function(){o.superclass.bindUI.call(this);this._bindModels();this.after("modelsChange",function(e){e.preVal&&e.preVal.detach();this._bindModels();this.syncUI()});var e=this.get("scrollingElement")||this.get("contentBox");e.plug(a.Plugin.ScrollInfo);e.scrollInfo.on("scrollDown",function(e){this._loadMoreIfAtBottom()},this)},syncUI:function(){o.superclass.syncUI.call(this);var e=this.get("models");var t=e.isEmpty();var a=this.get("loading");var s=e.get("hasNextPage");var n=this.get("contentBox");var i=n.one(".no-models");if(i){if(t&&!a){this._syncEmptyState();i.show()}else i.hide();s||a||t?n.one(".no-more-models").hide():n.one(".no-more-models").show()}var r=n.one(".spinner-wrapper");r&&(a?r.show():r.hide());this._loadMoreIfAtBottom()},_getHBTemplateContext:function(){var e=o.superclass._getHBTemplateContext.call(this);return a.merge(e,{emptyStateIconSrc:this.get("emptyStateIconSrc"),noMoreModelsToLoad:this.get("strings.noMoreModelsToLoad")})},_syncEmptyState:function(){var e=this.get("contentBox").one(".no-models-text");e.set("text",this.getEmptyStateMessage())},getEmptyStateMessage:function(){return s("There are no items.")},_bindModels:function(){var e=this.get("models");this._registerEvent([e.after("add",function(e){this._addWidgetForModel(e.model,e.index)},this),e.after("remove",function(e){var t=this.remove(e.index);t.destroy(true);this.syncUI()},this),e.after("reset",function(e){var t=this.removeAll();t.each(function(e){e.destroy(true)});this.syncUI()},this)])},_addWidgetForModel:function(e,t){1===this.get("selected")&&this.set("selected",2);this.add({model:e},t)},_loadMoreIfAtBottom:function(){var e=this.get("models");if(this.get("loading")||!e.get("hasNextPage")||e.get("lastError"))return;var t=this.get("scrollingElement")||this.get("contentBox");t.scrollInfo.refreshDimensions();t.scrollInfo.set("scrollMargin",t.get("clientHeight")/2);var a=t.scrollInfo.getScrollInfo();a.atBottom&&e.loadMore()}},{CSS_PREFIX:"sqs-model-list",HANDLEBARS_TEMPLATE:"widgets-infinite-scroll-list.html",ATTRS:{models:{valueFn:function(){return new a.Squarespace.Models.GrowableModelList},validator:a.Squarespace.AttrValidators.isInstanceOf(a.Squarespace.Models.GrowableModelList)},"strings.noMoreModelsToLoad":{value:s("No more models to load.")},emptyStateIconSrc:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"},loadable:{getter:function(){return this.get("models")},readOnly:true},scrollingElement:{},defaultChildType:{value:a.Squarespace.Widgets.Model,writeOnce:"initOnly"}}})},"1.0",{requires:["node-scroll-info","squarespace-attr-validators","squarespace-mixins-loadable","squarespace-models-growable-model-list","squarespace-spinner","squarespace-ss-widget","squarespace-widgets-infinite-scroll-list-template","squarespace-widgets-model","squarespace-widgets-model-list","widget-parent"]})},"./src/main/webapp/universal/scripts-v6/widgets/inline-select.js":function(e,t){YUI.add("squarespace-widgets-inline-select",function(s){s.namespace("Squarespace.Widgets");var n=s.Squarespace.Widgets.InlineSelect=s.Base.create("InlineSelect",s.Squarespace.Widgets.DataWidget,[],{renderUI:function(){n.superclass.renderUI.call(this);var a=this.get("contentBox");s.Array.each(this.get("options"),function(e){var t=s.Node.create('<span class="inline-select-option">'+e.label+"</span>");t.setData("option",e);a.append(t)})},bindUI:function(){n.superclass.bindUI.call(this);this.get("contentBox").delegate("mouseenter",function(e){e.currentTarget.addClass("expanded")},".sqs-inline-select-content");this.get("contentBox").delegate("mouseleave",function(e){e.currentTarget.removeClass("expanded")},".sqs-inline-select-content");this.get("contentBox").delegate("click",function(e){var t=e.currentTarget.getData("option");this.set("data",t.value);this.get("contentBox").removeClass("expanded")},".inline-select-option",this)},syncUI:function(){n.superclass.syncUI.call(this);var e=this.get("contentBox").all(".inline-select-option");var t=this.get("data");var a;e.each(function(e){e.removeClass("selected");e.getData("option").value===t&&(a=e)});a&&a.addClass("selected")}},{CSS_PREFIX:"sqs-inline-select",ATTRS:{options:{value:[],validator:s.Squarespace.AttrValidators.isArray,writeOnce:"initOnly"}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-widgets-data-widget"]})},"./src/main/webapp/universal/scripts-v6/widgets/inventory-editor-manager.js":function(e,t,a){var i=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var r=a("./common/temp/node_modules/alt-utils/lib/ActionListeners.js");var o=a("./common/temp/node_modules/lodash/isNil.js");var l=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Inventory/screens/components/EditProductModal/ProductDialogActions.ts");YUI.add("squarespace-widgets-inventory-editor-manager",function(e){var t=new r(i);var n=function(){var a=new e.Squarespace.Widgets.InventoryEditor;a.once("duplicate",function(e){var t=n();a.destroy();t.attachEditorEventListeners(e);l.commerceDuplicateProduct(e.get("model").toJSON())});a.once("savingClose",function(e){a.destroy();l.commerceSaveProduct(e.item)});a.once("nonSavingClose",function(){a.destroy();l.commerceCloseCreateProductDialog()});return a};var a=function(e){var t;var a;if(e&&"object"===typeof e){t=e.productId;a=e.zIndex}else t=e;var s=n();o(t)?s.showInventoryEditor():s.showInventoryEditorForProduct(t,a).then(function(){l.commerceCreateProductDialogShown()})};var s=function(e){var t=n();t.chooseProductTypeForCollection(e)};t.addActionListener(l.COMMERCE_OPEN_CREATE_PRODUCT_DIALOG,a);t.addActionListener(l.COMMERCE_OPEN_CHOOSE_PRODUCT_TYPE,s)},"1.0",{requires:["squarespace-widgets-inventory-editor"]})},"./src/main/webapp/universal/scripts-v6/widgets/inventory-editor.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var i=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");var s=a("./src/main/webapp/universal/packages/enums/CollectionOrdering.js");var c=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js");var r=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var o=a("./src/main/webapp/universal/packages/enums/Features.js");var u=a("./src/main/webapp/universal/src/apps/App/shared/stores/FeaturesStore.js");var d=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackProductEditor.ts");var p=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/mapProductTypeToString.ts");var m=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/types.ts");var l=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/ProductDialog/WrappedProductComposer/index.tsx");var h=l.shouldShowProductComposer;var v=l.ProductCreationWizard;var g=l.buildShellContentItem;YUI.add("squarespace-widgets-inventory-editor",function(l){l.namespace("Squarespace.Widgets");l.Squarespace.Widgets.InventoryEditor=l.Base.create("InventoryEditor",l.Widget,[],{initializer:function(){var e=["savingClose","nonSavingClose"];l.Array.each(e,function(e){this.publish(e,{emitFacade:true,broadcast:2})},this)},destructor:function(){this.detachAll()},attachEditorEventListeners:function(e){var t=this;e.once("duplicate",function(e){t.fire("duplicate",e)});e.onceAfter("savingClose",function(){t.fire("savingClose",{item:this.get("model").getAttrs()})});e.onceAfter("nonSavingClose",function(){t.fire("nonSavingClose")})},showInventoryEditorForProduct:function(e,i){d.trackClickEditProduct("collection-panel");var r=new l.Squarespace.Models.ContentItem({id:e});return new l.Promise(function(n){r.load(function(){var e=r.get("collectionId");var t=l.Squarespace.ContentCollectionCache.getById(e);t&&!t.ordering&&t.load();var a=l.Squarespace.ContentItemEditorFactory.getEditor(r);var s=new a({model:r});s.get("editorConfiguration").zIndex=i;this.attachEditorEventListeners(s);s.show();n()}.bind(this))}.bind(this))},chooseProductTypeForCollection:function(e,t){var a=l.Squarespace.ContentCollectionCache;a.getCollectionById(e,function(e){this._addProductToCollection(e,t)}.bind(this))},showInventoryEditor:function(t){var a=this._createCollectionSelectDialog();var s=0;l.Squarespace.ContentCollectionCache.filter(function(e){e.get("type")!==i.PRODUCTS||e.get("isDemoCollection")||s++});if(0===s){new l.Squarespace.Widgets.Confirmation({position:l.Squarespace.Widgets.Confirmation.ANCHOR.CENTER,"strings.title":n("No Product Pages"),"strings.message":n("Before you can add products, you need to first make a Product Page to hold them."),"strings.confirm":n("Go to Pages")}).after("confirm",function(){l.Squarespace.Singletons.Location.go("/pages")});return}a.after("datachange",function(){a.temporaryHide();var e=a.getData().collectionId;this.chooseProductTypeForCollection(e,t)}.bind(this));a.onceAfter("close",function(){this.fire("nonSavingClose")}.bind(this));if(h()){this._wrappedProductCreationWizard||(this._wrappedProductCreationWizard=new v({onRequestClose:function(){this._wrappedProductCreationWizard.close();this._wrappedProductCreationWizard.destroy();this.fire("nonSavingClose")}.bind(this),onProductCreated:function(e){var t=new l.Squarespace.Models.ContentItem(g(e));var a=l.Squarespace.ContentItemEditorFactory.getEditor(t);var s=new a({model:t});this.attachEditorEventListeners(s);s.show();this._wrappedProductCreationWizard.close();this._wrappedProductCreationWizard.destroy()}.bind(this)}));this._wrappedProductCreationWizard.show();return}a.show()},_createCollectionSelectDialog:function(){var e=[];u.isFeatureGated(o.COMMERCE)&&e.push({ctor:l.Squarespace.DialogFields.FeatureGateMenu,config:{learnMoreUrl:r.PREMIUM_FEATURES,analyticsId:"commerce-add-product-dialog",feature:o.ADD_COMMERCE_PRODUCTS}});e.push({ctor:l.Squarespace.DialogFields.Description,config:{title:n("Select a Page"),text:n("Select a page to put your new product into.")}});e.push({ctor:l.Squarespace.DialogFields.ContentIdSelector,config:{name:"collectionId",mode:"page",showCollectionTagsAndCategories:false,showGroupTitles:false,emptyMessage:n("Before you can add products, you need to create a Product Page to hold them. "),className:"inventory-collection-picker",collectionFilter:{collectionType:i.PRODUCTS,ordering:s.USER,folder:false}}});return new l.Squarespace.EditingDialog({name:"inventoryAddProductCollectionSelect",overlay:.5,width:500,height:300,scroll:true,style:"flyout",closeOthers:false,buttons:[{type:"cancel",title:n("Cancel")}],discardChangesConfirmation:false,tabs:[{title:n("Add Product"),name:"addProduct",icon:"/universal/images-v6/icons/icon-plus-16-light.png",scroll:true,fields:e}]})},_addProductToCollection:function(i,r){d.trackClickAddProduct("collection-panel");d.trackSelectStore(m.ProductEditor.YUI_EDITOR);var o=this;var e=new l.Squarespace.ContentItemTypes.Selector({model:new l.Model(c.getState().collectionConfigs.products),onContentItemTypeSelected:function(e,t){var a=new l.Squarespace.Models.ContentItem({collectionId:i.get("id"),displayIndex:i.get("nextDisplayIndex"),recordType:l.Squarespace.RecordType.STORE_ITEM,structuredContent:e.structuredContent});i.items.add(a);d.trackSelectProductType(p(a.getAttrs().structuredContent.getAttrs().productType),m.ProductEditor.YUI_EDITOR);var s=l.Squarespace.ContentItemEditorFactory;var n=new(s.getEditor(a))({model:a});n.onceAfter("savingClose",function(){o.fire("savingClose",{item:a.getAttrs()})});n.onceAfter("nonSavingClose",function(){o.fire("nonSavingClose")});a.after("save",function(e){var t=e.options.headers;if(l.Lang.isValue(t)&&t["X-AutoSave"])return;i.items.add(a);r&&r.add(a)});l.Lang.isFunction(t)&&t();n.show()}});e.get("dialog").onceAfter("overlay-click",function(){this.fire("nonSavingClose")}.bind(this));i.load(function(){l.Squarespace.ProductViolations.isAllowedToAddItemToCollection(i,1).then(function(){e.show()})})}},{CSS_PREFIX:"sqs-inventory-editor",ATTRS:{}})},"1.0",{requires:["base","promise","squarespace-commerce-utils","squarespace-content-item-types-editor","squarespace-content-item-types-selector","squarespace-dialog","squarespace-dialog-feature-gate-menu","squarespace-enum","squarespace-models-content-collection","squarespace-models-content-item","squarespace-singletons-location","squarespace-ui-base","squarespace-upsell-product-violations","squarespace-util","squarespace-widgets-confirmation"]})},"./src/main/webapp/universal/scripts-v6/widgets/model-backed-field-editor.js":function(e,t){YUI.add("squarespace-widgets-model-backed-field-editor",function(r){r.namespace("Squarespace.Widgets");var e=r.Squarespace.Widgets.ModelBackedFieldEditor=r.Base.create("ModelBackedFieldEditor",r.Squarespace.Widgets.SettingsPanel,[],{initializer:function(){this._loadAndSetDataOnFields();this.publish("data-initialized");this.on("data-initialized",function(){this.get("boundingBox").addClass("data-initialized")})},destructor:function(){this.get("destroyModel")&&this.get("model").destroy()},bindUI:function(){e.superclass.bindUI.call(this);this.after("dataStateChange",this._syncLoadingIndicators,this)},syncUI:function(){e.superclass.syncUI.call(this);this._syncLoadingIndicators()},_syncLoadingIndicators:function(){this._headerTray.set("loading",this.isLoading())},_loadAndSetDataOnFields:function(){this.setLoadingState();this.get("model").load(this._registerCallback(function(){this.setLoadedState();this.get("rendered")&&this.syncUI();this.fire("data-initialized")},this))},_getDataByKey:function(e){var t=this.get("data");if(e.indexOf(".")>0){var a=e.split(".");var s=a[0];var n=a[1];return t[s][n]}return t[e]},_instantiateField:function(e,t){if(r.Lang.isString(t.name)){var a=this._getDataByKey(t.name);r.Lang.isValue(a)&&(t.data=a)}var s=new e(t);if(r.Lang.isString(t.name)){var n={source:r.guid()};this._bindFieldToModelEvents(s,t.name,n);this._bindModelToFieldEvents(s,t.name,n)}return s},_bindFieldToModelEvents:function(e,t,a){this._registerEvent(e.after("dataChange",function(e){if(e.source===a.source)return;this.get("model").set(t,e.newVal,a)},this))},_bindModelToFieldEvents:function(t,e,a){if(e.indexOf(".")>0){var s=e.split(".");var n=s[0];var i=s[1];this._registerEvent(this.get("model").after(n+"Change",function(e){if(e.source===a.source)return;r.Lang.isValue(e.newVal[i])&&t.set("data",e.newVal[i],a)},this))}else this._registerEvent(this.get("model").after(e+"Change",function(e){if(e.source===a.source)return;t.set("data",e.newVal,a)},this))},_getData:function(){return this.get("model").toJSON()},_saveChanges:function(){return new r.Squarespace.Promises.create(function(s,n){var e=r.Squarespace.FormUtils.validate(this._renderedFields);if(!r.Object.isEmpty(e)){this.fire("saved-changes-client-error");r.Squarespace.FormUtils.showErrors(this._renderedFields,e);n({errors:e});return}this.setLoadingState();this.get("model").save(r.bind(function(e){var t=r.Object.getValue(e,["responseJSON","errors"]);var a=r.Object.getValue(e,["code"])>=400;if(r.Lang.isValue(t)&&!r.Object.isEmpty(t)){this.showErrors(t);this.fire("saved-changes-failed");n(t)}else if(a){this.fire("saved-changes-server-error");n({response:e})}else{this.markAsClean();this.fire("saved-changes");s()}this.setLoadedState()},this))},this)},_revertChanges:function(){return new r.Squarespace.Promises.create(function(e,t){this.setLoadingState();this.get("model").load(this._registerCallback(function(){this.fire("revert-changes");this.markAsClean();this.setLoadedState();this.syncUI();e()},this))},this)},showErrors:function(e){r.Squarespace.FormUtils.showErrors(this._renderedFields,e)}},{CSS_PREFIX:"sqs-model-backed-field-editor",ATTRS:{model:{},data:{getter:function(){return this._getData()}},destroyModel:{value:true,validator:r.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-form-utils","squarespace-promises","squarespace-settings-panel"]})},"./src/main/webapp/universal/scripts-v6/widgets/model-list-header.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-model-list-header",function(a){a.namespace("Squarespace.Widgets");var t=a.Squarespace.Widgets.ModelListHeader=a.Base.create("ModelListHeader",a.Squarespace.Widgets.SSWidget,[],{initializer:function(){this.get("models").after("load",this._updateControlsVisibility,this)},renderUI:function(){t.superclass.renderUI.call(this);var e=this.get("contentBox");this._renderInlineSelect();this._tabDescriptionNode=e.one(".tab-description");this._syncCurrentTab()},bindUI:function(){t.superclass.bindUI.call(this);this._tabSelect&&this._tabSelect.after("dataChange",function(e){this._set("currentTab",this._getTabByName(e.newVal))},this);this.get("contentBox").delegate("click",this._onActionButtonClick,".action-button",this);this.after("currentTabChange",this._syncCurrentTab,this)},_renderInlineSelect:function(){var e=this.get("tabs");if(1===e.length)return;this._tabSelect=new a.Squarespace.Widgets.InlineSelect({render:this.get("contentBox").one(".tab-select-container"),options:a.Array.map(e,function(e){return{label:e.title,value:e.name}})})},_syncCurrentTab:function(){var e=this.get("currentTab");var t=e.name;this._tabSelect&&this._tabSelect.set("data",t);this._tabDescriptionNode.setHTML(e.description)},_onTabSelectorClick:function(e){var t=e.target.getAttribute("data-name");if(this.get("currentTab").name===t)return;this._set("currentTab",this._getTabByName(t))},_onActionButtonClick:function(e){var t=e.target.getAttribute("data-name");var a=this._getActionButtonByName(t);e.stopPropagation();a.action.call()},_getTabByName:function(t){return a.Array.filter(this.get("tabs"),function(e){return e.name===t},this)[0]},_getActionButtonByName:function(t){return a.Array.filter(this.get("actionButtons"),function(e){return e.name===t},this)[0]},_updateControlsVisibility:function(){},_getHBTemplateContext:function(){var e=t.superclass._getHBTemplateContext.call(this);e.isSingleTab=1===e.tabs.length;e.hasActionButtons=e.actionButtons.length>0;return e}},{CSS_PREFIX:"sqs-model-list-header",HANDLEBARS_TEMPLATE:"widgets-model-list-header.html",ATTRS:{models:{valueFn:function(){return new a.Squarespace.Models.ModelList},validator:a.Squarespace.AttrValidators.isInstanceOf(a.Squarespace.Models.ModelList),writeOnce:"initOnly"},tabs:{value:[{name:"first",title:s("First Tab"),description:""}],validator:function(e){if(!a.Lang.isArray(e)||0===e.length){console.error('ModelListHeader: Invalid "tabs" attribute. Must be a non-empty array.');return false}return true},writeOnce:"initOnly"},currentTab:{valueFn:function(){return this.get("tabs")[0]},validator:a.Squarespace.AttrValidators.isObject,readOnly:true},actionButtons:{value:[],validator:a.Squarespace.AttrValidators.isArray,writeOnce:"initOnly"},strings:{value:{title:s("Models")},validator:function(e){if(!a.Lang.isObject(e)){console.error('ModelListHeader: Invalid "strings" attribute. Must be an object.');return false}if(!a.Object.hasKey(e,"title")){console.error('ModelListHeader: Invalid "strings" attribute. Must have key "title".');return false}return true},writeOnce:"initOnly"}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-model-list","squarespace-ss-widget","squarespace-widgets-inline-select","squarespace-widgets-model-list-header-template"]})},"./src/main/webapp/universal/scripts-v6/widgets/model-list-label-bar.js":function(e,t){YUI.add("squarespace-widgets-model-list-label-bar",function(a){a.namespace("Squarespace.Widgets");var e=a.Squarespace.Widgets.ModelListLabelBar=a.Base.create("ModelListLabelBar",a.Squarespace.Widgets.SSWidget,[],{renderUI:function(){e.superclass.renderUI.call(this);var t=this.get("contentBox");a.Array.each(this.get("labels"),function(e){t.append(a.Lang.sub('<div class="label {name}">{label}</div>',e))})},bindUI:function(){e.superclass.bindUI.call(this);this.after("stringsChange",this.syncUI,this)},syncUI:function(){e.superclass.syncUI.call(this)}},{CSS_PREFIX:"sqs-model-list-label-bar",ATTRS:{labels:{validator:a.Squarespace.AttrValidators.isArray},strings:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/widgets/model-list-manager.js":function(e,t){YUI.add("squarespace-widgets-model-list-manager",function(n){n.namespace("Squarespace.Widgets");var a=n.Squarespace.Widgets.ModelListManager=n.Base.create("ModelListManager",n.Squarespace.Widgets.SSWidget,[],{destructor:function(){this.get("header").destroy();this.get("body").destroy()},renderUI:function(){a.superclass.renderUI.call(this);var e=this.get("contentBox");this._headerNode=e.appendChild('<div class="manager-header"></div>');this._shadowNode=this._headerNode.appendChild('<div class="shadow"></div>');this._modelsNode=e.appendChild('<div class="manager-models"></div>')},bindUI:function(){a.superclass.bindUI.call(this);var e=n.one(n.config.win);var t=this.get("id");e.on(t+"|scroll",this._updateHeaderShadow,this)},_updateHeaderShadow:function(){var e=n.one(n.config.win).get("scrollTop");var t=100;var a=Math.min(e/t,.4);this._shadowNode.setStyle("opacity",a)},_createHeader:function(){var e=this.get("constructors.header");var t=n.merge({models:this.get("models")},this.get("constructorConfigs.header"));return new e(t)},_createBody:function(){var e=this.get("constructors.body");var t=n.merge({models:this.get("models")},this.get("constructorConfigs.body"));return new e(t)}},{CSS_PREFIX:"sqs-model-list-manager",ATTRS:{constructors:{value:{models:n.Squarespace.Models.ModelList,header:n.Squarespace.Widgets.ModelListHeader,body:n.Squarespace.Widgets.ModelList},validator:function(t){if(!n.Lang.isObject(t)){console.error('ModelListManager: Invalid "constructors" attribute. Must be an object.');return false}var e=["models","header","body"];var a=n.Array.filter(e,function(e){return!n.Object.hasKey(t,e)});if(a.length>0){var s=a.join(", ");console.error('ModelListManager: Invalid "constructors" attribute. Missing '+s+".");return false}return true}},constructorConfigs:{value:{models:{},header:{},body:{}},validator:function(t){if(!n.Lang.isObject(t)){console.error('ModelListManager: Invalid "constructorConfigs" attribute. Must be an object.');return false}var e=["models","header","body"];var a=n.Array.filter(e,function(e){return!n.Object.hasKey(t,e)});if(a.length>0){var s=a.join(", ");console.error('ModelListManager: Invalid "constructorConfigs" attribute. Missing '+s+".");return false}return true},writeOnce:"initOnly"},models:{valueFn:function(){var e=this.get("constructors.models");var t=this.get("constructorConfigs.models");return new e(t)},validator:n.Squarespace.AttrValidators.isInstanceOf(n.Squarespace.Models.ModelList),writeOnce:"initOnly"},header:{valueFn:"_createHeader",validator:n.Squarespace.AttrValidators.isInstanceOf(n.Squarespace.Widgets.ModelListHeader),readOnly:true},body:{valueFn:"_createBody",validator:function(e){return e instanceof n.Squarespace.Widgets.ModelList||e instanceof n.Squarespace.Widgets.InfiniteScrollList},readOnly:true}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-model-list","squarespace-ss-widget","squarespace-widgets-model-list","squarespace-widgets-model-list-header"]})},"./src/main/webapp/universal/scripts-v6/widgets/model-list-search.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-model-list-search",function(n){n.namespace("Squarespace.Widgets");var i=n.Squarespace.Widgets.ModelListSearch=n.Base.create("ModelListSearch",n.Squarespace.Widgets.SSWidget,[],{initializer:function(){this._textField=new n.Squarespace.DialogFields.Text({name:"searchQuery",className:"thin","strings.placeholder":this.get("strings.placeholder"),submitOnEnter:this.get("submitOnEnter")})},destructor:function(){this._textField.destroy();this._textField=null},renderUI:function(){i.superclass.renderUI.call(this);var e=this.get("contentBox");this._textField.render(e);e.append('<div class="search-icon"></div>');this._clearButton=e.appendChild('<div class="clear-button">&times;</div>')},bindUI:function(){i.superclass.bindUI.call(this);var t=this.get("models");var a=this._textField;var s;this._registerEvent(a.after("dataChange",function(e){this.fire("dataChange");if("searchQueryChange"!==e.source){s&&s.cancel();s=n.later(200,this,function(){t.set("searchQuery",e.newVal)})}this.syncUI()},this));this._registerEvent(a.after("submit",function(e){this.fire("submit")},this));this._registerEvent(t.after("searchQueryChange",function(e){a.set("data",e.newVal,{source:"searchQueryChange"})},this));this._registerEvent(this.after("stringsChange",function(){this._textField.set("strings.placeholder",this.get("strings.placeholder"))},this));this._registerEvent(this._clearButton.on("click",function(){a.set("data",null)}))},syncUI:function(){i.superclass.syncUI.call(this);var e=this._textField.get("data");var t=n.Lang.isValue(e)&&""!==e;this.get("contentBox").toggleClass("has-data",t)}},{CSS_PREFIX:"sqs-model-list-search",ATTRS:{models:{valueFn:function(){return new n.Squarespace.Models.ModelList},validator:n.Squarespace.AttrValidators.isNullOrInstanceOf(n.Squarespace.Models.ModelList),writeOnce:"initOnly"},data:{setter:function(e,t){this._textField.set("data",e)},getter:function(){return this._textField.get("data")}},submitOnEnter:{value:false},strings:{value:{placeholder:s("Search")},validator:function(e){if(!n.Lang.isObject(e)){console.error('ModelListHeader: Invalid "strings" attribute. Must be an object.');return false}if(!n.Object.hasKey(e,"placeholder")){console.error('ModelListHeader: Invalid "strings" attribute. Must have key "placeholder".');return false}return true}}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-dialog-text","squarespace-models-model-list","squarespace-ss-widget"]})},"./src/main/webapp/universal/scripts-v6/widgets/model-list.js":function(e,t,a){var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-model-list",function(s){s.namespace("Squarespace.Widgets");var e=s.Squarespace.Widgets.ModelList=s.Base.create("ModelList",s.Squarespace.Widgets.SSWidget,[s.WidgetParent,s.Squarespace.Mixins.Loadable],{destructor:function(){this._loadingTimer&&this._loadingTimer.cancel()},bindUI:function(){e.superclass.bindUI.call(this);this._bindModels();this.after("modelsChange",function(){this._bindModels();this.syncUI()},this)},syncUI:function(){e.superclass.syncUI.call(this);this.get("loading")?this._renderLoadingState():this._renderLoadedState()},_bindModels:function(){var t=this.get("models");this._registerEvent([t.after("add",function(e){1===t.size()&&this._empty();this._addWidgetForModel(e.model)},this),t.after("remove",function(e){this._removeWidgetForModel(e.model);t.isEmpty()&&this._renderEmptyState()},this),t.after("reset",this._renderLoadedState,this)])},_renderLoadingState:function(){this._loadingTimer&&this._loadingTimer.cancel();this._loadingTimer=s.later(500,this,function(){this._empty();new s.Squarespace.Spinner({render:this.get("contentBox"),size:44,color:"dark"})})},_renderLoadedState:function(){this._loadingTimer&&this._loadingTimer.cancel();this._empty();var e=this.get("models");e.isEmpty()?this._renderEmptyState():e.each(this._addWidgetForModel,this)},_renderEmptyState:function(){var e=this.get("emptyStateIconSrc");var t=this.get("strings.modelName")+"s";var a=s.Node.create('<div class="no-models"></div>');s.Lang.isValue(e)&&""!==e&&a.append('<img class="icon large" src="'+e+'" />');a.append('<div class="no-models-text">'+this.getEmptyStateMessage(t)+"</div>");this.get("contentBox").append(a)},getEmptyStateMessage:function(e){return n("There are no {modelText}.",{modelText:e})},_empty:function(){var e=this.removeAll();e.each(function(e){e.destroy()});this._childrenContainer.empty()},_addWidgetForModel:function(e){var t=this.get("models").indexOf(e);this.add({model:e},t)},_removeWidgetForModel:function(t){var a;var e=this.some(function(e){if(e.get("model")===t){a=e;return true}});e&&a.destroy()}},{CSS_PREFIX:"sqs-model-list",ATTRS:{models:{valueFn:function(){return new s.Squarespace.Models.ModelList},validator:s.Squarespace.AttrValidators.isInstanceOf(s.Squarespace.Models.ModelList)},emptyStateIconSrc:{value:null,validator:s.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"},loadable:{getter:function(){return this.get("models")},readOnly:true},strings:{value:{modelName:"model"},validator:function(e){if(!s.Lang.isObject(e)){console.error('ModelList: Invalid "strings" attribute. Must be an object.');return false}if(!s.Object.hasKey(e,"modelName")){console.error('ModelList: Invalid "strings" attribute. Must have key "modelName".');return false}return true},writeOnce:"initOnly"},defaultChildType:{value:s.Squarespace.Widgets.Model,writeOnce:"initOnly"}}})},"1.0",{requires:["base","event-custom","squarespace-attr-validators","squarespace-mixins-loadable","squarespace-models-model-list","squarespace-spinner","squarespace-ss-widget","squarespace-widgets-model","widget-parent"]})},"./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-collection/item-view.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;var l=a("./src/main/webapp/universal/src/apps/App/shared/stores/TemplateStore.js");var n=a("./src/main/webapp/universal/src/shared/utils/dateFormat.js");var c=a("./src/main/webapp/universal/packages/enums/CollectionTypes.js");YUI.add("squarespace-widgets-recycle-bin-content-collection-item-view",function(o){o.namespace("Squarespace.Widgets.RecycleBin");var t=o.Squarespace.Widgets.RecycleBin.ContentCollectionItemView=o.Base.create("RecycleBinContentCollectionItem",o.Squarespace.Widgets.RecycleBin.ItemView,[],{_bindClickSelectableEvents:function(){this.get("boundingBox").on(["contextmenu","click"],function(e){e.halt()})},_getHBTemplateContext:function(){var e=this.get("item");e.set("typeName",this._findTypeNameByCollection(e));return o.merge(this.get("item").toJSON(),{icon:o.Squarespace.ContentCollectionUtils.getIconClassNames(e),formattedUpdatedOnDate:s("Deleted on {date}",{date:n(e.get("updatedOn"),"LLL")})})},_findTypeNameByCollection:function(e){var a=l.getState().collectionConfigs;var s=e.get("ordering");var n=e.get("type");var i=e.get("folder");var r=e.get("index");var t=o.Object.keys(a);return o.Array.find(t,function(e){var t=a[e];return n===c.PRODUCTS&&t.collectionType===c.PRODUCTS||i&&t.folder||r&&t.index||s===t.ordering&&n===t.collectionType&&i===!!t.folder})},_fitText:function(){var e=this.get("contentBox").one(".title");e&&e.setStyle("width","auto");t.superclass._fitText.apply(this,arguments);e&&e.setStyle("width",null)}},{CSS_PREFIX:"sqs-recycle-bin-content-collection-item",ATTRS:{itemType:{value:"collection",writeOnce:"initOnly"},strings:{value:{confirm:{title:s("Restore Collection"),message:s("Are you sure you wish to restore this collection?"),button:s("Restore")}}}}})},"1.0",{requires:["squarespace-content-collection-utils","squarespace-settings-recycle-bin-utils","squarespace-widgets-confirmation","squarespace-widgets-recycle-bin-item-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-collection/list-view.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-recycle-bin-content-collection-list-view",function(a){a.namespace("Squarespace.Widgets.RecycleBin");var t=a.Squarespace.Widgets.RecycleBin.ContentCollectionListView=a.Base.create("ContentCollectionListView",a.Squarespace.Widgets.RecycleBin.ListView,[],{renderUI:function(){t.superclass.renderUI.call(this);var e=a.Node.create('<div class="header"><div class="title">'+this.get("strings.title")+"</div></div>");this.get("contentBox").prepend(e)},bindUI:function(){t.superclass.bindUI.call(this);this._registerEvent(this.get("models").after("load",function(e){this.get("boundingBox").toggleClass("empty",e.target.isEmpty())},this))},getEmptyStateMessage:function(){return s("There are no deleted pages.")}},{CSS_PREFIX:"sqs-recycle-bin-content-collection-list",ATTRS:{strings:{value:{modelName:"content-collection"}},isDemoCollections:{value:false},models:{valueFn:function(){var e=a.Squarespace.API_ROOT+"recycle-bin";var t={root:e,url:e};this.get("isDemoCollections")&&(t.url+="?demo=true");return new a.Squarespace.Models.GrowableContentCollectionList(t)}},defaultChildType:{value:a.Squarespace.Widgets.RecycleBin.ContentCollectionItemView}}})},"1.0",{requires:["squarespace-models-growable-content-collection-list","squarespace-widgets-recycle-bin-list-view","squarespace-widgets-recycle-bin-content-collection-item-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-item/item-view.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-recycle-bin-content-item-item-view",function(e){e.namespace("Squarespace.Widgets.RecycleBin");var t=e.Squarespace.Widgets.RecycleBin.ContentItemItemView=e.Base.create("RecycleBinContentItemItem",e.Squarespace.Widgets.RecycleBin.ItemView,[],{renderUI:function(){t.superclass.renderUI.call(this);this.get("boundingBox").toggleClass("previewable",this.get("previewable"))},bindUI:function(){t.superclass.bindUI.call(this);this.on("*:plainClicked",function(e){this._handleActionClick("preview")},this)}},{CSS_PREFIX:"sqs-recycle-bin-content-item-item",ATTRS:{itemType:{value:"item",writeOnce:"initOnly"},strings:{value:{typeName:"recycle-bin-item",confirm:{title:s("Restore Item"),message:s("Are you sure you wish to restore this item?"),button:s("Restore")}}},previewable:{value:true}}})},"1.0",{requires:["squarespace-settings-recycle-bin-utils","squarespace-widgets-confirmation","squarespace-widgets-recycle-bin-item-view","squarespace-widgets-recycle-bin-item-view-template"]})},"./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-item/list-view.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-recycle-bin-content-item-list-view",function(a){a.namespace("Squarespace.Widgets.RecycleBin");var t={RESTORE_REQUESTED:"restoreRequested",PREVIEW_REQUESTED:"previewRequested"};a.Squarespace.Widgets.RecycleBin.ContentItemListView=a.Base.create("ContentItemListView",a.Squarespace.Widgets.RecycleBin.ListView,[a.Squarespace.Mixins.ContentCollectionBulkActionable],{restoreSelected:function(){var e=this.get("selection");this.fire(t.RESTORE_REQUESTED,{items:e,source:"bulk-restore"})},_getTrayButtons:function(){return[{label:s("Restore"),action:this.restoreSelected,context:this,className:"light no-frame"},{label:s("Delete"),action:this.removeSelected,context:this,className:"dark no-frame"}]}},{CSS_PREFIX:"sqs-recycle-bin-content-item-list",ATTRS:{strings:{value:{modelName:"content-item"}},model:{getter:function(){return this.get("collection")}},collection:{},models:{valueFn:function(){var e=this.get("collection").get("id");var t=a.Squarespace.API_ROOT+"content-collections/"+e+"/content-items";return new a.Squarespace.Models.GrowableContentItemList({root:t,url:t+"?workflowState="+a.Squarespace.WorkflowStates.DELETED})}},defaultChildType:{value:a.Squarespace.Widgets.RecycleBin.ContentItemItemView}}})},"1.0",{requires:["base","squarespace-content-collection-bulk-actionable","squarespace-mixins-click-selectable-parent","squarespace-models-growable-content-item-list","squarespace-widgets-infinite-scroll-list","squarespace-widgets-recycle-bin-list-view","squarespace-widgets-recycle-bin-content-item-item-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/item-view.js":function(e,t,a){var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts").t;YUI.add("squarespace-widgets-recycle-bin-item-view",function(e){e.namespace("Squarespace.Widgets.RecycleBin");e.Squarespace.Widgets.RecycleBin.ItemView=e.Base.create("RecycleBinItem",e.Squarespace.Widgets.List.BaseItem,[],{},{CSS_PREFIX:"sqs-recycle-bin-item",HANDLEBARS_TEMPLATE:"widgets-recycle-bin-item-view.html",ATTRS:{buttonList:{value:[{key:"restore",label:s("Restore")}]},strings:{value:{typeName:"recycle-bin-item"}},previewable:{validator:e.Squarespace.AttrValidators.isBoolean,value:false},model:{},item:{getter:function(){return this.get("model")}}}})},"1.0",{requires:["squarespace-attr-validators","squarespace-content-collection-utils","squarespace-settings-recycle-bin-utils","squarespace-widgets-confirmation","squarespace-widgets-list-base-item-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/list-view.js":function(e,t){YUI.add("squarespace-widgets-recycle-bin-list-view",function(a){a.namespace("Squarespace.Widgets.RecycleBin");var t={RESTORE_REQUESTED:"restoreRequested",PREVIEW_REQUESTED:"previewRequested"};var s=a.Squarespace.Widgets.RecycleBin.ListView=a.Base.create("RecycleBinListView",a.Squarespace.Widgets.InfiniteScrollList,[a.Squarespace.Mixins.ClickSelectableParent],{initializer:function(){this.publish(t.RESTORE_REQUESTED);this.publish(t.PREVIEW_REQUESTED)},renderUI:function(){s.superclass.renderUI.call(this);this.get("models").refresh()},bindUI:function(){s.superclass.bindUI.call(this);this.on("*:buttonAction",function(e){"restore"===e.action?this.fire(t.RESTORE_REQUESTED,{item:e.target.get("item")}):"preview"===e.action&&this.fire(t.PREVIEW_REQUESTED,{item:e.target.get("item")})});this.after("selectionChange",function(){this.updateActionTray()})},syncUI:function(){var e=this.getFocusedWidget();var t;a.Lang.isValue(e)&&(t=e.get("item"));s.superclass.syncUI.call(this);a.Lang.isValue(t)&&this.setFocusedChildByItem(t)},getWidgetForItemById:function(t){!t||a.Lang.isString(t)||(t=t.get("id"));return a.Array.find(this.toJSON(),function(e){return e.get("item").get("id")===t})||null},setFocusedChildByItem:function(e){this.setFocusedChild(this.getWidgetForItemById(e.get("id")))}},{CSS_PREFIX:"sqs-recycle-bin-list",ATTRS:{"strings.noMoreModelsToLoad":null}})},"1.0",{requires:["base","squarespace-mixins-click-selectable-parent","squarespace-widgets-infinite-scroll-list","squarespace-widgets-recycle-bin-content-item-item-view"]})},"./src/main/webapp/universal/scripts-v6/widgets/sync-model-list-manager.js":function(e,t){YUI.add("squarespace-widgets-sync-model-list-manager",function(e){e.namespace("Squarespace.Widgets");var t=e.Squarespace.Widgets.SyncModelListManager=e.Base.create("SyncModelListManager",e.Squarespace.Widgets.ModelListManager,[],{renderUI:function(){t.superclass.renderUI.call(this);this.get("header").render(this._headerNode);this.get("body").render(this._modelsNode)}},{CSS_PREFIX:"sqs-sync-model-list-manager",ATTRS:{}})},"1.0",{requires:["base","squarespace-widgets-model-list-manager"]})},"./src/main/webapp/universal/scripts-v6/yui-for-config-website.js":function(e,t){YUI.add("squarespace-yui-for-config-website",function(e){e.namespace("Squarespace.Damask");e.Squarespace.Damask.ConfigWebsite=e.Base.create("ConfigCoverPage",e.Squarespace.Damask.ReactFirst,[],{})},"1.0",{requires:["squarespace-yui-for-react-first","squarespace-navigation-pages","squarespace-async-wrappers-collections","squarespace-async-wrappers-cover-page-editors-for-website","squarespace-async-wrappers-domains","squarespace-async-wrappers-popup-overlay-editors","squarespace-settings-site-billing-panels-access-rules","squarespace-settings-site-billing-panels-delete-site","squarespace-settings-site-billing-panels-switch-products","squarespace-settings-comments","squarespace-damask-menu-design-custom-css","squarespace-damask-menu-design-templates","squarespace-navigation-pages","squarespace-settings-site-importing","squarespace-damask-menu-commerce-taxes","squarespace-damask-panel-menu-item-with-progress","squarespace-settings-commerce-checkout-form-edit","squarespace-settings-commerce-shipping","squarespace-widgets-commerce-donation-list-manager","squarespace-widgets-commerce-payment-activity-list-manager","squarespace-widgets-inventory-editor-manager","squarespace-widgets-order-list-manager","squarespace-damask-menu-commerce-base-email-template","squarespace-damask-menu-commerce-contribution-confirmed"]})},"./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialog.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=s(a("./common/temp/node_modules/react/index.js"));var p=n(a("./common/temp/node_modules/prop-types/index.js"));var h=n(a("./src/main/webapp/universal/packages/enums/Flag.js"));var v=n(a("./src/main/webapp/universal/packages/enums/PageCategories.js"));var g=n(a("./common/temp/node_modules/@sqs/core-components/web/containers/PopOver.js"));var f=n(a("./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialog.less"));var b=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var y=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/ensureContentModeController.js"));var w=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/BetaFeaturesUtils.js"));var S=n(a("./common/temp/node_modules/@sqs/core-components/components/Cell.js"));var C=n(a("./common/temp/node_modules/classnames/index.js"));var _=s(a("./src/main/webapp/universal/src/shared/utils/mobileEventEmitter.js"));var T=n(a("./src/main/webapp/universal/src/apps/App/components/AddStoreDialog/AddStoreDialog.js"));var j=n(a("./common/temp/node_modules/alt-utils/lib/ActionListeners.js"));var q=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var I=n(a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js"));var E=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackNestedCategory.ts");var A=a("./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialogConstants.js");function x(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var k=function(e){(0,o.default)(n,e);var s=x(n);function n(){var o;(0,i.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];o=s.call.apply(s,[this].concat(t));(0,d.default)((0,l.default)(o),"state",{catalogPopOverOpen:true,linkModalOpen:false,storeDialogOpen:false});(0,d.default)((0,l.default)(o),"openItemCatalog",function(t){var e=window.top.document;var a=e.getElementById("sqs-site-frame");var s=a.contentDocument||a.contentWindow.document;var n=s&&s.body;n&&n.classList.add("sqs-jacquard");o.isOpeningItemCatalog=true;(0,y.default)().then(function(e){e.showPageCatalog(t);_.default.emit(_.OPEN_FRAME);o.props.onRequestClose();b.default.openPageCatalog();o.isOpeningItemCatalog=false}).catch(function(e){console.error("Error showing Page Catalog");console.error(e)})});(0,d.default)((0,l.default)(o),"handleButtonClick",function(e){if(o.isOpeningItemCatalog)return;var t=e&&e.toLowerCase();b.default.clickCatalogDialogOption(t);if(A.GENERIC_TYPES[e]){o.props.onClick(e);return}if(e===v.default.STORE&&w.default.isFeatureEnabled(h.default.NESTED_CATEGORIES)&&o.props.existingStores.length>=1){(0,E.trackUserViewsAddStoreDialog)();o.setState({catalogPopOverOpen:false,storeDialogOpen:true});return}o.openItemCatalog(e)});(0,d.default)((0,l.default)(o),"renderGroup",function(e){return Object.values(e).map(function(e){var t=e.iconDetail,a=e.iconName,s=e.iconUrl,n=e.templateConfigType,i=e.testAttr,r=void 0===i?"":i;return o.renderButton(n,a,s,t,r)})});(0,d.default)((0,l.default)(o),"renderHeader",function(e,t){return m.default.createElement("div",{className:(0,C.default)(f.default.headerTitles,(0,d.default)({},f.default.headerTitlesFirst,t))},e)});(0,d.default)((0,l.default)(o),"renderButton",function(e,t,a,s,n){return m.default.createElement(S.default,{key:e,clickable:true,label:t,detailPosition:"subtitle",detail:s,flush:true,icon:a,iconSize:"small",className:f.default.iconButton,underlined:false,subtitleMultiline:true,onClick:o.handleButtonClick.bind((0,l.default)(o),e),htmlAttributes:{"data-test":n}})});return o}(0,r.default)(n,[{key:"componentDidMount",value:function e(){var t=this;this.actionListener=new j.default(q.default);this.actionListener.addActionListener(I.default.TOGGLE_EXPANDED,function(){return t.props.onRequestClose()})}},{key:"render",value:function e(){var t=this;var a=this.props,s=a.anchorNode,n=a.existingStores,i=a.isFolderAddingSupported,r=a.onRequestClose,o=a.isChowNowEnabled,l=a.acceptTypes;var c=this.state,u=c.catalogPopOverOpen,d=c.storeDialogOpen;var p=i||l[A.LINK]||o;return m.default.createElement(m.Fragment,null,m.default.createElement(g.default,{anchor:s,bodyClassName:f.default.popoverBody,mountAt:s.ownerDocument.body,hideArrow:true,position:"bottom",isOpen:u,closeOnClickOutside:true,onRequestClose:r},m.default.createElement("div",{className:f.default.container},this.renderHeader(A.HEADER_TITLES.PAGES,true),this.renderGroup(A.PAGE_OPTIONS),this.renderHeader(A.HEADER_TITLES.COLLECTIONS),this.renderGroup(A.COLLECTION_OPTIONS),p&&this.renderHeader(A.HEADER_TITLES.MORE),i&&this.renderButton(A.EXTRA_OPTIONS[A.FOLDERS].templateConfigType,A.EXTRA_OPTIONS[A.FOLDERS].iconName,A.EXTRA_OPTIONS[A.FOLDERS].iconUrl,A.EXTRA_OPTIONS[A.FOLDERS].iconDetail),l[A.LINK]&&this.renderButton(A.EXTRA_OPTIONS[A.LINK].templateConfigType,A.EXTRA_OPTIONS[A.LINK].iconName,A.EXTRA_OPTIONS[A.LINK].iconUrl,A.EXTRA_OPTIONS[A.LINK].iconDetail),o&&this.renderButton(A.EXTRA_OPTIONS[A.CHOW_NOW].templateConfigType,A.EXTRA_OPTIONS[A.CHOW_NOW].iconName,A.EXTRA_OPTIONS[A.CHOW_NOW].iconUrl,A.EXTRA_OPTIONS[A.CHOW_NOW].iconDetail))),m.default.createElement(T.default,{existingStores:n,onRequestClose:r,openStoreCatalog:function e(){return t.openItemCatalog(v.default.STORE)},storeDialogOpen:d}))}}]);return n}(m.Component);t.default=k;(0,d.default)(k,"propTypes",{anchorNode:p.default.any,existingStores:p.default.arrayOf(p.default.shape({collectionId:p.default.string.isRequired,title:p.default.string.isRequired}).isRequired).isRequired,isOpen:p.default.bool,isFolderAddingSupported:p.default.bool,onClick:p.default.func.isRequired,onRequestClose:p.default.func.isRequired,acceptTypes:p.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialog.less":function(e,t,a){e.exports={container:"AddPageCatalogDialog-container-y9TEU",headerTitles:"AddPageCatalogDialog-headerTitles-YcPof",headerTitlesFirst:"AddPageCatalogDialog-headerTitlesFirst-2Kqif",iconButton:"AddPageCatalogDialog-iconButton-2BxXz",popoverBody:"AddPageCatalogDialog-popoverBody-3DReO"}},"./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialogConstants.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.HEADER_TITLES=t.GENERIC_TYPES=t.EXTRA_OPTIONS=t.COLLECTION_OPTIONS=t.PAGE_OPTIONS=t.MEMBER_AREA=t.CHOW_NOW=t.LINK=t.FOLDERS=t.BLANK_PAGE=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=s(a("./src/main/webapp/universal/packages/enums/PageCategories.js"));var o=s(a("./src/main/webapp/universal/src/shared/images/page-layout/blank-page-2.svg"));var l=s(a("./src/main/webapp/universal/src/shared/images/page-layout/page-layouts.svg"));var c=s(a("./src/main/webapp/universal/src/shared/images/page-layout/blog.svg"));var u=s(a("./src/main/webapp/universal/src/shared/images/page-layout/portfolio.svg"));var d=s(a("./src/main/webapp/universal/src/shared/images/page-layout/store.svg"));var p=s(a("./src/main/webapp/universal/src/shared/images/page-layout/events.svg"));var m=s(a("./src/main/webapp/universal/src/shared/images/page-layout/folder.svg"));var h=s(a("./src/main/webapp/universal/src/shared/images/page-layout/link.svg"));var v=s(a("./src/main/webapp/universal/src/shared/images/damask/chownow-32-dark.png"));var g,f,b;function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var S="page";t.BLANK_PAGE=S;var C="page-layouts";var _="blog-masonry";var T="events-stacked";var j="portfolio-grid-basic";var q="products";var I="folders";t.FOLDERS=I;var E="link";t.LINK=E;var A="chownow";t.CHOW_NOW=A;var x="memberarea";t.MEMBER_AREA=x;var k=(g={},(0,n.default)(g,S,{iconDetail:(0,i.t)("Start with a blank page"),iconName:(0,i.t)("Blank Page"),iconUrl:o.default,templateConfigType:S,testAttr:"blank_page"}),(0,n.default)(g,C,{iconDetail:(0,i.t)("Use a designer layout"),iconName:(0,i.t)("Page Layouts"),iconUrl:l.default,templateConfigType:r.default.GENERAL,testAttr:"page_layouts"}),g);t.PAGE_OPTIONS=k;var D=(f={},(0,n.default)(f,_,{iconDetail:(0,i.t)("Share stories, thoughts, and ideas"),iconName:(0,i.t)("Blog"),iconUrl:c.default,templateConfigType:r.default.BLOG}),(0,n.default)(f,q,{iconDetail:(0,i.t)("Sell products and services online"),iconName:(0,i.t)("Store"),iconUrl:d.default,templateConfigType:r.default.STORE,testAttr:"collection_products"}),(0,n.default)(f,j,{iconDetail:(0,i.t)("Present projects and visual work"),iconName:(0,i.t)("Portfolio"),iconUrl:u.default,templateConfigType:r.default.PORTFOLIO}),(0,n.default)(f,T,{iconDetail:(0,i.t)("Showcase upcoming events"),iconName:(0,i.t)("Events"),iconUrl:p.default,templateConfigType:r.default.EVENTS}),f);t.COLLECTION_OPTIONS=D;var P=(b={},(0,n.default)(b,I,{iconDetail:(0,i.t)("Organize your site navigation"),iconName:(0,i.t)("Folder"),iconUrl:m.default,templateConfigType:I}),(0,n.default)(b,E,{iconDetail:(0,i.t)("Link to pages or external sites"),iconName:(0,i.t)("Link"),iconUrl:h.default,templateConfigType:"link"}),(0,n.default)(b,A,{iconDetail:(0,i.t)("Add a Chow Now link"),iconName:(0,i.t)("Chow Now"),iconUrl:v.default,templateConfigType:A}),b);t.EXTRA_OPTIONS=P;var R=w({},P,(0,n.default)({},S,k[S]));t.GENERIC_TYPES=R;var O={PAGES:(0,i.t)("Pages"),COLLECTIONS:(0,i.t)("Collections"),MORE:(0,i.t)("More")};t.HEADER_TITLES=O},"./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/slicedToArray.js"));var l=s(a("./common/temp/node_modules/react/index.js"));var i=n(a("./src/main/webapp/universal/packages/enums/CollectionTypes.js"));var c=n(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var u=n(a("./src/main/webapp/universal/src/apps/App/components/AddPageCatalogDialog/AddPageCatalogDialog.js"));var d=function e(){return c.default.getCollectionsOfType(i.default.PRODUCTS)};var p=function e(t){var a=(0,l.useState)(d()),s=(0,o.default)(a,2),n=s[0],i=s[1];(0,l.useEffect)(function(){return c.default.onCollectionsChange(function(){i(d())})},[]);return l.default.createElement(u.default,(0,r.default)({},t,{existingStores:n}))};var m=p;t.default=m;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/AddPageDialog/AddPageDialog.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=s(a("./common/temp/node_modules/react/index.js"));var p=n(a("./common/temp/node_modules/prop-types/index.js"));var y=n(a("./common/temp/node_modules/classnames/index.js"));var w=n(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var m=n(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var h=n(a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresets.js"));var v=n(a("./src/main/webapp/universal/src/apps/App/shared/utils/LayoutPresetAdapter.js"));var S=n(a("./common/temp/node_modules/@sqs/core-components/web/modals/Modal.js"));var C=n(a("./src/main/webapp/universal/src/apps/App/components/AddPageDialog/AddPageDialog.less"));var _=a("./src/main/webapp/universal/src/apps/App/components/AddPageDialog/AddPageDialogConstants.js");function g(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var f=function(e){(0,o.default)(a,e);var t=g(a);function a(e){var o;(0,i.default)(this,a);o=t.call(this,e);(0,d.default)((0,l.default)(o),"state",{pageModalOpen:true,starterLayoutModalOpen:false,starterLayoutModalTitle:"",selectedLayoutCategory:""});(0,d.default)((0,l.default)(o),"layoutPageButtonOnClick",function(e){var t=e.presetSearchKey||e.iconClass;var a=e.presetTitle||e.iconTitle;m.default.clickOptionNewPageDialog(void 0,a);o.setState({pageModalOpen:false,starterLayoutModalOpen:true,starterLayoutModalTitle:a,selectedLayoutCategory:t})});(0,d.default)((0,l.default)(o),"layoutOptionOnClick",function(e,t){m.default.clickLayoutOptionNewPageDialog(e);o.props.onCreateNewPage("page",e);o.props.onRequestClose()});(0,d.default)((0,l.default)(o),"collectionButtonOnClick",function(e){"page"===e&&m.default.clickOptionNewPageDialog("page","Blank");o.setState({pageModalOpen:false,starterLayoutModalOpen:false});o.props.onCreateNewPage(e);o.props.onRequestClose()});(0,d.default)((0,l.default)(o),"renderHeader",function(e){return b.default.createElement("div",{className:C.default.header},e)});(0,d.default)((0,l.default)(o),"renderOption",function(e,t,a){var s="icon-".concat(e);var n="MultiOption ".concat(e);return b.default.createElement("button",{key:e,"data-test":n,className:C.default.iconButton,onClick:a},b.default.createElement("div",{className:C.default.iconButtonContent},b.default.createElement("div",{className:C.default[s]}),b.default.createElement("div",{className:C.default.iconText},t)))});(0,d.default)((0,l.default)(o),"renderBlank",function(){var e=_.otherKeys.blank;if(!e)return;return o.renderOption(e.iconClass,e.iconTitle,o.collectionButtonOnClick.bind((0,l.default)(o),e.templateConfigType))});(0,d.default)((0,l.default)(o),"renderLayoutOption",function(e,t,a){return b.default.createElement("div",{key:e},b.default.createElement("button",{key:e,className:C.default.layoutButton,onClick:a},b.default.createElement("div",{className:C.default.layoutIcon},h.default.createLayoutIcon(e))),b.default.createElement("div",{className:C.default.layoutIconTitle},t))});(0,d.default)((0,l.default)(o),"renderLayoutPresets",function(e){var t=o.state.selectedLayoutCategory;var a=h.default.getAvailablePresetKeys();var s=a.filter(function(e){return e.includes(t)});return s.map(function(e,t){var a=h.default.getLabel(e);return o.renderLayoutOption(e,a,o.layoutOptionOnClick.bind((0,l.default)(o),e))})});(0,d.default)((0,l.default)(o),"renderLayoutGroup",function(){return _.layoutOrdering.map(function(e){var t=_.layoutKeys[e];if(!t)return;return o.renderOption(t.iconClass,t.iconTitle,o.layoutPageButtonOnClick.bind((0,l.default)(o),t))})});(0,d.default)((0,l.default)(o),"renderCollectionGroup",function(e){return e.map(function(e){var t=o.props.collectionConfigs[e],a=t.icon,s=t.title;return o.renderOption(a,s,o.collectionButtonOnClick.bind((0,l.default)(o),e))})});(0,d.default)((0,l.default)(o),"renderOtherGroup",function(e){return e.map(function(e){var t;var a;var s=e;if("link"===s){var n=_.otherKeys[s];t=n.iconClass;a=n.iconTitle}else if(s&&s.type){var i=_.otherKeys[s.type];t=i.iconClass;a=i.iconTitle;s=s.value}else{var r=o.props.collectionConfigs[s];t=r.icon;a=r.title}if(!t||!a)return;return o.renderOption(t,a,o.collectionButtonOnClick.bind((0,l.default)(o),s))})});h.default.registerAdapter(v.default);return o}(0,r.default)(a,[{key:"render",value:function e(){var t=this;var a=this.props,s=a.connectedAccountOptions,n=a.onRequestClose,i=a.isSectionAdd,r=a.region;var o=this.state,l=o.pageModalOpen,c=o.selectedLayoutCategory,u=o.starterLayoutModalOpen,d=o.starterLayoutModalTitle;var p=(0,y.default)(r?C.default.container:C.default.centerContainer);var m=[];m=w.default.isSevenOne()?_.stackedCollectionOrdering.filter(function(e){return t.props.acceptTypes[e]||false}):_.collectionOrdering.filter(function(e){return t.props.acceptTypes[e]||false});var h=[];Object.keys(this.props.acceptTypes||{}).forEach(function(e){m.includes(e)||"page"===e||h.push(e)});s&&(h=h.concat(s));var v=m.length<1;var g=h.length<1;var f=i?_.headerTitles.createNewSection:_.headerTitles.createNewPage;return b.default.createElement(b.Fragment,null,b.default.createElement(S.default,{customClassNames:p,isOpen:l,onRequestClose:n},b.default.createElement("div",{className:C.default.tab},f),b.default.createElement("div",{className:C.default.scrollableContainer},this.renderHeader(_.headerTitles.pageLayouts),b.default.createElement("div",{className:C.default.iconRow},this.renderBlank(),this.renderLayoutGroup()),!v&&this.renderHeader(_.headerTitles.collections),!v&&b.default.createElement("div",{className:C.default.iconRow},this.renderCollectionGroup(m)),!g&&this.renderHeader(_.headerTitles.other),!g&&b.default.createElement("div",{className:C.default.iconRow},this.renderOtherGroup(h)))),c&&b.default.createElement(S.default,{customClassNames:p,isOpen:u,onRequestClose:n},b.default.createElement("div",{className:C.default.scrollableContainer},b.default.createElement("div",{className:C.default.tab},d),b.default.createElement("div",{className:C.default.layoutIconRow},this.renderLayoutPresets(d)))))}}]);return a}(b.Component);t.default=f;(0,d.default)(f,"propTypes",{onRequestClose:p.default.func.isRequired,onCreateNewPage:p.default.func.isRequired,acceptTypes:p.default.object.isRequired,collectionConfigs:p.default.object.isRequired,connectedAccountOptions:p.default.array,isOpen:p.default.bool.isRequired,isSectionAdd:p.default.bool,region:p.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/AddPageDialog/AddPageDialog.less":function(e,t,a){e.exports={container:"AddPageDialog-container-Pt1X0",scrollableContainer:"AddPageDialog-scrollableContainer-2UwD6",centerContainer:"AddPageDialog-centerContainer-FSK2G",tab:"AddPageDialog-tab-2hFvQ",header:"AddPageDialog-header-2dmBq",iconRow:"AddPageDialog-iconRow-1uzZS",layoutIconRow:"AddPageDialog-layoutIconRow-32Pmn",iconButton:"AddPageDialog-iconButton-28Dya",layoutButton:"AddPageDialog-layoutButton-2trMt",layoutIcon:"AddPageDialog-layoutIcon-1t1p-",layoutIconTitle:"AddPageDialog-layoutIconTitle-143Ay",iconButtonContent:"AddPageDialog-iconButtonContent-2gxry",iconText:"AddPageDialog-iconText-2FFeu","icon-blank":"AddPageDialog-icon-blank-PlAR3","icon-about":"AddPageDialog-icon-about-147_P","icon-contact":"AddPageDialog-icon-contact-aBKk9","icon-details":"AddPageDialog-icon-details-2y55r","icon-features":"AddPageDialog-icon-features-3UVhn","icon-images":"AddPageDialog-icon-images-2JIax","icon-team":"AddPageDialog-icon-team-3tHsS","icon-booking":"AddPageDialog-icon-booking-1xEy6","icon-gallery":"AddPageDialog-icon-gallery-1CeIt","icon-products":"AddPageDialog-icon-products-263sV","icon-blog":"AddPageDialog-icon-blog-2-WLO","icon-events":"AddPageDialog-icon-events-2d-XH","icon-album":"AddPageDialog-icon-album-3GIl4","icon-stacked":"AddPageDialog-icon-stacked-2bkEY","icon-projects":"AddPageDialog-icon-projects-3ylzz","icon-project":"AddPageDialog-icon-project-9O1S5","icon-link":"AddPageDialog-icon-link-1Eulp","icon-folder":"AddPageDialog-icon-folder-3YMc1","icon-splash-page":"AddPageDialog-icon-splash-page-3LBNI","icon-calendar":"AddPageDialog-icon-calendar-48lmq","icon-chownow":"AddPageDialog-icon-chownow-2Ln24","icon-variation":"AddPageDialog-icon-variation-1Ku0s"}},"./src/main/webapp/universal/src/apps/App/components/AddPageDialog/AddPageDialogConstants.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.headerTitles=t.otherKeys=t.stackedCollectionOrdering=t.collectionOrdering=t.layoutKeys=t.layoutOrdering=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r,o;var l="about";var c="contact";var u="details";var d="features";var p="images";var m="team";var h="booking";var v="gallery";var g="products";var f="blog";var b="events";var y="album";var w="index";var S="blog-grid-masonry";var C="project-grid";var _="link";var T="chownow";var j=[l,c,u,d,p,m,h];t.layoutOrdering=j;var q=(r={},(0,n.default)(r,l,{presetSearchKey:"about",presetTitle:"",iconTitle:(0,i.t)("About"),iconClass:"about"}),(0,n.default)(r,c,{presetSearchKey:"contact",presetTitle:"",iconTitle:(0,i.t)("Contact"),iconClass:"contact"}),(0,n.default)(r,u,{presetSearchKey:"details",presetTitle:"",iconTitle:(0,i.t)("Details"),iconClass:"details"}),(0,n.default)(r,d,{presetSearchKey:"features",presetTitle:"",iconTitle:(0,i.t)("Features"),iconClass:"features"}),(0,n.default)(r,p,{presetSearchKey:"photo-wall",presetTitle:"",iconTitle:(0,i.t)("Images"),iconClass:"images"}),(0,n.default)(r,m,{presetSearchKey:"team",presetTitle:"",iconTitle:(0,i.t)("Team"),iconClass:"team"}),(0,n.default)(r,h,{presetSearchKey:"booking",presetTitle:"",iconTitle:(0,i.t)("Booking"),iconClass:"booking"}),r);t.layoutKeys=q;var I=[v,g,f,b,y,w];t.collectionOrdering=I;var E=[v,g,C,S,b];t.stackedCollectionOrdering=E;var A=(o={},(0,n.default)(o,_,{templateConfigType:"link",iconTitle:(0,i.t)("Link"),iconClass:"link"}),(0,n.default)(o,T,{templateConfigType:"link",iconTitle:"ChowNow",iconClass:"chownow"}),(0,n.default)(o,"blank",{templateConfigType:"page",iconTitle:(0,i.t)("Blank"),iconClass:"blank"}),o);t.otherKeys=A;var x={createNewPage:(0,i.t)("Create New Page"),createNewSection:(0,i.t)("Create New Section"),pageLayouts:(0,i.t)("Layouts"),collections:(0,i.t)("Collections"),other:(0,i.t)("Other")};t.headerTitles=x},"./src/main/webapp/universal/src/apps/App/components/AddStoreDialog/AddStoreDialog.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var b=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/slicedToArray.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var y=s(a("./common/temp/node_modules/react/index.js"));var o=n(a("./common/temp/node_modules/prop-types/index.js"));var w=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var S=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var C=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var _=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var T=n(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var j=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackNestedCategory.ts");var q=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/navCategories.js");var I=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var E=n(a("./src/main/webapp/universal/src/apps/App/components/AddStoreDialog/new-category-preview.png"));var A=n(a("./src/main/webapp/universal/src/apps/App/components/AddStoreDialog/new-store-preview.jpg"));var x={FIRST:"first-step",STORE_SELECT:"store-select"};var k=(0,I.t)("Improve how customers find your products by creating special sections in your store");var D=function e(t){return t.collectionId||t.id};var P=function e(t){var a=t.titleText,s=t.bodyText,n=(0,r.default)(t,["titleText","bodyText"]);return y.default.createElement(C.Card,(0,i.default)({elevation:0,borderRadius:0,isHoverable:true,width:"100%",mb:4,px:4,py:5,sx:{display:"flex",flexDirection:"row",alignItems:"center"}},n),y.default.createElement(_.Box,null,y.default.createElement(_.Text.Subtitle,{m:0,color:"gray.100"},a),y.default.createElement(_.Text.Body,{m:0,color:"gray.300"},s)),y.default.createElement(_.Box,null,y.default.createElement(w.ArrowRight,null)))};var l=function e(t){var a=t.existingStores,s=t.openStoreCatalog,n=t.onRequestClose,i=t.storeDialogOpen;var r=(0,y.useState)(function(){return new S.Wizard.History}),o=(0,b.default)(r,1),l=o[0];var c=(0,y.useState)(x.FIRST),u=(0,b.default)(c,2),d=u[0],p=u[1];var m=(0,y.useState)(false),h=(0,b.default)(m,2),v=h[0],g=h[1];var f=function e(t){T.default.showCollectionSettingsEditor(t,q.nestedCategoriesTab.$route);n()};return y.default.createElement(y.default.Fragment,null,y.default.createElement(C.Modal.Transition,null,i&&y.default.createElement(C.Modal,{closeOnEsc:true,lockFocus:false,onRequestClose:n},y.default.createElement(C.Modal.Overlay,null),y.default.createElement(C.Modal.Position,{position:"center"},y.default.createElement(C.Modal.Dialog.ResponsiveProvider,null,y.default.createElement(C.Modal.Dialog,null,y.default.createElement(S.Wizard.SplitScreen,null,y.default.createElement(S.Wizard.SplitScreen.Panel,null,y.default.createElement(S.Wizard,{closeButtonProps:{onClick:n},currentStepId:d,onRequestStep:p,history:l,renderProgress:function e(){return null}},y.default.createElement(S.Wizard.Step,{id:x.FIRST,nextStepId:x.STORE_SELECT,hideNext:true},function(e){var t=e.next;return y.default.createElement(S.Wizard.Step.Content,null,y.default.createElement(_.Text.Title,null,(0,I.t)("What do you want to add?")),y.default.createElement(_.Text.Subtitle,{color:"gray.400",fontWeight:"book",mb:6},k),y.default.createElement(P,{onClick:function e(){(0,j.trackUserClicksAddStoreDialogButton)("add-category");a.length>1?t():f(D(a[0]))},titleText:(0,I.t)("Create New Category"),bodyText:(0,I.t)("Group your products and centralize your shop in one place")}),y.default.createElement(P,{onClick:function e(){(0,j.trackUserClicksAddStoreDialogButton)("add-collection");s()},onMouseEnter:function e(){g(true)},onMouseLeave:function e(){g(false)},titleText:(0,I.t)("Create New Store"),bodyText:(0,I.t)("Sell other products and services in a new store page")}))}),y.default.createElement(S.Wizard.Step,{id:x.STORE_SELECT},y.default.createElement(S.Wizard.Step.Content,null,y.default.createElement(_.Text.Title,null,(0,I.t)("Select a Store")),y.default.createElement(_.Text.Subtitle,{color:"gray.400",fontWeight:"book",mb:6},(0,I.t)("Select a page to put your new category into.")),a.map(function(t){return y.default.createElement(_.Box,{css:{cursor:"pointer"},onClick:function e(){f(D(t))},key:D(t)},y.default.createElement(_.Flex,{alignItems:"center",px:1},y.default.createElement(_.Box,{mx:1,mt:1},y.default.createElement(w.Store,null)),y.default.createElement(_.Text.Body,null,t.title)),y.default.createElement(C.Divider,null))}))))),y.default.createElement(S.Wizard.SplitScreen.Panel,{style:{backgroundImage:"url(".concat(v?A.default:E.default,")"),backgroundSize:"cover",backgroundPosition:"50% 50%"}}))))))))};l.propTypes={existingStores:o.default.arrayOf(o.default.shape({collectionId:o.default.string.isRequired,title:o.default.string.isRequired}).isRequired).isRequired,openStoreCatalog:o.default.func.isRequired,onRequestClose:o.default.func.isRequired,storeDialogOpen:o.default.bool.isRequired};var c=l;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/AddStoreDialog/new-category-preview.png":function(e,t,a){e.exports=a.p+"new-category-preview-44d1e4099101feccb2dfbf04227e689c.png"},"./src/main/webapp/universal/src/apps/App/components/AddStoreDialog/new-store-preview.jpg":function(e,t,a){e.exports=a.p+"new-store-preview-1823d1a5e6f9fd44c6e184910c1a2908.jpg"},"./src/main/webapp/universal/src/apps/App/screens/Checkout/shared/components/CurrencyPicker/CurrencyPicker.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/prop-types/index.js");var d=a("./common/temp/node_modules/react/index.js");var n=a("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var i=a("./src/main/webapp/universal/src/shared/utils/CurrencyPropType.js");var p=a("./common/temp/node_modules/classnames/index.js");var m=a("./common/temp/node_modules/lodash/find.js");var h=a("./src/main/webapp/universal/src/apps/App/screens/Checkout/shared/components/CurrencyPicker/CurrencyPicker.less");var v=a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts");var r=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),g=r.Select;var o=function e(t){var s=t.acceptedCurrencies,a=t.containerClassName,n=t.onChange,i=t.selectedCurrency,r=t.selectClassName,o=t.selectWrapperClassName,l=t.theme;var c=function e(t){var a=t.symbol,s=t.code;return d.createElement("option",{key:s,value:s},a," ",s)};var u=function e(t){var a=m(s,{code:t});v("engagement_currency_picker",{action:"change",field:"currencyPicker",currency:a?a.code:"unknown"});n(a)};if(s.length>1)return d.createElement("div",{className:p(h[l],a,h.container)},d.createElement(g,{theme:l,value:i||s[0].code,onChange:u,className:r||h.currencyPicker,wrapperClassName:o||h.selectWrapper},s.map(c)));return null};o.propTypes={acceptedCurrencies:s.arrayOf(i).isRequired,onChange:s.func.isRequired,selectedCurrency:s.string,selectClassName:s.string,containerClassName:s.string,selectWrapperClassName:s.string,theme:n};e.exports=o},"./src/main/webapp/universal/src/apps/App/screens/Checkout/shared/components/CurrencyPicker/CurrencyPicker.less":function(e,t,a){e.exports={container:"CurrencyPicker-container-1pRfa",currencyPicker:"CurrencyPicker-currencyPicker-2CPMh",midnight:"CurrencyPicker-midnight-18_j-",selectWrapper:"CurrencyPicker-selectWrapper-1Mrzi"}},"./src/main/webapp/universal/src/apps/App/screens/Checkout/shared/components/CurrencyPicker/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var n=a("./src/main/webapp/universal/src/apps/App/shared/actions/billing/AcceptedCurrenciesActions.js");var i=a("./src/main/webapp/universal/src/apps/App/shared/stores/billing/AcceptedCurrenciesStore.js");var r=a("./src/main/webapp/universal/src/apps/App/screens/Checkout/shared/components/CurrencyPicker/CurrencyPicker.jsx");var o=s({getStores:function e(){return[i]},componentDidConnect:function e(){var t=i.getState(),a=t.acceptedCurrencies,s=t.isLoading;a.length||s||n.load.defer()},getPropsFromStores:function e(){var t=i.getState(),a=t.acceptedCurrencies;return{acceptedCurrencies:a}}},r);e.exports=o},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/CheckoutSettings/shared/actions/CheckoutSettingsActions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var l=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/CheckoutSettings/shared/utils/CheckoutSettingsApi.js");var c=a("./src/main/webapp/universal/src/shared/actions/MailChimpConfigActions.js");var u=a("./src/main/webapp/universal/src/shared/actions/CampaignsConfigActions.js");var d=function e(t){false;return Promise.reject(t)};var p=function e(t,a){return""===t&&a.length>0};var m=function(){function e(){(0,i.default)(this,e);this.generateActions("loadSuccess","loadFailure","reset","saveSuccess","showOtherMailingListProviders","unload","editCheckoutForm","hideAlert")}(0,r.default)(e,[{key:"updateField",value:function e(t,a){return(0,n.default)({},t,a)}},{key:"load",value:function e(){var a=this;return function(e){l.load().then(function(e){var t=e.data;c.loadSuccess(t);u.loadFromCheckoutSettingsSuccess(t);a.loadSuccess(t)},function(e){return a.loadFailure(e.data)}).catch(d);e()}}},{key:"save",value:function e(t){var a=this;if(t.storeMailingListSettings){var s=t.storeMailingListSettings,n=s.mailChimpListId,i=s.mailChimpConnectionInfo;var r=i.mailChimpLists;if(p(n,r)){c.mailChimpValidationError();return Promise.reject()}}return l.update(t).then(function(e){c.saveSuccess();u.saveSuccess();a.saveSuccess()},function(e){return a.saveFailure(e.data)}).catch(d)}},{key:"saveFailure",value:function e(t){return function(e){e(t);return Promise.reject(t)}}}]);return e}();e.exports=o.createActions(m)},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/CheckoutSettings/shared/utils/CheckoutSettingsApi.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var n="/api/commerce/settings/checkout";var i={load:function e(){return s.get(n)},update:function e(t){return s.put(n,t)}};e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Onboarding/components/WrappedSetupWizardCard/index.tsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./common/temp/node_modules/react/index.js"));var r=s(a("./common/temp/node_modules/react-dom/index.js"));var o=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Onboarding/components/SetupWizardCard/index.tsx"));var l=function(){function l(e){var t=e.container,a=e.title,s=e.description,n=e.className,i=e.buttonText,r=e.productPage,o=e.onClick;(0,c.default)(this,l);(0,u.default)(this,"container",void 0);(0,u.default)(this,"title",void 0);(0,u.default)(this,"description",void 0);(0,u.default)(this,"className",void 0);(0,u.default)(this,"buttonText",void 0);(0,u.default)(this,"productPage",void 0);(0,u.default)(this,"onClick",void 0);this.container=t;this.title=a;this.description=s;this.className=n;this.buttonText=i;this.onClick=o;this.productPage=r}(0,n.default)(l,[{key:"destroy",value:function e(){r.default.unmountComponentAtNode(this.container)}},{key:"render",value:function e(){var t=i.default.createElement(o.default,{title:this.title,description:this.description,className:this.className,buttonText:this.buttonText,onClick:this.onClick,productPage:this.productPage});r.default.render(t,this.container)}}]);return l}();t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/OrderNote.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var n=a("./common/temp/node_modules/prop-types/index.js");var m=a("./common/temp/node_modules/react/index.js");var h=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),v=h.T;var g=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),f=g.t,b=g.formatDateTime;var y=a("./common/temp/node_modules/classnames/index.js");var w=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/OrderNotesTab.less");var S=function(e){(0,l.default)(n,e);var s=p(n);function n(){var i;(0,r.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=s.call.apply(s,[this].concat(t));(0,d.default)((0,o.default)(i),"handleContentChange",function(e){var t=i.props,a=t.note,s=t.onContentChange;var n=Object.assign({},a,{content:e.target.value});s(n)});(0,d.default)((0,o.default)(i),"getActionHandler",function(t){return function(e){e.stopPropagation();t(i.props.note)}});(0,d.default)((0,o.default)(i),"getCreatedBy",function(){var e=i.props.note.createdBy;var t=e?e.displayName:null;return t||f("Unknown")});(0,d.default)((0,o.default)(i),"getCreatedOn",function(){var e=i.props.note.createdOn;return e?b(e,"lllLT"):null});(0,d.default)((0,o.default)(i),"getMetadata",function(){var e=i.getCreatedBy();var t=i.getCreatedOn();if(!t)return"";return f("{createdBy} on {createdOn}",{createdBy:e,createdOn:t})});(0,d.default)((0,o.default)(i),"renderContent",function(){var e=i.props.note,t=e.contentType,a=e.content,s=e.editMode;var n=f("Write your note here");if(s)return m.createElement("div",{className:w.content},m.createElement("textarea",{ref:"contentTextarea",value:a,onChange:i.handleContentChange,placeholder:n}));if("text/html"===t)return m.createElement("div",{className:w.content,dangerouslySetInnerHTML:{__html:a}});return m.createElement("div",{className:w.content},a)});return i}(0,i.default)(n,[{key:"render",value:function e(){var t;var a=this.props,s=a.note,n=a.onSaveClick,i=a.onDeleteClick;var r=y(w.OrderNote,(t={},(0,d.default)(t,w.editMode,s.editMode),(0,d.default)(t,w.hasContent,""!==s.content.trim()),t));return m.createElement("div",{className:r},m.createElement("div",{className:w.actions},m.createElement("div",{className:w.saveButton,onClick:this.getActionHandler(n)},m.createElement(v,{project:"apps.App"},"Save")),m.createElement("div",{className:w.deleteButton,onClick:this.getActionHandler(i)},m.createElement(v,{project:"apps.App"},"Delete"))),m.createElement("div",{className:w.metadata},this.getMetadata()),this.renderContent())}}]);return n}(m.Component);(0,d.default)(S,"propTypes",{note:n.object,onContentChange:n.func,onSaveClick:n.func,onDeleteClick:n.func});e.exports=S},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/OrderNotesTab.less":function(e,t,a){e.exports={OrderNotesTab:"OrderNotesTab-OrderNotesTab-2VdT0",actions:"OrderNotesTab-actions-3VHId",OrderNote:"OrderNotesTab-OrderNote-1FdFF",deleteButton:"OrderNotesTab-deleteButton-3gI7x",editMode:"OrderNotesTab-editMode-1uaGY",hasContent:"OrderNotesTab-hasContent-2JlGH",saveButton:"OrderNotesTab-saveButton-ghw3F",metadata:"OrderNotesTab-metadata-2yElJ",content:"OrderNotesTab-content-XY6mF"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function h(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,p.default)(s),t;if(n()){var a=(0,p.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var n=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var g=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),f=g.t;var b=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),y=b.Description;var w=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/OrderNote.jsx");var S=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderNotesTab/OrderNotesTab.less");var C=function(e){(0,d.default)(i,e);var n=h(i);function i(){var e;(0,l.default)(this,i);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];e=n.call.apply(n,[this].concat(a));(0,m.default)((0,u.default)(e),"renderNotes",function(e,t){return e.map(function(e){return v.createElement(w,(0,o.default)({key:e.id,note:e},t))})});return e}(0,c.default)(i,[{key:"render",value:function e(){var t=this.props,a=t.notes,s=(0,r.default)(t,["notes"]);var n=f("Internal Notes");return v.createElement("div",{className:S.OrderNotesTab},v.createElement(y,{title:n}),this.renderNotes(a,s))}}]);return i}(v.Component);(0,m.default)(C,"propTypes",{notes:n.array,onContentChange:n.func,onSaveClick:n.func,onDeleteClick:n.func});e.exports=C},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderSubscriberLink/OrderSubscriberLink.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var u=s(a("./common/temp/node_modules/prop-types/index.js"));var d=s(a("./common/temp/node_modules/react/index.js"));var p=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var m=s(a("./src/main/webapp/universal/src/shared/router/withRouter.tsx"));var h=s(a("./src/main/webapp/universal/src/shared/router/propType.ts"));var v,g;function f(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var b=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderSubscriberLink/OrderSubscriberLink.less");var y=(0,m.default)((g=v=function(e){(0,r.default)(a,e);var t=f(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.router,s=t.subscribableName,n=t.url;return d.default.createElement("div",{className:b.container},d.default.createElement("div",{className:b.label},d.default.createElement(p.T,{project:"apps.App"},"SUBSCRIPTION")),d.default.createElement("div",{className:b.subscribableName},s),d.default.createElement("div",{className:b.action,onClick:function e(){a.push(n)}},d.default.createElement("a",{target:"_blank",href:n,onClick:function e(t){return t.preventDefault()}},d.default.createElement(p.T,{project:"apps.App"},"View Subscriber Details")," ")))}}]);return a}(d.default.Component),(0,c.default)(v,"propTypes",{router:h.default,subscribableName:u.default.string.isRequired,url:u.default.string.isRequired}),g));t.default=y;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderSubscriberLink/OrderSubscriberLink.less":function(e,t,a){e.exports={container:"OrderSubscriberLink-container-2E8MN",label:"OrderSubscriberLink-label-2P4r-",subscribableName:"OrderSubscriberLink-subscribableName-5RJvt",action:"OrderSubscriberLink-action-1n4B-"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderSubscriberLink/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/OrderDialog/components/OrderSubscriberLink/OrderSubscriberLink.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/components/CustomerOrdersFilterPill/CustomerOrdersFilterPill.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(n()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var p=a("./common/temp/node_modules/prop-types/index.js");var m=a("./common/temp/node_modules/react/index.js");var h=a("./common/temp/node_modules/classnames/index.js");var v=a("./src/main/webapp/universal/src/shared/components/LoadingSpinner.jsx");var g=a("./src/main/webapp/universal/src/apps/App/shared/components/Link.jsx");var f=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/components/CustomerOrdersFilterPill/CustomerOrdersFilterPill.less");var b=function(e){(0,l.default)(i,e);var s=d(i);function i(){var n;(0,r.default)(this,i);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=s.call.apply(s,[this].concat(t));(0,u.default)((0,o.default)(n),"renderCloseButton",function(){return m.createElement(g,{to:"/commerce/orders",className:f.close},"")});(0,u.default)((0,o.default)(n),"renderLoadingState",function(){return m.createElement(v,{size:"small"})});(0,u.default)((0,o.default)(n),"renderLoadedState",function(){var e=n.props.customer;if(!e)return m.createElement("span",{className:h(f.name,f.error)},"Customer not found");var t=e.name,a=t.firstName,s=t.lastName;return m.createElement("span",{className:f.name},a," ",s)});return n}(0,n.default)(i,[{key:"render",value:function e(){var t=this.props.isLoadingExtendedCustomer;return m.createElement("div",{className:f.wrapper},m.createElement("div",{className:f.pill},t?this.renderLoadingState():this.renderLoadedState(),this.renderCloseButton()))}}]);return i}(m.Component);(0,u.default)(b,"propTypes",{customer:p.object,isLoadingExtendedCustomer:p.bool.isRequired});e.exports=b},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/components/CustomerOrdersFilterPill/CustomerOrdersFilterPill.less":function(e,t,a){e.exports={wrapper:"CustomerOrdersFilterPill-wrapper-3vFmu",pill:"CustomerOrdersFilterPill-pill-3e8NK",name:"CustomerOrdersFilterPill-name-1-o0t",error:"CustomerOrdersFilterPill-error-1FOjE",close:"CustomerOrdersFilterPill-close-1KVsz"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/components/CustomerOrdersFilterPill/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var n=a("./src/main/webapp/universal/src/shared/router/withRouter.tsx");var i=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/components/CustomerOrdersFilterPill/CustomerOrdersFilterPill.jsx");var r=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/stores/OrderCustomerStore.js");var o=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/actions/CustomerLoaderActions.js");var l=s({getStores:function e(){return[r]},getPropsFromStores:function e(){return r.getState()},componentDidConnect:function e(t){var a=t.location;var s=a.query.customerId;o.extendCustomer(s)}},i);e.exports=n(l)},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Orders/stores/OrderCustomerStore.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var o=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/actions/CustomerLoaderActions.js");var l=Object.freeze({isLoadingExtendedCustomer:true,customer:null});var c=function(){function e(){(0,n.default)(this,e);this.state=Object.assign({},l);this.bindActions(o)}(0,i.default)(e,[{key:"onExtendCustomer",value:function e(t){this.setState({isLoadingExtendedCustomer:true})}},{key:"onExtendCustomerSuccess",value:function e(t){this.setState({isLoadingExtendedCustomer:false,customer:t,editedTags:t.tags})}},{key:"onExtendCustomerFailure",value:function e(t){this.setState({isLoadingExtendedCustomer:false})}}]);return e}();e.exports=r.createStore(c,"OrderCustomerStore")},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/MarkupInput/MarkupInput.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=s(a("./common/temp/node_modules/react/index.js"));var m=n(a("./common/temp/node_modules/prop-types/index.js"));var h=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var v=n(a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js"));var g=n(a("./src/main/webapp/universal/src/shared/i18n/commerce/MoneyFormatterProvider.ts"));var f=a("./src/main/webapp/universal/packages/enums/ShippingOptionMarkupType.js");var b=n(a("./src/main/webapp/universal/src/apps/App/shared/components/MoneyInput.jsx"));var y=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/SplitSelect/index.js"));var w=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/PercentageInput/index.js"));var S=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/MarkupInput/MarkupInput.less"));function C(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,r.default)(s),t;if(n()){var a=(0,r.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var _=[p.default.createElement("option",{key:f.PERCENTAGE,value:f.PERCENTAGE},(0,h.t)("Percentage")),p.default.createElement("option",{key:f.FIXED_AMOUNT,value:f.FIXED_AMOUNT},(0,h.t)("Amount"))];var T=function(e){(0,u.default)(r,e);var i=C(r);function r(e){var n;(0,o.default)(this,r);n=i.call(this,e);(0,d.default)((0,c.default)(n),"handleTemplateChange",function(e){n.setState({template:e,value:0})});(0,d.default)((0,c.default)(n),"handleFixedAmountBlur",function(e){n.props.onInputChange({markupType:f.FIXED_AMOUNT,markupValue:Math.round(e.multiply(100).toFloat())})});(0,d.default)((0,c.default)(n),"handlePercentageChange",function(e){n.props.onInputChange({markupType:f.PERCENTAGE,markupValue:e})});(0,d.default)((0,c.default)(n),"renderPercentageInput",function(a){return p.default.createElement(y.default,{value:f.PERCENTAGE,onChange:n.handleTemplateChange,hasErrors:false,renderField:function e(t){return p.default.createElement(w.default,{maxValue:1e4,value:a,onChange:n.handlePercentageChange,wrapperClassName:t})}},_)});(0,d.default)((0,c.default)(n),"renderFixedAmountInput",function(e){var a=n.props.storeCurrency;var s=new v.default(e/100,a);return p.default.createElement(y.default,{value:f.FIXED_AMOUNT,onChange:n.handleTemplateChange,hasErrors:false,renderField:function e(t){return p.default.createElement(b.default,{value:s,currencyCode:a,formatter:g.default.formatter,onValue:n.handleFixedAmountBlur,wrapperClassName:t})}},_)});var t=n.props,a=t.value,s=t.template;n.state={template:s,value:a};return n}(0,l.default)(r,[{key:"render",value:function e(){var t=this.state,a=t.value,s=t.template;var n=this.props,i=n.title,r=n.description;return p.default.createElement("div",{className:S.default.fieldWrapper},p.default.createElement("div",{className:"title"},i),s===f.FIXED_AMOUNT?this.renderFixedAmountInput(a):this.renderPercentageInput(a),p.default.createElement("div",{className:"description"},r))}}]);return r}(p.Component);(0,d.default)(T,"propTypes",{template:m.default.oneOf([f.FIXED_AMOUNT,f.PERCENTAGE]),value:m.default.number,storeCurrency:m.default.string,onInputChange:m.default.func});var j=T;t.default=j;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/MarkupInput/MarkupInput.less":function(e,t,a){e.exports={fieldWrapper:"MarkupInput-fieldWrapper-3-HG3"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/MarkupInput/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/MarkupInput/MarkupInput.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/CountryList.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=n(a("./common/temp/node_modules/prop-types/index.js"));var m=s(a("./common/temp/node_modules/react/index.js"));var h=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/SelectedCountry.jsx"));var v=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/CountryList.less"));function g(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var f=function(e){(0,c.default)(i,e);var n=g(i);function i(){var t;(0,r.default)(this,i);for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];t=n.call.apply(n,[this].concat(a));(0,d.default)((0,l.default)(t),"handleEdit",function(e){return t.props.onEdit(e)});(0,d.default)((0,l.default)(t),"handleDelete",function(e){return t.props.onDelete(e)});return t}(0,o.default)(i,[{key:"render",value:function e(){var t=this;var a=this.props,s=a.shippableRegions,n=a.selectedRegions;var i=Object.values(n);var r=1===n.length;var o=!r;return m.default.createElement("ul",{className:v.default.container},i.map(function(e){return m.default.createElement(h.default,{key:e.twoLetterIsoCode,allRegions:s,country:e,canDelete:o,onEdit:t.handleEdit,onDelete:t.handleDelete})}))}}]);return i}(m.Component);t.default=f;(0,d.default)(f,"propTypes",{shippableRegions:p.default.object.isRequired,selectedRegions:p.default.object.isRequired,onEdit:p.default.func.isRequired,onDelete:p.default.func.isRequired});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/CountryList.less":function(e,t,a){e.exports={container:"CountryList-container-1q9qZ",countryItem:"CountryList-countryItem-2btcv",label:"CountryList-label-2FSNh",countryName:"CountryList-countryName-3OztG",edit:"CountryList-edit-2IM3b",delete:"CountryList-delete-zM7nj icons-trash-117e5"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/SelectedCountry.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=n(a("./common/temp/node_modules/prop-types/index.js"));var m=s(a("./common/temp/node_modules/react/index.js"));var h=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var v=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/RegionFormatter.js");var g=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/CountryList.less"));function f(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var b={edit:(0,h.t)("Edit"),delete:(0,h.t)("Delete")};var y=function(e){(0,c.default)(i,e);var s=f(i);function i(){var n;(0,r.default)(this,i);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=s.call.apply(s,[this].concat(t));(0,d.default)((0,l.default)(n),"handleEdit",function(e){e.stopPropagation();var t=n.props,a=t.onEdit,s=t.country;a(s)});(0,d.default)((0,l.default)(n),"handleDelete",function(e){e.stopPropagation();var t=n.props,a=t.onDelete,s=t.country;a(s)});return n}(0,o.default)(i,[{key:"renderSelectedRegions",value:function e(){var t=this.props.country;var a=t.localizedName;if(t.hasChildren){var s=(0,v.formatComplex)(t);return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:g.default.countryName},a),s)}return m.default.createElement("div",{className:g.default.countryName},a)}},{key:"render",value:function e(){var t=this.props,a=t.country,s=t.canDelete;return m.default.createElement("li",{key:a.twoLetterIsoCode,className:g.default.countryItem},m.default.createElement("span",{className:g.default.label},this.renderSelectedRegions()),a.hasChildren&&m.default.createElement("button",{className:g.default.edit,"data-test":"edit-selected-country",onClick:this.handleEdit,title:b.edit},b.edit),s&&m.default.createElement("button",{className:g.default.delete,onClick:this.handleDelete,title:b.delete}))}}]);return i}(m.Component);t.default=y;(0,d.default)(y,"propTypes",{allRegions:p.default.object.isRequired,country:p.default.object.isRequired,canDelete:p.default.bool.isRequired,onEdit:p.default.func.isRequired,onDelete:p.default.func.isRequired});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/CountryList.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/CountryModal.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var y=s(a("./common/temp/node_modules/react/index.js"));var p=n(a("./common/temp/node_modules/prop-types/index.js"));var m=n(a("./common/temp/node_modules/lodash/cloneDeep.js"));var w=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var S=a("./src/main/webapp/universal/src/shared/constants/Positions.js");var C=n(a("./src/main/webapp/universal/src/shared/components/Modal/index.jsx"));var _=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getCountryLabels.js"));var T=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/RegionFormatter.js");var j=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/validatePostalCodes.js"));var h=n(a("./src/main/webapp/universal/packages/enums/RegionType.js"));var q=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/Subdivision.jsx"));var v=n(a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var I=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/CountryModal.less"));function g(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var E={cancel:(0,w.t)("Cancel"),done:(0,w.t)("Done")};var f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!(t.postalCodes&&t.postalCodes.length)};var A=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(t).every(function(e){return e.selected&&!f(e)})};var x=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(t).some(function(e){return e.selected})};var b=function(e){(0,l.default)(n,e);var s=g(n);function n(e){var b;(0,i.default)(this,n);b=s.call(this,e);(0,d.default)((0,o.default)(b),"bindSelect",function(s){return function(){var e=b.state.country;var t=e.children;var a=t[s].selected;t[s].selected=!a;e.allChildrenSelected=A(t);b.setState({someSelected:x(t),country:e})}});(0,d.default)((0,o.default)(b),"bindPostalCodesChange",function(i){return function(e){var t=b.state.country;var a=t.children;var s=(0,j.default)(e,t.twoLetterIsoCode),n=s.errorMessages;a[i].postalCodes=e;t.allChildrenSelected=A(a);b.setState({country:t,hasInvalidPostalCodes:!!n.length})}});(0,d.default)((0,o.default)(b),"bindEditorToggle",function(t){return function(){var e=b.state.editingSubdivision;e!==t?b.setState({editingSubdivision:t}):b.setState({editingSubdivision:null})}});(0,d.default)((0,o.default)(b),"handleSelectAll",function(){var e=b.state.country;var t=e.allChildrenSelected,a=e.children;var s=!t;Object.values(a).forEach(function(e){return e.selected=s});e.allChildrenSelected=s;b.setState({country:e,someSelected:s})});(0,d.default)((0,o.default)(b),"trackChanges",function(){var e=b.props.country;var t=b.state.country;var a=JSON.stringify(e)!==JSON.stringify(t);var s=Object.values(t.children);var n=t.allChildrenSelected?s:s.filter(function(e){return e.selected});var i=n.filter(function(e){return f(e)}).length;(0,v.default)("merchant_regional_shipping_changed",{didChange:a,selected:n.length,selectedWithPostalCodes:i,total:s.length})});(0,d.default)((0,o.default)(b),"handleSave",function(){var e=b.state.country;e.allChildrenSelected=A(e.children);b.setState({country:e});b.trackChanges();b.props.onSave(b.state.country)});(0,d.default)((0,o.default)(b),"renderSubdivision",function(e){var t=e.twoLetterIsoCode,a=e.localizedName,s=e.selected,n=e.postalCodes;var i=b.props,r=i.isPostalCodeShippingEnabled,o=i.isWebsiteInTrial,l=i.postalCodeShippingUpsellInfo;var c=b.state,u=c.allSelected,d=c.country,p=c.hasInvalidPostalCodes,m=c.editingSubdivision;var h=(0,j.default)(n,d.twoLetterIsoCode),v=h.annotatedPostalCodes,g=h.errorMessages;var f=u||s;return y.default.createElement(q.default,{canEditPostalCodes:!p,country:d,isPostalCodeShippingEnabled:r,isWebsiteInTrial:o,postalCodeShippingUpsellInfo:l,key:t,selected:f,showPostalCodeEditor:m===t,postalCodes:v,postalCodeErrors:g,testHook:"region-".concat(t),onPostalCodesChange:b.bindPostalCodesChange(t),onEditorToggle:b.bindEditorToggle(t),onSelect:b.bindSelect(t)},a)});var t=b.props.country;var a=(0,m.default)(t);a.allChildrenSelected=A(a.children);b.state={country:a,editingSubdivision:null,hasInvalidPostalCodes:false,someSelected:x(a.children)};return b}(0,r.default)(n,[{key:"renderSubdivisions",value:function e(){var t=this.state.country;var a=Object.values(t.children);return a.map(this.renderSubdivision)}},{key:"render",value:function e(){var t=this.props,a=t.parent,s=t.margin,n=t.onClose,i=t.onRequestClose;var r=this.state,o=r.hasInvalidPostalCodes,l=r.someSelected,c=r.country;var u=a.offsetWidth-s;var d=a.offsetHeight-s;false;var p=s/2;var m=a.getBoundingClientRect(),h=m.top,v=m.left;var g={top:h+p,left:v+p};var f=(0,w.t)("Edit {countryName}",{countryName:c.localizedName});var b=(0,w.t)("All {subdivisionsLabel}",{subdivisionsLabel:(0,_.default)(c.twoLetterIsoCode).subdivisionsLabel});return y.default.createElement(C.default,{isOpen:true,anchor:g,width:u,height:d,position:{join:S.TOP_LEFT,to:S.TOP_LEFT},hasAnchorPointer:false,onRequestClose:i||n},y.default.createElement(C.default.Header,{hasRule:true,className:I.default.header},y.default.createElement("div",null,f),y.default.createElement("div",{className:I.default.description},(0,T.formatSimple)(c))),y.default.createElement(C.default.Body,{className:I.default.body,style:{maxHeight:d,overflowY:"scroll"}},y.default.createElement(q.default,{canEditPostalCodes:false,selected:c.allChildrenSelected,testHook:"region-all",onSelect:this.handleSelectAll},b),this.renderSubdivisions()),y.default.createElement(C.default.Footer,null,y.default.createElement(C.default.Button,{onClick:n},E.cancel),y.default.createElement(C.default.Button,{disabled:!l||o,onClick:this.handleSave,"data-test":"regions-done-button"},E.done)))}}]);return n}(y.Component);t.default=b;(0,d.default)(b,"propTypes",{parent:p.default.instanceOf(HTMLElement).isRequired,margin:p.default.number,country:p.default.shape({allChildrenSelected:p.default.bool,children:p.default.objectOf(p.default.objectOf),hasChildren:p.default.bool,selected:p.default.bool,twoLetterIsoCode:p.default.string,localizedName:p.default.string,type:p.default.oneOf(Object.values(h.default))}).isRequired,onClose:p.default.func,onSave:p.default.func,onRequestClose:p.default.func,isPostalCodeShippingEnabled:p.default.bool.isRequired,isWebsiteInTrial:p.default.bool,postalCodeShippingUpsellInfo:p.default.objectOf(p.default.string)});(0,d.default)(b,"defaultProps",Object.freeze({margin:0,onClose:function e(){},onSave:function e(){},onRequestClose:function e(){}}));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/CountryModal.less":function(e,t,a){e.exports={body:"CountryModal-body-2egRk",header:"CountryModal-header-33jJe",description:"CountryModal-description-3SRPP"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/Subdivision.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var T=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var j=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var q=s(a("./common/temp/node_modules/react/index.js"));var d=n(a("./common/temp/node_modules/prop-types/index.js"));var I=n(a("./common/temp/node_modules/classnames/index.js"));var E=n(a("./common/temp/node_modules/@sqs/core-components/web/fields/CheckField.js"));var A=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var x=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var k=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getCountryLabels.js"));var D=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/PostalCodeInput/index.jsx"));var P=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Logo/index.js"));var R=n(a("./src/main/webapp/universal/src/shared/components/FeatureGate/UpgradeModalWrapper/index.jsx"));var O=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/Subdivision.less"));function p(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var m=function(e){(0,c.default)(i,e);var s=p(i);function i(){var n;(0,r.default)(this,i);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=s.call.apply(s,[this].concat(t));(0,j.default)((0,l.default)(n),"onClearClick",function(e){e&&e.stopPropagation();var t=n.props.onPostalCodesChange;t([])});(0,j.default)((0,l.default)(n),"onEditorToggleClick",function(){var e=n.props,t=e.selected,a=e.onEditorToggle,s=e.onSelect;t||s();a()});return n}(0,o.default)(i,[{key:"renderPostalCodes",value:function e(){var t=this.props.postalCodes;return q.default.createElement("div",{className:O.default.postalCodes},t.map(function(e){return e.postalCode}).join(", "))}},{key:"render",value:function e(){var t;var a=this.props,s=a.country,n=a.selected,i=a.onSelect,r=a.showPostalCodeEditor,o=a.isPostalCodeShippingEnabled,l=a.isWebsiteInTrial,c=a.postalCodeShippingUpsellInfo,u=a.postalCodes,d=a.postalCodeErrors,p=a.testHook,m=a.canEditPostalCodes,h=a.children,v=a.onPostalCodesChange;var g=(0,k.default)(s.twoLetterIsoCode),f=g.postalCodesLabel,b=g.examplePostalCodes;var y=!!u.length;var w=y&&n&&!r;var S=!!d.length;var C=(0,A.t)("Add {postalCodesLabel}",{postalCodesLabel:f});var _=C;r?_=(0,A.t)("Done"):y&&(_=(0,A.t)("Edit"));return q.default.createElement("div",{className:(0,I.default)(O.default.container,(t={},(0,j.default)(t,O.default.editing,r),(0,j.default)(t,O.default.expanded,w||r),t))},q.default.createElement("div",{className:O.default.subdivisionInput},q.default.createElement(E.default,{className:O.default.checkField,focusable:false,indented:true,underlined:false,value:n,onChange:i},q.default.createElement("span",{"data-test":p,className:O.default.noSelect},h)),q.default.createElement("div",{className:O.default.buttonsBlock},r&&y&&q.default.createElement("button",{onClick:this.onClearClick},q.default.createElement(x.T,{project:"apps.App"},"Clear")),m&&(o||l?q.default.createElement("button",{disabled:S,onClick:this.onEditorToggleClick},_):q.default.createElement("div",{className:O.default.upsellButton},q.default.createElement(R.default,(0,T.default)({isTrial:l,analyticsId:"commerce-postal-code-shipping",className:O.default.upsellLabel},c),C),q.default.createElement(P.default,(0,T.default)({isTrial:l,analyticsId:"commerce-postal-code-shipping"},c)))))),r&&q.default.createElement(D.default,{hasErrors:S,postalCodes:u,placeholder:"".concat(C," ").concat(b),onPostalCodesChange:v}),w&&this.renderPostalCodes(),d.length>0&&q.default.createElement("div",{className:O.default.errorMessage},d.join(" ")))}}]);return i}(q.Component);t.default=m;(0,j.default)(m,"propTypes",{canEditPostalCodes:d.default.bool,children:d.default.node,country:d.default.object,isPostalCodeShippingEnabled:d.default.bool,isWebsiteInTrial:d.default.bool,postalCodeShippingUpsellInfo:d.default.objectOf(d.default.string),postalCodes:d.default.arrayOf(d.default.shape({postalCode:d.default.string,isValid:d.default.bool})),postalCodeErrors:d.default.arrayOf(d.default.string),selected:d.default.bool,showPostalCodeEditor:d.default.bool,testHook:d.default.string,onEditorToggle:d.default.func,onPostalCodesChange:d.default.func,onSelect:d.default.func});(0,j.default)(m,"defaultProps",Object.freeze({canEditPostalCodes:false,country:{},isPostalCodeShippingEnabled:false,postalCodes:[],postalCodeErrors:[],showPostalCodeEditor:false,selected:false,onEditorToggle:function e(){},onPostalCodesChange:function e(){},onSelect:function e(){}}));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/Subdivision.less":function(e,t,a){e.exports={container:"Subdivision-container-BlvhK",checkField:"Subdivision-checkField-14IGR",expanded:"Subdivision-expanded-WROcv",editing:"Subdivision-editing-3ChlD",buttonsBlock:"Subdivision-buttonsBlock-3tVp_",upsellButton:"Subdivision-upsellButton-vmkOb",upsellLabel:"Subdivision-upsellLabel-2Xulb",subdivisionInput:"Subdivision-subdivisionInput-35jFh",noSelect:"Subdivision-noSelect-2-rvg",postalCodes:"Subdivision-postalCodes-FHVYI",errorMessage:"Subdivision-errorMessage-2-JR3"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/CountryModal.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountrySearch.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var h=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var v=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var p=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var g=s(a("./common/temp/node_modules/react/index.js"));var m=n(a("./common/temp/node_modules/prop-types/index.js"));var f=n(a("./common/temp/node_modules/classnames/index.js"));var b=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var y=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/RegionFormatter.js");var w=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/removeAccents.js");var S=n(a("./src/main/webapp/universal/src/shared/components/SearchableList.jsx"));var C=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountrySearch.less"));function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function T(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),true).forEach(function(e){(0,p.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function j(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var q={alreadySelected:(0,b.t)("already selected"),restOfWorld:function e(t){return(0,b.t)("Rest of the World ({num} Countries)",{num:t})},restOfWorldUnavailable:(0,b.t)("Delete added countries to select Rest of the World"),selectCountries:(0,b.t)("Select Countries")};var I=function e(t){var a=t.available,s=void 0===a||a,n=t.numberOfCountries,i=void 0===n?0:n;var r=(0,f.default)(C.default.countryLabel,C.default.restOfWorldLabel,(0,p.default)({},C.default.countryLabelFaded,!s));return g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{className:r,"data-test":"rest-of-world"},s?q.restOfWorld(i):q.restOfWorldUnavailable),g.default.createElement("div",{className:C.default.selectLabel},g.default.createElement("span",{className:C.default.selectLabelText},q.selectCountries)))};I.propTypes={available:m.default.bool,numberOfCountries:m.default.number};var E=function e(t){var a=t.countries,s=(0,d.default)(t,["countries"]);var n=s.localizedName,i=s.selected,r=s.twoLetterIsoCode;var o=n;if(i){o+=" (".concat(q.alreadySelected,")");var l=(0,f.default)(C.default.countryLabel,C.default.countryLabelFaded);return g.default.createElement("div",{className:l},o)}o+=" "+(0,y.formatSimple)(s);return g.default.createElement("div",{"data-test":"country-".concat(r),className:C.default.countryLabel},o)};E.propTypes={countries:m.default.object.isRequired,twoLetterIsoCode:m.default.string.isRequired,localizedName:m.default.string.isRequired};var A=function(e){(0,l.default)(c,e);var a=j(c);function c(e){var l;(0,i.default)(this,c);l=a.call(this,e);(0,p.default)((0,o.default)(l),"handleClearRestOfWorld",function(e){e.stopPropagation();l.props.onRestOfWorldChange(false);setTimeout(function(){return l.searchRef.focusInput()},0)});(0,p.default)((0,o.default)(l),"handleChange",function(e){l.setState({searchString:e})});(0,p.default)((0,o.default)(l),"handleSelect",function(e){var t=e.target.value;var a=l.props,s=a.areRegionsSelected,n=a.onRestOfWorldChange,i=a.onSelect;var r=t.restOfWorld,o=t.selected;if(o)return;l.setState(c.defaultState);if(r){s||n(true);return}i(t)});(0,p.default)((0,o.default)(l),"handleBlur",function(){l.setState({isOpen:false});l.props.onBlur()});(0,p.default)((0,o.default)(l),"handleFocus",function(){l.setState({isOpen:true})});var t=l.props.countries;l.numberOfCountries=Object.keys(t).length;l.searchref=null;l.state=c.defaultState;return l}(0,r.default)(c,[{key:"render",value:function e(){var a=this;var t=this.props,s=t.areRegionsSelected,n=t.restOfWorld,i=t.countries,r=t.errorMessage,o=t.isLoading,l=t.placeholder;var c=this.state,u=c.searchString,d=c.isOpen;if(n&&!d)return g.default.createElement("div",{className:C.default.restOfWorld},g.default.createElement("div",{className:C.default.restOfWorldText},q.restOfWorld(this.numberOfCountries)),g.default.createElement("div",{onClick:this.handleClearRestOfWorld,className:C.default.close}));var p=(0,w.removeAccents)(u).toLowerCase();var m=Object.values(i).map(function(e){return T({},e,{allChildrenSelected:true})});m=""!==p?m.filter(function(e){var t=e.twoLetterIsoCode,a=e.localizedName;return t.toLowerCase().includes(p)||(0,w.removeAccents)(a).toLowerCase().includes(p)}):[{restOfWorld:true}].concat((0,v.default)(m));return g.default.createElement(S.default,{onRef:function e(t){return a.searchRef=t},placeholder:l,isLoading:o,isOpen:d,onChange:this.handleChange,onSelect:this.handleSelect,onFocus:this.handleFocus,onBlur:this.handleBlur,searchString:u,items:m,errorMessage:r,className:C.default.searchableList},function(e){return e.restOfWorld?g.default.createElement(I,{available:!s,numberOfCountries:a.numberOfCountries}):g.default.createElement(E,(0,h.default)({countries:i},e))})}}]);return c}(g.Component);t.default=A;(0,p.default)(A,"propTypes",{areRegionsSelected:m.default.bool.isRequired,placeholder:m.default.string.isRequired,isLoading:m.default.bool.isRequired,countries:m.default.object.isRequired,restOfWorld:m.default.bool.isRequired,onRestOfWorldChange:m.default.func.isRequired,onSelect:m.default.func.isRequired,onBlur:m.default.func,onFocus:m.default.func,errorMessage:m.default.string});(0,p.default)(A,"defaultProps",{errorMessage:null,onBlur:function e(){},onFocus:function e(){}});(0,p.default)(A,"defaultState",Object.freeze({searchString:"",isOpen:false}));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountrySearch.less":function(e,t,a){e.exports={restOfWorld:"CountrySearch-restOfWorld-8VuOX",restOfWorldText:"CountrySearch-restOfWorldText-1826e",close:"CountrySearch-close-1EA64 icons-clear-3iHX5",searchableList:"CountrySearch-searchableList-3aZRD",countryLabel:"CountrySearch-countryLabel-3B0FW",restOfWorldLabel:"CountrySearch-restOfWorldLabel-3Qw7g",selectLabel:"CountrySearch-selectLabel-2gviI",selectLabelText:"CountrySearch-selectLabelText-2kMIs",countryLabelFaded:"CountrySearch-countryLabelFaded-1F8GO"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/PostalCodeInput/PostalCodeInput.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=s(a("./common/temp/node_modules/react/index.js"));var h=n(a("./common/temp/node_modules/prop-types/index.js"));var v=n(a("./common/temp/node_modules/classnames/index.js"));var g=n(a("./src/main/webapp/universal/src/shared/components/TagSetInput.jsx"));var f=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/PostalCodeInput/PostalCodeInput.less"));function b(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,d.default)(s),t;if(n()){var a=(0,d.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,u.default)(this,t)}}var y=6e3;var w=",";var S=function(e){(0,l.default)(a,e);var t=b(a);function a(e){var l;(0,i.default)(this,a);l=t.call(this,e);(0,p.default)((0,o.default)(l),"flattenPostalCodes",function(e){return e.map(function(e){return e.postalCode})});(0,p.default)((0,o.default)(l),"handleAddTag",function(e){e&&e.preventDefault();var t=l.props,a=t.postalCodes,s=t.onPostalCodesChange;var n=l.state.newInput;var i=l.normalizeTag(n);var r=l.flattenPostalCodes(a);if(i.length){var o;o=-1!==i.indexOf(w)?i.split(w).map(function(e){return e.trim()}):i.split(/\s+/);s([].concat((0,c.default)(r),(0,c.default)(o)))}l.setState({newInput:""})});(0,p.default)((0,o.default)(l),"handleDeleteTag",function(e,t){t&&t.stopPropagation();var a=l.props,s=a.postalCodes,n=a.onPostalCodesChange;var i=l.state.selectedIndex;var r=i>0?i-1:i;var o=l.flattenPostalCodes(s);o.splice(e,1);n(o);l.setState({selectedIndex:r})});(0,p.default)((0,o.default)(l),"handleFieldClick",function(e){"INPUT"===e.target.tagName&&l.setState({selectedIndex:-1});l.tagInput.current.focus()});(0,p.default)((0,o.default)(l),"handleInputChange",function(e){var t=e.target.value;l.setState({selectedIndex:t.length>0?-1:l.state.selectedIndex,newInput:t})});(0,p.default)((0,o.default)(l),"handleBackspaceKey",function(){var e=l.state.selectedIndex;var t=l.props.postalCodes;-1!==e?l.handleDeleteTag(e):t.length>0&&l.setState({selectedIndex:t.length-1})});(0,p.default)((0,o.default)(l),"handleLeftKey",function(){var e=l.state.selectedIndex;var t=l.props.postalCodes;var a=-1;t.length>0&&(a=-1!==e?Math.max(e-1,0):t.length-1);l.setState({selectedIndex:a})});(0,p.default)((0,o.default)(l),"handleRightKey",function(){var e=l.state.selectedIndex;var t=l.props.postalCodes;if(-1!==e){var a=e<t.length-1?e+1:-1;l.setState({selectedIndex:a})}});(0,p.default)((0,o.default)(l),"normalizeTag",function(e){return e?e.toUpperCase().trim():""});(0,p.default)((0,o.default)(l),"renderTag",function(e,t){var a=e.postalCode,s=e.isValid;var n=l.state.selectedIndex;var i=(0,v.default)(f.default.tag,(0,p.default)({},f.default.invalid,!s),(0,p.default)({},f.default.selected,-1!==n&&t===n));return m.default.createElement("span",{className:i,key:"".concat(a,"-").concat(t),onClick:l.handleDeleteTag.bind((0,o.default)(l),t)},a)});l.tagInput=m.default.createRef();l.state=a.defaultState;return l}(0,r.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.containerClassName,s=t.placeholder,n=t.postalCodes,i=t.hasErrors;var r=this.state,o=r.selectedIndex,l=r.newInput;var c=n.length?"":s;var u=(0,v.default)(f.default.container,a,(0,p.default)({},f.default.hasErrors,i));return m.default.createElement("div",{className:u,onClick:this.handleFieldClick},n.map(this.renderTag),m.default.createElement(g.default,{isHidden:-1!==o,maxLength:y,onChange:this.handleInputChange,onBackspaceKeyUp:this.handleBackspaceKey,onBlur:this.handleAddTag,onLeftKeyUp:this.handleLeftKey,onRightKeyUp:this.handleRightKey,onSubmit:this.handleAddTag,placeholder:c,value:l,textInput:true,ref:this.tagInput}))}}]);return a}(m.Component);t.default=S;(0,p.default)(S,"propTypes",{hasErrors:h.default.bool,postalCodes:h.default.arrayOf(h.default.object),containerClassName:h.default.string,placeholder:h.default.string,onPostalCodesChange:h.default.func.isRequired});(0,p.default)(S,"defaultProps",{hasErrors:false,placeholder:"",postalCodes:[]});(0,p.default)(S,"defaultState",{selectedIndex:-1,newInput:""});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/PostalCodeInput/PostalCodeInput.less":function(e,t,a){e.exports={container:"PostalCodeInput-container-oy73e",hasErrors:"PostalCodeInput-hasErrors-236Ry",tagList:"PostalCodeInput-tagList-3JJC-",tag:"PostalCodeInput-tag-1qkpS",selected:"PostalCodeInput-selected-2bkmv",invalid:"PostalCodeInput-invalid-2QajP"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/PostalCodeInput/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/PostalCodeInput/PostalCodeInput.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/RegionalShipping.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var v=s(a("./common/temp/node_modules/react/index.js"));var p=n(a("./common/temp/node_modules/prop-types/index.js"));var g=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var f=a("./common/temp/node_modules/@sqs/styles/variables/baseDamask.js");var b=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryModal/index.js"));var y=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountryList/index.js"));var w=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/CountrySearch.jsx"));var S=n(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/RegionalShipping.less"));function m(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var h=function(e){(0,l.default)(s,e);var a=m(s);function s(e){var t;(0,i.default)(this,s);t=a.call(this,e);(0,d.default)((0,o.default)(t),"handleCountrySelect",function(e){t.props.onSelect(e)});(0,d.default)((0,o.default)(t),"handleCountryChange",function(e){t.setState(s.defaultState);t.props.onChange(e)});(0,d.default)((0,o.default)(t),"handleCountryEdit",function(e){t.setState({editCountry:e})});(0,d.default)((0,o.default)(t),"handleCountryEditClose",function(){t.setState(s.defaultState)});(0,d.default)((0,o.default)(t),"handleCountryRemoval",function(e){t.props.onRemove(e)});(0,d.default)((0,o.default)(t),"handleRestOfWorldChange",function(e){t.setState(s.defaultState);t.props.onRestOfWorldChange(e)});t.state=s.defaultState;return t}(0,r.default)(s,[{key:"render",value:function e(){var t=this.props,a=t.title,s=t.description,n=t.placeholder,i=t.restOfWorld,r=t.regions,o=t.selectedRegions,l=t.isPostalCodeShippingEnabled,c=t.isWebsiteInTrial,u=t.postalCodeShippingUpsellInfo,d=t.containerEl;var p=this.state,m=p.editCountry,h=p.isLoading;return v.default.createElement("div",{className:S.default.container},v.default.createElement(g.Description,{title:a}),v.default.createElement(w.default,{areRegionsSelected:!!Object.keys(o).length,restOfWorld:i,countries:r,placeholder:n,isLoading:h,onRestOfWorldChange:this.handleRestOfWorldChange,onSelect:this.handleCountrySelect}),v.default.createElement(g.Description,null,s),v.default.createElement(y.default,{shippableRegions:r,selectedRegions:o,onDelete:this.handleCountryRemoval,onEdit:this.handleCountryEdit}),m&&v.default.createElement(b.default,{parent:d,margin:f.GRID_PX,country:m,onClose:this.handleCountryEditClose,onSave:this.handleCountryChange,isPostalCodeShippingEnabled:l,isWebsiteInTrial:c,postalCodeShippingUpsellInfo:u}))}}]);return s}(v.Component);t.default=h;(0,d.default)(h,"propTypes",{title:p.default.string.isRequired,description:p.default.string.isRequired,placeholder:p.default.string.isRequired,restOfWorld:p.default.bool.isRequired,regions:p.default.object.isRequired,selectedRegions:p.default.object.isRequired,onRemove:p.default.func.isRequired,onSelect:p.default.func.isRequired,onChange:p.default.func.isRequired,onRestOfWorldChange:p.default.func.isRequired,isPostalCodeShippingEnabled:p.default.bool.isRequired,isWebsiteInTrial:p.default.bool,postalCodeShippingUpsellInfo:p.default.objectOf(p.default.string),containerEl:p.default.instanceOf(HTMLElement)});(0,d.default)(h,"defaultState",Object.freeze({editCountry:null,isLoading:false}));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/RegionalShipping.less":function(e,t,a){e.exports={container:"RegionalShipping-container-1ECv2"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/RegionalShipping.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/RegionFormatter.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.formatShort=t.formatSimple=t.formatComplex=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var S=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getCountryLabels.js"));function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var o=Object.freeze({showSelected:true,showExcluded:true,showLabel:true,showSubdivisionsLabel:true,showPostalCodes:true,showParentheses:false,maxRegionsToDisplay:3,maxPostalCodesToDisplay:5});var C=function e(t){if(!Array.isArray(t)||0===t.length)return"";var a=(0,m.default)(t);var s=a.length;var n=a.pop();if(1===s)return n;if(2===s)return(0,S.t)("{firstItem} and {lastItem}",{firstItem:a[0],lastItem:n});return(0,S.t)("{firstItems}, and {lastItem}",{firstItems:a.join(", "),lastItem:n})};var _=function e(t){var a=t.allChildrenSelected,s=t.children,n=t.twoLetterIsoCode;var i=Object.values(s);var r=i.length;var o=Object.values(i).filter(function(e){return e.selected});var l=a?r:o.length;var c=o.some(function(e){return e.postalCodes&&e.postalCodes.length});var u=(0,h.default)(n),d=u.subdivisionsLabel,p=u.postalCodesLabel;return{allSelected:a,subdivisions:i,totalSubdivisions:r,selectedSubdivisions:o,numberSelected:l,hasPostalCodes:c,subdivisionsLabel:d,postalCodesLabel:p}};var T=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a=arguments.length>1?arguments[1]:void 0;var s=arguments.length>2?arguments[2]:void 0;var n=s.maxPostalCodesToDisplay;var i=t.postalCodes,r=void 0===i?[]:i,o=t.localizedName;var l=r.map(function(e){return Number(e)});var c=l.every(function(e){return!isNaN(e)});if(c&&r.length>3){var u=Math.max.apply(Math,(0,m.default)(l));var d=Math.min.apply(Math,(0,m.default)(l));if(u-d+1===r.length){var p="".concat(d,"").concat(u);return(0,S.t)("{postalCodesRange} in {region}",{postalCodesRange:p,region:o})}}if(r.length>n)return(0,S.t)("{number} {postalCodesLabel} in {region}",{number:r.length,postalCodesLabel:a,region:o});if(r.length)return(0,S.t)("{formattedPostalCodes} in {region}",{formattedPostalCodes:r.join(", "),region:o});return t.localizedName};var l=function e(t,a){var s=a.showSelected,n=a.showExcluded,i=a.showLabel,r=a.showSubdivisionsLabel,o=a.showPostalCodes,l=a.maxRegionsToDisplay;var c=_(t),u=c.allSelected,d=c.subdivisions,p=c.totalSubdivisions,m=c.selectedSubdivisions,h=c.numberSelected,v=c.hasPostalCodes,g=c.subdivisionsLabel,f=c.postalCodesLabel;var b=(0,S.t)("{numberSelected} of {totalSubdivisions}",{numberSelected:h,totalSubdivisions:p});if(i){b=(0,S.t)("{numberSelected} of {totalSubdivisions} selected",{numberSelected:h,totalSubdivisions:p});r&&(b=(0,S.t)("{numberSelected} of {totalSubdivisions} {subdivisionsLabel}",{numberSelected:h,totalSubdivisions:p,subdivisionsLabel:g}))}if(0===h)return"";if(u&&p>0||h===p)return b;if(s&&h<=l){var y=C(Object.values(m).map(function(e){return e.localizedName}));if(v&&o){if(h>1)return(0,S.t)("Select {postalCodesLabel} in {list}",{postalCodesLabel:f,list:y});return T(Object.values(m)[0],f,a)}return y}if(n&&p-h<=l){var w=d.filter(function(e){return!e.selected}).map(function(e){return e.localizedName});return(0,S.t)("Excluding {list}",{list:C(w)})}return b};var c=function e(t,a){a=r({},o,{},a);var s=l(t,a);if(s&&a.showParentheses)return"(".concat(s,")");return s};t.formatComplex=c;var u=function e(t){return c(t,{showSelected:false,showExcluded:false,showSubdivisionsLabel:false,showPostalCodes:false,showParentheses:true})};t.formatSimple=u;var d=function e(t){return c(t,{showSelected:false,showExcluded:false,showLabel:false,showPostalCodes:false,showParentheses:true})};t.formatShort=d},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/convertRegionsToArray.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./src/main/webapp/universal/packages/enums/RegionType.js"));function i(e){var a=[];Object.values(e).forEach(function(e){var t=[];if(e.selected){e.children&&!e.allChildrenSelected&&(t=i(e.children));!t.length&&e.postalCodes&&(t=e.postalCodes.map(function(e){return{key:e,children:[],regionType:n.default.POSTAL_CODE}}));a.push({key:e.twoLetterIsoCode,children:t,regionType:e.type})}});return a}var r=i;t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/convertRegionsToMap.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;function n(e){var s={};e.forEach(function(e){var t=e.key;var a={};e.children&&(a=n(e.children));s[t]={selected:true,twoLetterIsoCode:t,children:a,type:e.regionType}});return s}var s=n;t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/filterSelectedRegions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/lodash/cloneDeep.js"));var i=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(a).reduce(function(e,t){a[t].selected&&(e[t]=(0,n.default)(a[t]));return e},{})};t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getCountryLabels.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=s(a("./src/main/webapp/universal/src/shared/constants/I18N/CountryCode.js"));var o;var l=Object.freeze((o={},(0,n.default)(o,r.default.US,{subdivisionsLabel:(0,i.t)("states/territories"),postalCodesLabel:(0,i.t)("ZIP Codes"),postalCodeErrorLabel:(0,i.t)("ZIP Codes need to be 5 digits."),postalCodeRegExp:/^[0-9]{5}$/,examplePostalCodes:(0,i.t)("(e.g. 90210, 33139, 10004)")}),(0,n.default)(o,r.default.CA,{subdivisionsLabel:(0,i.t)("provinces/territories"),postalCodesLabel:(0,i.t)("FSAs"),postalCodeErrorLabel:(0,i.t)("An FSA code is invalid."),postalCodeRegExp:/^[A-Z][0-9][A-Z]$/i,examplePostalCodes:(0,i.t)("(e.g. V2Y, M4N, H3P)")}),(0,n.default)(o,"UNKNOWN",{subdivisionLabel:(0,i.t)("regions"),postalCodesLabel:(0,i.t)("postal codes"),postalCodeErrorLabel:(0,i.t)("Invalid postal code."),postalCodeRegExp:new RegExp,examplePostalCodes:""}),o));var c=function e(t){return l[t]||l.UNKNOWN};t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getShippableRegions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=a("./src/main/webapp/universal/src/shared/i18n/commerce/regionUtils.js");var n=a("./src/main/webapp/universal/src/shared/i18n/commerce/countryUtils.js");var i=a("./src/main/webapp/universal/src/shared/i18n/resolvedLocales.ts");var c=s(a("./src/main/webapp/universal/packages/enums/RegionType.js"));var r={};var u=function e(n,t){return t.reduce(function(e,t){var a=t.twoLetterIsoCode,s=t.localizedName;e[a]={type:c.default.SUBDIVISION,parent:n,localizedName:s,twoLetterIsoCode:a};return e},{})};var o=function e(t,o){return t.reduce(function(e,t){var a=t.twoLetterIsoCode,s=t.localizedName;var n=(0,l.getAllSorted)(a,o);var i=u(t,n);var r=!!(i&&Object.keys(i).length);e[a]={type:c.default.COUNTRY,localizedName:s,twoLetterIsoCode:a,children:i,hasChildren:r};return e},{})};var d=function e(t){var a=(0,n.getAllSorted)(t);return o(a,t)};var p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.getResolvedWebsiteLocale)();if(r[t])return r[t];r[t]=d(t);return r[t]};t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/markSelectedRegions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/lodash/cloneDeep.js"));var i=function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i=(0,n.default)(i);Object.values(t).forEach(function(e){var t=e.twoLetterIsoCode,a=e.children;var s=i[t];if(!s)return;s.selected=true;var n=!(a&&Object.values(a).length);s.allChildrenSelected=n;if(!a)return;Object.values(s.children).forEach(function(e){var t=a[e.twoLetterIsoCode];if(t){e.selected=false!==t.selected;e.postalCodes=t.children?Object.keys(t.children):t.postalCodes}else e.selected=n})});return i};t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/removeAccents.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.removeAccents=void 0;var s=function e(t){var a=/[\u0300-\u036f]/g;if("function"===typeof String.prototype.normalize)return t.normalize("NFD").replace(a,"");return t};t.removeAccents=s},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/validatePostalCodes.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var p=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Shipping/shared/components/RegionalShipping/utils/getCountryLabels.js"));var n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var a=arguments.length>1?arguments[1]:void 0;var s=(0,p.default)(a),n=s.postalCodeRegExp,i=s.postalCodeErrorLabel;var r=false;var o=false;var l=[];var c=[];var u=new Set;t.forEach(function(e){var t=n.test(e);var a=t&&u.has(e);r=r||a;o=o||!t;u.add(e);l.push({postalCode:e,isValid:t&&!a})});o&&c.push(i);r&&c.push((0,d.t)("Youve entered a duplicate value."));return{annotatedPostalCodes:l,errorMessages:c}};var i=n;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/actions/TaxSettingsActions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var o=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackTaxesSetup.ts");var l=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/utils/TaxSettingsApi.js"));var c=function(){function e(){(0,n.default)(this,e);this.generateActions("loadSuccess","loadFailure","reset","saveFailure")}(0,i.default)(e,[{key:"updateField",value:function e(t,a){return{field:t,value:a}}},{key:"load",value:function e(){var t=this;return l.default.load().then(function(e){return t.loadSuccess(e.data)},function(e){return t.loadFailure(e.data)}).catch(function(e){return console.error(e)})}},{key:"save",value:function e(t){var a=this;return l.default.update(t).then(function(e){return a.saveSuccess(e.data)},function(e){return a.saveFailure(e.data)}).catch(function(e){return console.error(e)})}},{key:"saveSuccess",value:function e(t){return function(e){e(t);(0,o.trackIsTaxIncludedInProductPrice)(t.taxIncludedInProductPrice)}}}]);return e}();var u=r.default.createActions(c);t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/components/TaxSettingsField.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=s(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var m=s(a("./common/temp/node_modules/prop-types/index.js"));var h=s(a("./common/temp/node_modules/react/index.js"));var v=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var g=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/actions/TaxSettingsActions.js"));var f=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/stores/TaxSettingsStore.js"));var b=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var y=a("./src/main/webapp/universal/src/shared/i18n/react.ts");function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),true).forEach(function(e){(0,p.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function C(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,d.default)(s),t;if(n()){var a=(0,d.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var _=function(e){(0,u.default)(i,e);var n=C(i);function i(){var e;(0,o.default)(this,i);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];e=n.call.apply(n,[this].concat(a));(0,p.default)((0,c.default)(e),"linkRecordField",function(a){return{key:a,value:e.props[a],onChange:function e(t){g.default.updateField(a,t);f.default.save()}}});return e}(0,l.default)(i,[{key:"render",value:function e(){return h.default.createElement(v.Check,(0,r.default)({},this.linkRecordField("taxIncludedInProductPrice"),{title:(0,b.t)("Tax is Included in Product Prices")}),h.default.createElement(y.T,{project:"apps.App"},"Check this setting if tax is included in your product prices."))}}],[{key:"getStores",value:function e(){return[f.default]}},{key:"getPropsFromStores",value:function e(){var t=f.default.getState(),a=t.currentRecord;return S({},a.toJS())}},{key:"componentDidConnect",value:function e(){return g.default.load()}}]);return i}(h.default.Component);(0,p.default)(_,"propTypes",{taxIncludedInProductPrice:m.default.bool.isRequired});var T=(0,n.default)(_);t.default=T;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/stores/TaxSettingsStore.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var o=a("./common/temp/node_modules/immutable/dist/immutable.js");var l=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/actions/TaxSettingsActions.js");var c=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/utils/TaxSettingsRecord.js");var u=function(){function e(){(0,n.default)(this,e);this.isDirty=false;this.bindActions(l);this.initialRecord=new c;this.currentRecord=this.initialRecord;this.exportPublicMethods({save:this.save})}(0,i.default)(e,[{key:"syncDirty",value:function e(){this.isDirty=!o.is(this.initialRecord,this.currentRecord)}},{key:"onReset",value:function e(){this.currentRecord=this.initialRecord;this.syncDirty()}},{key:"onUpdateField",value:function e(t){var a=t.field,s=t.value;this.currentRecord=this.currentRecord.set(a,s);this.syncDirty()}},{key:"onLoadSuccess",value:function e(t){this.initialRecord=new c(t);this.currentRecord=new c(t)}},{key:"onSaveSuccess",value:function e(){this.initialRecord=this.currentRecord;this.syncDirty()}},{key:"save",value:function e(){return l.save(this.getState().currentRecord.toJS())}}]);return e}();e.exports=r.createStore(u,"TaxSettingsStore")},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/utils/TaxSettingsApi.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var n="/api/commerce/tax/settings";var i={load:function e(){return s.get(n)},update:function e(t){return s.put(n,t)}};e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/utils/TaxSettingsRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/immutable/dist/immutable.js"),n=s.Record;e.exports=n({taxIncludedInProductPrice:false,showOrderNetTotal:false,showItemNetPrice:false,showItemTaxes:false,showTaxAnalysis:false})},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/TaxSettings/shared/utils/localizedRuleDefaults.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./src/main/webapp/universal/packages/enums/CanadianProvinces.js"));var r=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var o=s(a("./src/main/webapp/universal/src/shared/constants/I18N/CountryCode.js"));var l;var c=new Set([o.default.AT,o.default.BE,o.default.BG,o.default.HR,o.default.CY,o.default.CZ,o.default.DE,o.default.DK,o.default.EE,o.default.FI,o.default.FR,o.default.GE,o.default.GR,o.default.HU,o.default.IE,o.default.IT,o.default.LV,o.default.LT,o.default.LU,o.default.MT,o.default.NL,o.default.PL,o.default.PT,o.default.RO,o.default.SK,o.default.SI,o.default.ES,o.default.SE,o.default.GB,o.default.NO,o.default.CH,o.default.MC,o.default.IM]);var u=new Set([o.default.CA,o.default.AU,o.default.NZ]);var d=(l={},(0,n.default)(l,i.default.BC,(0,r.t)("PST")),(0,n.default)(l,i.default.MB,(0,r.t)("PST")),(0,n.default)(l,i.default.NB,(0,r.t)("HST")),(0,n.default)(l,i.default.NL,(0,r.t)("HST")),(0,n.default)(l,i.default.NS,(0,r.t)("HST")),(0,n.default)(l,i.default.ON,(0,r.t)("HST")),(0,n.default)(l,i.default.PE,(0,r.t)("HST")),(0,n.default)(l,i.default.QC,(0,r.t)("QST")),(0,n.default)(l,i.default.SK,(0,r.t)("PST")),l);var p=new Set([i.default.NB,i.default.NL,i.default.NS,i.default.ON,i.default.PE]);var m=function e(t){if(c.has(t))return(0,r.t)("VAT");if(u.has(t))return(0,r.t)("GST");if(t===o.default.US)return(0,r.t)("Sales Tax");return""};var h=function e(t){return d[t]||""};var v=function e(t){return p.has(t)};e.exports={reportingNameForCountry:m,reportingNameForCanadianProvince:h,shouldShowCombinedRate:v}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/actions/CustomerLoaderActions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var o=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/api/CustomerApi.js");var l=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/CustomerRecord.js");var c=function(){function e(){(0,n.default)(this,e)}(0,i.default)(e,[{key:"extendCustomer",value:function e(t){var a=this;return function(e){o.get(t).then(function(e){return a.extendCustomerSuccess(e.data)},function(e){return a.extendCustomerFailure(t,e)}).catch(function(e){return a.extendCustomerFailure(t,e)});e(t)}}},{key:"extendCustomerSuccess",value:function e(a){return function(e){var t=l.buildExtended(a);e(t)}}},{key:"extendCustomerFailure",value:function e(t,a){return function(e){false;e({customerId:t,e:a})}}}]);return e}();e.exports=r.createActions(c)},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/api/CustomerApi.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=s(a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts"));var l="/api/customers";var n={search:function e(t){var a=t.searchTerm,s=t.orderBy,n=t.orderDirection,i=t.pageSize,r=t.nextPageStart;return o.default.get(l,{params:{searchTerm:a,orderBy:s,orderDirection:n,pageSize:i,nextPageStart:r}})},get:function e(t){return o.default.get(l+"/"+t)}};var i=n;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/CommerceAppRedirect/CommerceAppRedirect.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/slicedToArray.js"));var d=s(a("./common/temp/node_modules/react/index.js"));var n=s(a("./common/temp/node_modules/prop-types/index.js"));var p=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=s(a("./src/main/webapp/universal/src/shared/components/MobileAppRedirect/index.jsx"));var v=s(a("./src/main/webapp/universal/src/apps/App/shared/actions/AuthenticatedAccountActions.js"));var g=s(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var f=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/CommerceAppRedirect/CommerceAppRedirect.less"));var b={ios:{to:"https://apps.apple.com/app/apple-store/id1033276920?pt=204072&ct=mweb_config_app-redirect_commerce-app&mt=8"},android:{to:"https://play.google.com/store/apps/details?id=com.squarespace.android.commerce&referrer=utm_source%3Dmweb_config_app-redirect_commerce-app"}};var i=function e(t){var a=t.showAppRedirect,s=t.name;var n=d.default.useState(a),i=(0,u.default)(n,2),r=i[0],o=i[1];var l=d.default.useCallback(function(){o(false);v.default.markTutorialCompleted(s);g.default.userBypassMobileRedirect()},[o,s]);return r?d.default.createElement(h.default,(0,c.default)({backTo:"/commerce",bannerClassName:f.default.banner,closeButtonLabel:(0,m.t)("Cancel"),title:(0,m.t)("Commerce on Mobile"),description:(0,m.t)("To build your store, download the Commerce app or go to your computer to use all Squarespace features."),onRequestContinue:l},p.Platform.selectOS(b))):null};i.propTypes={showAppRedirect:n.default.bool,name:n.default.string.isRequired};var r=i;t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/CommerceAppRedirect/CommerceAppRedirect.less":function(e,t,a){e.exports={banner:"CommerceAppRedirect-banner-2c0lz"}},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/CommerceAppRedirect/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/prop-types/index.js"));var i=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/components/CommerceAppRedirect/CommerceAppRedirect.jsx"));var r=s(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var o=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var l=(0,r.default)({getStores:function e(){return[o.default]},getPropsFromStores:function e(t){var a=t.name;var s=!o.default.isTutorialCompleted(a);return{showAppRedirect:s}}},i.default);l.propTypes={name:n.default.string.isRequired};var c=l;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/ActiveSubscriptionSummaryRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=a("./common/temp/node_modules/immutable/dist/immutable.js");var m=s(a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js"));var h=s(a("./common/temp/node_modules/moment/moment.js"));a("./common/temp/node_modules/moment-timezone/index.js");var v=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));function u(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var d={id:null,isActive:true,subscribableName:null,subtotal:null,billingPeriod:null,renewsOn:null,orderHistory:null,createdOn:null,numBillingCycles:null,numCompletedBillingCycles:null,isPaywall:false};var p=function(e){(0,r.default)(p,e);var t=u(p);function p(){(0,n.default)(this,p);return t.apply(this,arguments)}(0,i.default)(p,null,[{key:"buildMinimal",value:function e(t){var a=t.id,s=t.subscribableName,n=t.subtotal,i=t.billingPeriod,r=t.renewsOn,o=t.createdOn,l=t.numBillingCycles,c=t.numCompletedBillingCycles,u=t.isPaywall;return new p({id:a,subscribableName:s,subtotal:m.default.fromJson(n),billingPeriod:i,renewsOn:h.default.tz(r,v.default.getState().get("timeZone")),createdOn:(0,h.default)(o).toDate(),numBillingCycles:l,numCompletedBillingCycles:c,isPaywall:u})}},{key:"buildWithOrderHistory",value:function e(t,a){var s=t.id,n=t.subscribableName,i=t.subtotal,r=t.billingPeriod,o=t.renewsOn,l=t.createdOn,c=t.numBillingCycles,u=t.numCompletedBillingCycles,d=t.isPaywall;return new p({id:s,subscribableName:n,subtotal:m.default.fromJson(i),billingPeriod:r,renewsOn:h.default.tz(o,v.default.getState().get("timeZone")),orderHistory:a,createdOn:(0,h.default)(l).toDate(),numBillingCycles:c,numCompletedBillingCycles:u,isPaywall:d})}},{key:"buildWithRenewsOn",value:function e(t,a){var s=t.id,n=t.subscribableName,i=t.subtotal,r=t.billingPeriod,o=t.orderHistory,l=t.createdOn,c=t.numBillingCycles,u=t.numCompletedBillingCycles,d=t.isPaywall;return new p({id:s,subscribableName:n,subtotal:m.default.fromJson(i),billingPeriod:r,renewsOn:h.default.tz(a,v.default.getState().get("timeZone")),orderHistory:o,createdOn:(0,h.default)(l).toDate(),numBillingCycles:c,numCompletedBillingCycles:u,isPaywall:d})}}]);return p}((0,c.Record)(d));t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/CustomerAddressRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./common/temp/node_modules/immutable/dist/immutable.js"),d=u.Record;var p={firstName:"",lastName:"",line1:"",line2:"",city:"",region:"",postalCode:"",country:"",phoneNumber:""};var m=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,null,[{key:"build",value:function e(t){if(!t)return null;return new a(t)}}]);return a}(d(p));e.exports=m},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/CustomerRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var h=a("./common/temp/node_modules/immutable/dist/immutable.js");var u=s(a("./common/temp/node_modules/moment/moment.js"));var d=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/NameRecord.js"));var v=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/TransactionsSummaryRecord.js"));var g=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/CustomerAddressRecord.js"));var f=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/NoteRecord.js"));var b=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/OrderSummaryRecord.js"));var y=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/ActiveSubscriptionSummaryRecord.js"));var w=s(a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/PastSubscriptionSummaryRecord.js"));function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function C(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(n()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var _={id:"",createdOn:null,email:"",hasAccount:false,name:new d.default,transactionsSummary:new v.default};var T={notes:(0,h.List)(),tags:(0,h.OrderedSet)(),lastUsedShippingAddress:null,lastUsedBillingAddress:null,latestOrderSummaries:null,subscriptionSummaries:{activeSummaries:(0,h.List)(),pastSummaries:(0,h.List)()},defaultPaymentCard:null,defaultShippingAddress:null,otherPaymentCards:(0,h.List)(),otherAddresses:(0,h.List)()};var j=Object.assign(_,T);var q=function(e){(0,o.default)(p,e);var t=C(p);function p(){(0,i.default)(this,p);return t.apply(this,arguments)}(0,r.default)(p,null,[{key:"buildMinimal",value:function e(t){var a=t.id,s=t.createdOn,n=t.email,i=t.hasAccount,r=t.name,o=t.transactionsSummary;return new p({id:a,createdOn:(0,u.default)(s).toDate(),email:n,hasAccount:i,name:new d.default(r),transactionsSummary:v.default.build(o)})}},{key:"buildExtended",value:function e(t){var a=t.notes,s=t.tags,n=t.lastUsedShippingAddress,i=t.lastUsedBillingAddress,r=t.latestOrderSummaries,o=t.subscriptionSummaries,l=t.wallet,c=t.addressBook,u=(0,m.default)(t,["notes","tags","lastUsedShippingAddress","lastUsedBillingAddress","latestOrderSummaries","subscriptionSummaries","wallet","addressBook"]);var d=p.buildAccountData(l,c);return p.buildMinimal(u).merge(S({notes:(0,h.List)(a.map(f.default.build)),tags:new h.OrderedSet(s),lastUsedShippingAddress:g.default.build(n),lastUsedBillingAddress:g.default.build(i),latestOrderSummaries:(0,h.List)(r.map(b.default.build)),subscriptionSummaries:{activeSummaries:(0,h.List)(o.activeSummaries.map(y.default.buildMinimal)),pastSummaries:(0,h.List)(o.pastSummaries.map(w.default.buildMinimal))}},d))}},{key:"buildAccountData",value:function e(t,a){if(!t||!a)return;var s=t.paymentCards,n=t.defaultPaymentCardId;var i=s.find(function(e){var t=e.id;return t===n});var r=s.filter(function(e){var t=e.id;return t!==n});var o=a.addresses,l=a.defaultShippingAddressId;var c=o.find(function(e){var t=e.id;return t===l});var u=o.filter(function(e){var t=e.id;return t!==l});return{defaultPaymentCard:i,otherPaymentCards:r,defaultShippingAddress:c,otherAddresses:u}}}]);return p}((0,h.Record)(j));t.default=q;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/NameRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/immutable/dist/immutable.js"),n=s.Record;var i=n({firstName:"",lastName:""});e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/NoteActorRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/immutable/dist/immutable.js"),n=s.Record;var i=n({displayName:""});e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/NoteRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,r.default)(this,t)}}var u=a("./common/temp/node_modules/immutable/dist/immutable.js"),d=u.Record;var p=a("./common/temp/node_modules/moment/moment.js");var m=a("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/NoteActorRecord.js");var h={id:null,createdOn:null,createdBy:null,content:""};var v=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,n.default)(this,r);return t.apply(this,arguments)}(0,i.default)(r,null,[{key:"build",value:function e(t){var a=t.id,s=t.createdOn,n=t.createdBy,i=t.content;return new r({id:a,createdOn:p(s).toDate(),createdBy:new m(n),content:i})}}]);return r}(d(h));e.exports=v},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/OrderSummaryRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function u(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var c=a("./common/temp/node_modules/immutable/dist/immutable.js"),d=c.Record;var p=a("./common/temp/node_modules/moment/moment.js");var m=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var h={id:null,orderNumber:null,submittedOn:null,fulfillmentState:null,channelType:null,channelName:null,grandTotal:null};var v=function(e){(0,r.default)(c,e);var t=u(c);function c(){(0,n.default)(this,c);return t.apply(this,arguments)}(0,i.default)(c,null,[{key:"build",value:function e(t){var a=t.id,s=t.orderNumber,n=t.submittedOn,i=t.fulfillmentState,r=t.channelType,o=t.grandTotal,l=t.channelName;return new c({id:a,orderNumber:s,submittedOn:p(n).toDate(),fulfillmentState:i,channelType:r,grandTotal:m.fromJson(o),channelName:l})}}]);return c}(d(h));e.exports=v},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/PastSubscriptionSummaryRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=a("./common/temp/node_modules/immutable/dist/immutable.js");var m=s(a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js"));var h=s(a("./common/temp/node_modules/moment/moment.js"));function u(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var d={id:null,isActive:false,subscribableName:null,subtotal:null,billingPeriod:null,lastActivityOn:null,orderHistory:null,createdOn:null,numBillingCycles:null,numCompletedBillingCycles:null,status:null};var p=function(e){(0,r.default)(p,e);var t=u(p);function p(){(0,n.default)(this,p);return t.apply(this,arguments)}(0,i.default)(p,null,[{key:"buildMinimal",value:function e(t){var a=t.id,s=t.subscribableName,n=t.subtotal,i=t.billingPeriod,r=t.lastActivityOn,o=t.createdOn,l=t.numBillingCycles,c=t.numCompletedBillingCycles,u=t.status;return new p({id:a,subscribableName:s,subtotal:m.default.fromJson(n),billingPeriod:i,lastActivityOn:(0,h.default)(r).toDate(),createdOn:(0,h.default)(o).toDate(),numBillingCycles:l,numCompletedBillingCycles:c,status:u})}},{key:"buildWithOrderHistory",value:function e(t,a){var s=t.id,n=t.subscribableName,i=t.subtotal,r=t.billingPeriod,o=t.lastActivityOn,l=t.createdOn,c=t.numBillingCycles,u=t.numCompletedBillingCycles,d=t.status;return new p({id:s,subscribableName:n,subtotal:m.default.fromJson(i),billingPeriod:r,lastActivityOn:(0,h.default)(o).toDate(),orderHistory:a,createdOn:(0,h.default)(l).toDate(),numBillingCycles:c,numCompletedBillingCycles:u,status:d})}}]);return p}((0,c.Record)(d));t.default=p;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/shared/records/TransactionsSummaryRecord.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./common/temp/node_modules/immutable/dist/immutable.js"),d=u.Record;var p=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var m=a("./common/temp/node_modules/moment/moment.js");var h={firstOrderSubmittedOn:null,lastOrderSubmittedOn:null,orderCount:0,totalOrderAmount:null,totalOrderRefundedAmount:null,averageOrderValue:null};var v=function(e){(0,r.default)(u,e);var t=c(u);function u(){(0,n.default)(this,u);return t.apply(this,arguments)}(0,i.default)(u,null,[{key:"build",value:function e(t){var a=t.firstOrderSubmittedOn,s=t.lastOrderSubmittedOn,n=t.orderCount,i=t.totalOrderAmount,r=t.totalOrderRefundedAmount,o=t.averageOrderValue;var l=a?m(a).toDate():null;var c=s?m(s).toDate():null;return new u({firstOrderSubmittedOn:l,lastOrderSubmittedOn:c,orderCount:n,totalOrderAmount:p.fromJson(i),totalOrderRefundedAmount:p.fromJson(r),averageOrderValue:p.fromJson(o)})}}]);return u}(d(h));e.exports=v},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/navCategories.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.collectionNavCategories=t.nestedCategoriesTab=t.advancedTab=t.mediaTab=t.socialTab=t.seoTab=t.generalTab=void 0;var n=s(a("./src/main/webapp/universal/packages/enums/Flag.js"));var i=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var r=function e(){return true};var o=function e(){return!i.TemplateVersionUtils.isSevenOne()};var l=function e(){return!(0,i.isV8)()};var c={displayName:(0,i.t)("General"),$route:null,show:r};t.generalTab=c;var u={displayName:(0,i.t)("SEO"),$route:"seo",show:r};t.seoTab=u;var d={displayName:(0,i.t)("Social Image"),$route:"socialImage",show:r};t.socialTab=d;var p={displayName:(0,i.t)("Media"),$route:"media",show:function e(){return o()&&l()}};t.mediaTab=p;var m={displayName:(0,i.t)("Advanced"),$route:"advanced",show:r};t.advancedTab=m;var h={displayName:(0,i.t)("Categories"),$route:"nestedCategories",show:function e(){return i.BetaFeaturesUtils.isFeatureEnabled(n.default.NESTED_CATEGORIES)}};t.nestedCategoriesTab=h;var v=[c,u,d,p,m];t.collectionNavCategories=v},"./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationAPI.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var n={getForCollection:function e(t){return s.get("/api/variations/".concat(t))},updateVariation:function e(t){return s.put("/api/variations/".concat(t.id),t)},deleteVariant:function e(t,a){return s.delete("/api/variations/".concat(t,"/").concat(a))}};e.exports=n},"./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationActions.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var o=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationAPI.js");var l=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationUtils.js"),c=l.transformForClient,u=l.transformForServer;var d=function(){function e(){(0,n.default)(this,e);this.generateActions("reset","updateProp","fetchDataSuccess","updateVariantWeight","updateVariationSuccess","deleteVariantSuccess")}(0,i.default)(e,[{key:"fetchData",value:function e(t){var s=this;return function(e){e(t);o.getForCollection(t).then(function(e){var t=e.data;var a=c(t);s.fetchDataSuccess(a)})}}},{key:"updateVariation",value:function e(a){var s=this;return function(e){e(a.collectionId);var t=u(a);return o.updateVariation(t).then(s.updateVariationSuccess)}}},{key:"deleteVariant",value:function e(t,a){var s=this;return o.deleteVariant(t,a).then(function(){s.deleteVariantSuccess({collectionId:t,variantId:a})})}}]);return e}();e.exports=r.createActions(d)},"./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationStore.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var l=a("./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationActions.js");var c=a("./common/temp/node_modules/lodash/cloneDeep.js");var u=a("./common/temp/node_modules/lodash/get.js");var d=a("./common/temp/node_modules/lodash/omit.js");var p=a("./common/temp/node_modules/lodash/isEmpty.js");var m=a("./src/main/webapp/universal/src/apps/App/shared/actions/SiteNavigationActions.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/actions/ContentCollectionActions.js");var v=a("./src/main/webapp/universal/src/apps/App/shared/utils/isReactPagesPanelEnabled.js");var g=a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js").default;var f=a("./src/main/webapp/universal/src/shared/utils/diff.js");var b={isDirty:false,savedData:{},isLoading:false};var y=function(){function t(){var a=this;(0,n.default)(this,t);var e={onFetchDataSuccess:[l.fetchDataSuccess,l.updateVariationSuccess],onRemoveCollection:h.deleteSuccess,deleteVariant:l.deleteVariantSuccess};v()?g.onSiteLayoutChange(function(e,t){a.onSiteLayoutChange(e,t)}):Object.assign(e,{onNavUpdate:m.navChange});this.bindActions(l);this.bindListeners(e);this.state=b;this.exportPublicMethods({getVariation:this.getVariation})}(0,i.default)(t,[{key:"onReset",value:function e(t){if(this.state.isDirty){var a;this.setState((a={},(0,o.default)(a,t,Object.assign({},this.state.savedData[t])),(0,o.default)(a,"isDirty",false),a))}}},{key:"onFetchData",value:function e(){this.setState({isLoading:true})}},{key:"onFetchDataSuccess",value:function e(t){var a;var s=Object.assign({},this.state.savedData);s[t.collectionId]=c(t);this.setState((a={isDirty:false,isLoading:false},(0,o.default)(a,t.collectionId,t),(0,o.default)(a,"savedData",s),a))}},{key:"onNavUpdate",value:function e(t){var a=this;var s=t.diff;s.additions.forEach(function(e){e.length>1&&a.state[e[0]]&&a.addVariant({collectionId:e[0],variantId:e[1]})});s.deletions.forEach(function(e){e.length>1&&a.state[e[0]]&&a.deleteVariant({collectionId:e[0],variantId:e[1]})})}},{key:"onSiteLayoutChange",value:function e(r,o){var l=this;if(p(d(this.state,Object.keys(b))))return;var t=f(o,r),a=t.changed;Object.keys(a).forEach(function(e){var t=u(o,"".concat(e,".items"),[]);var a=u(r,"".concat(e,".items"),[]);var s=f(t,a),n=s.removed,i=s.added;n.forEach(function(t){var e;(null===(e=t.items)||void 0===e?void 0:e.length)&&l.state[t.collectionId]&&t.items.forEach(function(e){l.deleteVariant({collectionId:t.collectionId,variantId:e.collectionId})})});i.forEach(function(t){var e;(null===(e=t.items)||void 0===e?void 0:e.length)&&l.state[t.collectionId]&&t.items.forEach(function(e){l.addVariant({collectionId:t.collectionId,variantId:e.collectionId})})})})}},{key:"onUpdateVariantWeight",value:function e(t){var a;var s=t.collectionId,n=t.variantId,i=t.weight;var r=Object.assign({},this.state[s]);r.variantMap[n].weight=parseInt(i,10);this.setState((a={},(0,o.default)(a,s,r),(0,o.default)(a,"isDirty",true),a))}},{key:"onUpdateProp",value:function e(t){var a;var s=t.collectionId,n=t.key,i=t.value;var r=Object.assign({},this.state[s]);r[n]=i;this.setState((a={},(0,o.default)(a,s,r),(0,o.default)(a,"isDirty",true),a))}},{key:"onUpdateVariationSuccess",value:function e(t){var a=t.data;var s=this.state.savedData;s[a.collectionId]=this.state[a.collectionId];this.setState({savedData:s})}},{key:"onRemoveCollection",value:function e(t){for(var a in this.state.savedData)this.state.savedData[a].variantMap.hasOwnProperty(t)&&l.deleteVariant(a,t)}},{key:"addVariant",value:function e(t){var a=t.collectionId,s=t.variantId;var n=this.state.savedData;n[a].variantMap[s]={weight:0};this.setState((0,o.default)({savedData:n},a,Object.assign({},n[a])))}},{key:"deleteVariant",value:function e(t){var a=t.collectionId,s=t.variantId;var n=this.state.savedData;delete n[a].variantMap[s];this.setState((0,o.default)({savedData:n},a,Object.assign({},n[a])))}},{key:"getVariation",value:function e(t){return this.getState()[t]}}]);return t}();e.exports=r.createStore(y,"VariationStore")},"./src/main/webapp/universal/src/apps/App/screens/Pages/screens/Variations/VariationUtils.js":function(e,t,a){"use strict";var s={transformForClient:function e(t){t.variantMap={};Object.keys(t.variantWeights).forEach(function(e){t.variantMap[e]={weight:t.variantWeights[e]}});delete t.variantWeights;return t},transformForServer:function e(t){var a=Object.assign({variantWeights:{}},t);Object.keys(t.variantMap).forEach(function(e){a.variantWeights[e]=t.variantMap[e].weight});delete a.variantMap;return a},isLockedVariant:function e(t,a){if(!t||!a)return false;if(t.isTrafficEvenlySplit)return false;if(!t.variantMap[a].weight)return false;return true}};e.exports=s},"./src/main/webapp/universal/src/apps/App/screens/PopupOverlay/constants/ActionSlices.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/packages/enums/SliceType.js");var n=[s.BUTTONS,s.NAVIGATION,s.CUSTOM_FORM,s.NEWSLETTER,s.ACTION,s.POPUP_OVERLAY_ACTION];e.exports=n},"./src/main/webapp/universal/src/apps/App/shared/components/FilteredInput.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=s(a("./common/temp/node_modules/prop-types/index.js"));var p=s(a("./common/temp/node_modules/react/index.js"));function m(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var h=function(e){(0,c.default)(i,e);var n=m(i);function i(){var t;(0,r.default)(this,i);for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];t=n.call.apply(n,[this].concat(a));(0,d.default)((0,l.default)(t),"handleInputRef",function(e){t.inputElement=e});(0,d.default)((0,l.default)(t),"handleChange",function(e){t.props.onChange(t.props.filter(e))});return t}(0,o.default)(i,[{key:"UNSAFE_componentWillReceiveProps",value:function e(){false;var t=this.inputElement.value.length;var a=this.inputElement.selectionStart;this.setState({prevLength:t,prevIndex:a})}},{key:"componentDidUpdate",value:function e(){if(this.inputElement===document.activeElement){var t=this.state,a=t.prevLength,s=t.prevIndex;var n=Math.max(0,this.inputElement.value.length-a+s);this.inputElement.selectionStart=this.inputElement.selectionEnd=n}}},{key:"render",value:function e(){return this.props.render({inputRef:this.handleInputRef,onChange:this.handleChange})}}]);return i}(p.default.Component);t.default=h;(0,d.default)(h,"propTypes",{filter:n.default.func.isRequired,onChange:n.default.func.isRequired,render:n.default.func.isRequired,value:n.default.string});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/InlineLink.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=s(a("./common/temp/node_modules/prop-types/index.js"));var p=s(a("./common/temp/node_modules/react/index.js"));var m=s(a("./src/main/webapp/universal/src/shared/router/withRouter.tsx"));var h=s(a("./src/main/webapp/universal/src/shared/router/propType.ts"));var v,g;function f(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var b=(0,m.default)((g=v=function(e){(0,l.default)(n,e);var s=f(n);function n(){var u;(0,i.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];u=s.call.apply(s,[this].concat(t));(0,d.default)((0,o.default)(u),"handleClick",function(e){var t=u.props,a=t.onClick,s=t.to,n=t.hash,i=t.action,r=t.query,o=t.router,l=t.state;a&&a(e);if(e.defaultPrevented)return;var c={pathname:s,hash:n,query:r,state:l};"REPLACE"===i?o.replace(c):o.push(c);e.preventDefault()});return u}(0,r.default)(n,[{key:"render",value:function e(){var t=this.props,a=t.className,s=t.to,n=t.hash,i=t.query,r=t.router;var o=r.createHref({pathname:s,query:i,hash:n});return p.default.createElement("a",{href:o,onClick:this.handleClick,className:a},this.props.children)}}]);return n}(p.default.Component),(0,d.default)(v,"propTypes",{to:n.default.string.isRequired,action:n.default.oneOf(["PUSH","REPLACE"]),hash:n.default.string,query:n.default.object,state:n.default.object,onClick:n.default.func,location:n.default.object,router:h.default}),(0,d.default)(v,"defaultProps",{action:"PUSH"}),g));t.default=b;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/Link.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=s(a("./common/temp/node_modules/react/index.js"));var m=s(a("./common/temp/node_modules/classnames/index.js"));var h=s(a("./src/main/webapp/universal/src/apps/App/shared/components/Link.less"));var v=s(a("./src/main/webapp/universal/src/apps/App/shared/components/InlineLink.jsx"));function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),true).forEach(function(e){(0,d.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function b(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var y=function(e){(0,l.default)(a,e);var t=b(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,o.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.className,s=(0,r.default)(t,["className"]);var n=(0,m.default)("u-link",h.default.blockLink,a);return p.default.createElement(v.default,(0,i.default)({},s,{className:n}),this.props.children)}}]);return a}(p.default.Component);t.default=y;(0,d.default)(y,"propTypes",f({},v.default.propTypes));(0,d.default)(y,"defaultProps",f({},v.default.defaultProps));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/Link.less":function(e,t,a){e.exports={blockLink:"Link-blockLink-XWKjn"}},"./src/main/webapp/universal/src/apps/App/shared/components/MemberAreasFeatureBadge.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=s(a("./common/temp/node_modules/react/index.js"));var n=s(a("./src/main/webapp/universal/src/shared/utils/getRootPath.js"));var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=s(a("./src/main/webapp/universal/src/shared/components/FeatureGate/Badge/index.js"));var c=s(a("./src/main/webapp/universal/packages/enums/BillingProductTypes.js"));var u=a("./common/temp/node_modules/@sqs/universal-checkout/build/index.js");var d=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js"));var p=a("./src/main/webapp/universal/src/shared/utils/UniversalCheckout.js");var m="/config"+n.default.forMemberAreasCheckout();var h="/config/settings/billing/billing/upgrade?origin=".concat(c.default.MEMBER_AREAS);var i=function e(t){var a=t.analyticsId,s=t.className;var n=d.default.isTrial();var i=n&&(0,p.isMultiproductCheckoutWebsiteAndMemberAreasEnabled)()?function(){(0,u.OpenUC)(c.default.WEBSITE,u.CheckoutTypes.MULTIPRODUCT)}:void 0;return r.default.createElement(l.default,{anchor:"window",analyticsId:a,isTrial:n,premiumFeatureLabel:"",upgradeCta:(0,o.t)("Select Plan"),upgradeTitle:(0,o.t)("Add-on Feature"),upgradeDescription:n?(0,o.t)("Member Areas isnt included with your website. To use this feature, choose a website plan and add Member Areas for an additional cost."):(0,o.t)("To use Member Areas, add it to your plan."),upgradePath:n?h:m,onCtaClick:i,className:s})};var v=i;t.default=v;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/Receipt/utils/InvoicePropTypes.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/prop-types/index.js");var n=a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var i=a("./src/main/webapp/universal/packages/enums/BillingProductTypes.js");var r=a("./src/main/webapp/universal/packages/enums/ProductLines.js");var o=a("./src/main/webapp/universal/packages/enums/BillingTaxType.js");var l=s.shape({cardName:s.string.isRequired,cardLast4:s.string.isRequired,cardType:s.string.isRequired});var c=s.shape({periodEnd:s.instanceOf(Date),renewsOn:s.instanceOf(Date),productLine:s.oneOf(Object.values(r)).isRequired,planName:s.string.isRequired,periodName:s.string.isRequired});var u=s.shape({description:s.string.isRequired,itemName:s.string,amount:s.instanceOf(n).isRequired,productType:s.oneOf(Object.values(i)).isRequired,subscriptionDetail:c,isFailure:s.bool});var d=s.shape({itemName:s.string.isRequired,info:s.oneOfType([s.string,s.element])});var p=s.shape({taxType:s.oneOf(Object.values(o)).isRequired,rate:s.number.isRequired});var m=s.shape({businessName:s.string.isRequired,vatNumber:s.string.isRequired});var h=s.shape({businessName:s.string.isRequired,australianBusinessNumber:s.string.isRequired});var v=s.shape({status:s.number.isRequired,created:s.instanceOf(Date).isRequired,paymentSource:l,currency:s.string.isRequired,lineItems:s.arrayOf(u).isRequired,failureItems:s.arrayOf(d),subtotal:s.instanceOf(n).isRequired,discountAmount:s.instanceOf(n).isRequired,total:s.instanceOf(n).isRequired,preTaxCreditApplied:s.instanceOf(n).isRequired,postTaxCreditApplied:s.instanceOf(n).isRequired,amountOnCard:s.instanceOf(n).isRequired,pastDueAdjustment:s.instanceOf(n).isRequired,discountPercent:s.number,vatExemption:m,taxSummaries:s.arrayOf(p).isRequired,AbnExemptionPropType:h});e.exports={invoice:v,lineItem:u,paymentSourceDetail:l,subscriptionDetail:c,vatExemption:m,AbnExemptionPropType:h}},"./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/SquarespaceAppRedirect.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=s(a("./common/temp/node_modules/react/index.js"));var o=s(a("./common/temp/node_modules/prop-types/index.js"));var l=s(a("./src/main/webapp/universal/src/shared/components/MobileAppRedirect/index.jsx"));var c=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var u=s(a("./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/SquarespaceAppRedirect.less"));var d={ios:{to:"https://apps.apple.com/app/apple-store/id1361797894?pt=204072&ct=mweb_config_app-redirect_squarespace-app&mt=8"},android:{to:"https://play.google.com/store/apps/details?id=com.squarespace.android.squarespaceapp&referrer=utm_source%3Dmweb_config_app-redirect_squarespace-app"}};var p=function e(t){var a=t.backTo;return r.default.createElement(l.default,(0,n.default)({title:(0,i.t)("Squarespace on Mobile"),description:(0,i.t)("To build your site, download the Squarespace app or go to your computer to use all Squarespace features."),bannerClassName:u.default.banner,backTo:a},c.Platform.selectOS(d)))};p.propTypes={backTo:o.default.string.isRequired};var m=p;t.default=m;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/SquarespaceAppRedirect.less":function(e,t,a){e.exports={banner:"SquarespaceAppRedirect-banner-3YpGE"}},"./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/apps/App/shared/components/SquarespaceAppRedirect/SquarespaceAppRedirect.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/billing/PurchasePreview/PurchasePreview.less":function(e,t,a){e.exports={displayPrice:"PurchasePreview-displayPrice-2RS89",items:"PurchasePreview-items-3T6ZD",lineItem:"PurchasePreview-lineItem-3TMvb",description:"PurchasePreview-description-3c49d",lineItemDisclaimer:"PurchasePreview-lineItemDisclaimer-1nfJa",amount:"PurchasePreview-amount-1SoOk",totalDescription:"PurchasePreview-totalDescription-34wwB",itemsDisclaimer:"PurchasePreview-itemsDisclaimer-2oj90"}},"./src/main/webapp/universal/src/apps/App/shared/components/billing/PurchasePreview/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function u(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var d=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),p=d.T;var m=a("./common/temp/node_modules/prop-types/index.js");var h=a("./common/temp/node_modules/react/index.js");var v=a("./src/main/webapp/universal/src/shared/components/formatting/FormattedMoney.jsx");var g=a("./src/main/webapp/universal/src/shared/components/billing/TaxSummaryLabel.jsx");var f=a("./common/temp/node_modules/classnames/index.js");var b=a("./src/main/webapp/universal/src/apps/App/shared/components/Receipt/utils/InvoicePropTypes.js").invoice;var y=a("./src/main/webapp/universal/src/apps/App/shared/components/billing/PurchasePreview/PurchasePreview.less");var w=function e(t){var a=t.discount,s=t.className;var n=a.amountOff,i=a.description,r=a.identifier;return h.createElement("div",{className:f(y.lineItem,s),key:r},h.createElement("span",{className:y.description},i),h.createElement("span",{className:y.amount},h.createElement(v,{value:n.negate()})))};var S=function e(t){var a=t.description,s=t.amount,n=t.discounts,i=t.className,r=t.lineItemDisclaimer;var o=[h.createElement("div",{key:"item",className:f(y.lineItem,i)},h.createElement("span",{className:y.description},a),h.createElement("span",{className:y.amount},h.createElement(v,{value:s})),r?h.createElement("span",{className:y.lineItemDisclaimer},r):null)];if(n)return o.concat(n.map(function(e){return h.createElement(w,{key:e.identifier,discount:e,className:i})}));return o};var C=function e(t){return h.createElement(S,{description:h.createElement("span",{className:y.totalDescription},h.createElement(p,{project:"apps.App"},"Total")),amount:t})};var _=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"renderItems",value:function e(){var t=this;var a=this.props,s=a.itemsDisclaimer,n=a.previewInvoice,i=a.itemDescriptionOverride,r=a.lineItemDisclaimer,o=a.renewalDate;var l=n.lineItems;return h.createElement("div",{className:f(y.items,this.props.itemsClassName)},l.map(function(e){return h.createElement(t.props.renderLineItem,{className:t.props.lineItemClassName,description:i&&i(e)||e.description,amount:e.amount,key:e.description,discounts:e.discounts,lineItemDisclaimer:r?r(e,o):null})}),s&&h.createElement("p",{className:y.itemsDisclaimer},s))}},{key:"renderTax",value:function e(){var t=this;return this.props.previewInvoice.taxSummaries.filter(function(e){return e.rate>0}).map(function(e){return h.createElement(t.props.renderLineItem,{className:t.props.lineItemClassName,description:h.createElement(g,e),amount:e.amount,key:e.taxType})})}},{key:"render",value:function e(){var t=this.props,a=t.previewInvoice,s=t.className,n=t.renderAmountDue;var i=a.amountOnCard,r=a.preTaxCreditApplied,o=a.postTaxCreditApplied,l=a.pastDueAdjustment;return h.createElement("div",{className:s},this.renderItems(),r.isZero()?null:h.createElement(this.props.renderLineItem,{className:this.props.lineItemClassName,description:h.createElement(p,{project:"apps.App"},"Credit Applied"),amount:r.negate()}),this.renderTax(),o.isZero()?null:h.createElement(this.props.renderLineItem,{className:this.props.lineItemClassName,description:h.createElement(p,{project:"apps.App"},"Credit Applied"),amount:o.negate()}),l.isZero()?null:h.createElement(this.props.renderLineItem,{className:this.props.lineItemClassName,description:h.createElement(p,{project:"bip-only"},"Previous Balance"),amount:l.negate()}),n(i))}}]);return a}(h.Component);(0,c.default)(_,"propTypes",{className:m.string,previewInvoice:b,itemsDisclaimer:m.string,itemDescriptionOverride:m.func,lineItemDisclaimer:m.func,itemsClassName:m.string,lineItemClassName:m.string,renderLineItem:m.func,renderAmountDue:m.func,renewalDate:m.number});(0,c.default)(_,"defaultProps",{renderAmountDue:C,renderLineItem:S});e.exports=_},"./src/main/webapp/universal/src/apps/App/shared/utils/LayoutPresetAdapter.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js");var n=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSettingsStore/index.js");var i=function e(){return n.getState().markdownMode};var r=function e(t){t&&"function"===typeof t.toJS&&(t=t.toJS());if(t&&t.addressLine1)return[t.addressLine1,t.addressLine2,t.addressCountry||t.country].filter(function(e){return!!e});return null};var o=function e(){return r(s.getState().location)};var l=function e(){var t=s.getState();var a=t?t.toJS().location:void 0;return a};e.exports={isMarkdownMode:i,getLocationArray:o,getMapLocation:l}},"./src/main/webapp/universal/src/apps/ConfigWebsite/yui-for-config-website.manifest.js":function(e,t,a){"use strict";a("./src/main/webapp/universal/scripts-v6/yui-config.js");a("./src/main/webapp/universal/yui3/3.17.2/yui-base/yui-base.js-exposed");a("./src/main/webapp/universal/scripts-v6/yui-for-config-website.js");a("./src/main/webapp/universal/scripts-v6/yui-for-react-first.js");a("./src/main/webapp/universal/scripts-v6/common.js");a("./src/main/webapp/universal/yui3/3.17.2/intl/intl.js");a("./src/main/webapp/universal/yui3/3.17.2/event-custom-base/event-custom-base.js");a("./src/main/webapp/universal/yui3/3.17.2/oop/oop.js");a("./src/main/webapp/universal/yui3/3.17.2/event-custom-complex/event-custom-complex.js");a("./src/main/webapp/universal/scripts-layout-engine/aspect-ratio-manager.js");a("./src/main/webapp/universal/yui3/3.17.2/base-base/base-base.js");a("./src/main/webapp/universal/yui3/3.17.2/attribute-base/attribute-base.js");a("./src/main/webapp/universal/yui3/3.17.2/attribute-core/attribute-core.js");a("./src/main/webapp/universal/yui3/3.17.2/attribute-observable/attribute-observable.js");a("./src/main/webapp/universal/yui3/3.17.2/attribute-extras/attribute-extras.js");a("./src/main/webapp/universal/yui3/3.17.2/base-core/base-core.js");a("./src/main/webapp/universal/yui3/3.17.2/base-observable/base-observable.js");a("./src/main/webapp/universal/yui3/3.17.2/base-pluginhost/base-pluginhost.js");a("./src/main/webapp/universal/yui3/3.17.2/pluginhost-base/pluginhost-base.js");a("./src/main/webapp/universal/yui3/3.17.2/pluginhost-config/pluginhost-config.js");a("./src/main/webapp/universal/yui3/3.17.2/base-build/base-build.js");a("./src/main/webapp/universal/scripts-v6/promises.js");a("./src/main/webapp/universal/yui3/3.17.2/promise/promise.js");a("./src/main/webapp/universal/yui3/3.17.2/timers/timers.js");a("./src/main/webapp/universal/scripts-v6/attr-validators.js");a("./src/main/webapp/universal/scripts-v6/damask/context-globals.js");a("./src/main/webapp/universal/scripts-v6/commerce-utils.js");a("./src/main/webapp/universal/yui3/3.17.2/escape/escape.js");a("./src/main/webapp/universal/yui3/3.17.2/node-base/node-base.js");a("./src/main/webapp/universal/yui3/3.17.2/event-base/event-base.js");a("./src/main/webapp/universal/yui3/3.17.2/node-core/node-core.js");a("./src/main/webapp/universal/yui3/3.17.2/dom-core/dom-core.js");a("./src/main/webapp/universal/yui3/3.17.2/selector/selector.js");a("./src/main/webapp/universal/yui3/3.17.2/selector-native/selector-native.js");a("./src/main/webapp/universal/yui3/3.17.2/dom-base/dom-base.js");a("./src/main/webapp/universal/yui3/3.17.2/dom-style/dom-style.js");a("./src/main/webapp/universal/yui3/3.17.2/node-event-delegate/node-event-delegate.js");a("./src/main/webapp/universal/yui3/3.17.2/event-delegate/event-delegate.js");a("./src/main/webapp/universal/yui3/3.17.2/node-pluginhost/node-pluginhost.js");a("./src/main/webapp/universal/yui3/3.17.2/node-screen/node-screen.js");a("./src/main/webapp/universal/yui3/3.17.2/dom-screen/dom-screen.js");a("./src/main/webapp/universal/yui3/3.17.2/node-style/node-style.js");a("./src/main/webapp/universal/scripts-v6/escaping-utils.js");a("./src/main/webapp/universal/scripts-v6/cookie-banner-styles.js");a("./src/main/webapp/universal/scripts-v6/currency-symbols.js");a("./src/main/webapp/universal/scripts-v6/deprecated-modules.js");a("./src/main/webapp/universal/yui3/3.17.2/cookie/cookie.js");a("./src/main/webapp/universal/scripts-v6/escmanager.js");a("./src/main/webapp/universal/yui3/3.17.2/event-base-ie/event-base-ie.js");a("./src/main/webapp/universal/yui3/3.17.2/event-synthetic/event-synthetic.js");a("./src/main/webapp/universal/yui3/3.17.2/event-mousewheel/event-mousewheel.js");a("./src/main/webapp/universal/yui3/3.17.2/event-mouseenter/event-mouseenter.js");a("./src/main/webapp/universal/yui3/3.17.2/event-key/event-key.js");a("./src/main/webapp/universal/yui3/3.17.2/event-focus/event-focus.js");a("./src/main/webapp/universal/yui3/3.17.2/event-resize/event-resize.js");a("./src/main/webapp/universal/yui3/3.17.2/event-hover/event-hover.js");a("./src/main/webapp/universal/yui3/3.17.2/event-outside/event-outside.js");a("./src/main/webapp/universal/yui3/3.17.2/event-touch/event-touch.js");a("./src/main/webapp/universal/yui3/3.17.2/event-move/event-move.js");a("./src/main/webapp/universal/yui3/3.17.2/event-flick/event-flick.js");a("./src/main/webapp/universal/yui3/3.17.2/event-valuechange/event-valuechange.js");a("./src/main/webapp/universal/yui3/3.17.2/event-tap/event-tap.js");a("./src/main/webapp/universal/scripts-v6/util.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-base/anim-base.js");a("./src/main/webapp/universal/yui3/3.17.2/color-base/color-base.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-color/anim-color.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-curve/anim-curve.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-xy/anim-xy.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-easing/anim-easing.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-node-plugin/anim-node-plugin.js");a("./src/main/webapp/universal/yui3/3.17.2/anim-scroll/anim-scroll.js");a("./src/main/webapp/universal/yui3/3.17.2/io-base/io-base.js");a("./src/main/webapp/universal/yui3/3.17.2/querystring-stringify-simple/querystring-stringify-simple.js");a("./src/main/webapp/universal/yui3/3.17.2/io-xdr/io-xdr.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-xml-parse/datatype-xml-parse.js");a("./src/main/webapp/universal/yui3/3.17.2/io-form/io-form.js");a("./src/main/webapp/universal/yui3/3.17.2/io-upload-iframe/io-upload-iframe.js");a("./src/main/webapp/universal/yui3/3.17.2/io-queue/io-queue.js");a("./src/main/webapp/universal/yui3/3.17.2/queue-promote/queue-promote.js");a("./src/main/webapp/universal/yui3/3.17.2/json-parse/json-parse.js");a("./src/main/webapp/universal/yui3/3.17.2/json-stringify/json-stringify.js");a("./src/main/webapp/universal/yui3/3.17.2/jsonp/jsonp.js");a("./src/main/webapp/universal/yui3/3.17.2/plugin/plugin.js");a("./src/main/webapp/universal/yui3/3.17.2/querystring-parse/querystring-parse.js");a("./src/main/webapp/universal/yui3/3.17.2/array-extras/array-extras.js");a("./src/main/webapp/universal/yui3/3.17.2/querystring-stringify/querystring-stringify.js");a("./src/main/webapp/universal/scripts-v6/anim-raf.js");a("./src/main/webapp/universal/scripts-v6/data.js");a("./src/main/webapp/universal/scripts-v6/system-error.js");a("./src/main/webapp/universal/scripts-v6/dom-emitters/resize.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/resize-emitter.js");a("./src/main/webapp/universal/scripts-v6/dom-emitters/scroll.js");a("./src/main/webapp/universal/scripts-v6/logger.js");a("./src/main/webapp/universal/scripts-v6/plugin-node-destroy-notifier.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/node-destroy-notifier.js");a("./src/main/webapp/universal/scripts-v6/public-api.js");a("./src/main/webapp/universal/yui3/3.17.2/history-base/history-base.js");a("./src/main/webapp/universal/yui3/3.17.2/history-hash/history-hash.js");a("./src/main/webapp/universal/scripts-v6/beforeunload.js");a("./src/main/webapp/universal/yui3/3.17.2/history-hash-ie/history-hash-ie.js");a("./src/main/webapp/universal/yui3/3.17.2/history-html5/history-html5.js");a("./src/main/webapp/universal/yui3/3.17.2/node-event-simulate/node-event-simulate.js");a("./src/main/webapp/universal/yui3/3.17.2/event-simulate/event-simulate.js");a("./src/main/webapp/universal/yui3/3.17.2/gesture-simulate/gesture-simulate.js");a("./src/main/webapp/universal/yui3/3.17.2/async-queue/async-queue.js");a("./src/main/webapp/universal/yui3/3.17.2/node-load/node-load.js");a("./src/main/webapp/universal/scripts-v6/gallery-manager.js");a("./src/main/webapp/universal/scripts-v6/image-loader.js");a("./src/main/webapp/universal/scripts-v6/plugin-lightbox2.js");a("./src/main/webapp/universal/scripts-v6/gismo.js");a("./src/main/webapp/universal/yui3/3.17.2/array-invoke/array-invoke.js");a("./src/main/webapp/universal/scripts-v6/anims.js");a("./src/main/webapp/universal/yui3/3.17.2/arraylist/arraylist.js");a("./src/main/webapp/universal/scripts-v6/widgets/lightbox2.js");a("./src/main/webapp/universal/yui3/3.17.2/dom-style-ie/dom-style-ie.js");a("./src/main/webapp/universal/scripts-v6/animations.js");a("./src/main/webapp/universal/yui3/3.17.2/transition/transition.js");a("./src/main/webapp/universal/scripts-v6/plugin-scroll-lock.js");a("./src/main/webapp/universal/scripts-v6/touch-event-listener.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/touch-event-listener.js");a("./src/main/webapp/universal/scripts-v6/video-loader.js");a("./src/main/webapp/universal/scripts-v6/ui-base.js");a("./src/main/webapp/universal/yui3/3.17.2/attribute-complex/attribute-complex.js");a("./src/main/webapp/universal/scripts-v6/widgets/gismo.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-base/widget-base.js");a("./src/main/webapp/universal/yui3/3.17.2/classnamemanager/classnamemanager.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-htmlparser/widget-htmlparser.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-skin/widget-skin.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-uievents/widget-uievents.js");a("./src/main/webapp/universal/scripts-v6/widgets/lightbox2-overlay.js");a("./src/main/webapp/universal/yui3/3.17.2/yui-throttle/yui-throttle.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/gallery-manager.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/gallery.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/index.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/autocolumns.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/loading-behavior/by-viewport.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/gismo.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/rendering.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/autogrid.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/autorows.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/base.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/carousel.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/shared/loading-behavior/by-current-index.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/grid.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/list.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/index.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/index.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/base.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/fade.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/ken-burns.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/new-swipe.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/scroll.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/stacked/transitions/swipe.js");a("./common/temp/node_modules/@sqs/yui-gallery/src/designs/strip.js");a("./src/main/webapp/universal/scripts-v6/gallery-ng.js");a("./src/main/webapp/universal/scripts-v6/legacy/class.js");a("./src/main/webapp/universal/scripts-thirdparty/modernizr/modernizr.js");a("./src/main/webapp/universal/scripts-v6/follow-buttons.js");a("./src/main/webapp/universal/scripts-v6/follow-button.js");a("./src/main/webapp/universal/scripts-v6/form-submit.js");a("./src/main/webapp/universal/scripts-v6/gallery/index.js");a("./src/main/webapp/universal/scripts-v6/models/shopping-cart-facade.js");a("./src/main/webapp/universal/scripts-v6/spinner.js");a("./src/main/webapp/universal/scripts-v6/widgets/alert.js");a("./src/main/webapp/universal/scripts-v6/widgets/confirmation.js");a("./src/main/webapp/universal/scripts-v6/mixins/event-registrar.js");a("./src/main/webapp/universal/scripts-v6/widgets/position-helper.js");a("./src/main/webapp/universal/scripts-v6/widgets/information.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-date-parse/datatype-date-parse.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-date-format/datatype-date-format.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-date-math/datatype-date-math.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-ddm-base/dd-ddm-base.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-ddm/dd-ddm.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-ddm-drop/dd-ddm-drop.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-drag/dd-drag.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-proxy/dd-proxy.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-constrain/dd-constrain.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-drop/dd-drop.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-scroll/dd-scroll.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-delegate/dd-delegate.js");a("./src/main/webapp/universal/yui3/3.17.2/dd-drop-plugin/dd-drop-plugin.js");a("./src/main/webapp/universal/yui3/3.17.2/node-focusmanager/node-focusmanager.js");a("./src/main/webapp/universal/scripts-v6/debugger.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-field-2.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-field-legacy-interface.js");a("./src/main/webapp/templates-v6/handlebars/flyout-error-message.html");a("./src/main/webapp/universal/yui3/3.17.2/handlebars-base/handlebars-base.js");a("./src/main/webapp/universal/scripts-v6/node-flyout.js");a("./src/main/webapp/universal/scripts-v6/node-utils.js");a("./src/main/webapp/universal/scripts-v6/widgets/data-widget.js");a("./src/main/webapp/universal/scripts-v6/ss-widget.js");a("./src/main/webapp/universal/scripts-v6/template-helpers.js");a("./src/main/webapp/universal/yui3/3.17.2/substitute/substitute.js");a("./src/main/webapp/universal/scripts-v6/ui-templates.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-anim/widget-anim.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-child/widget-child.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-parent/widget-parent.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-fields.js");a("./src/main/webapp/universal/scripts-v6/gizmo.js");a("./src/main/webapp/universal/scripts-v6/dialog/legacy/multi-frame.js");a("./src/main/webapp/universal/scripts-v6/context.js");a("./src/main/webapp/universal/yui3/3.17.2/model/model.js");a("./src/main/webapp/universal/scripts-v6/models/member-account.js");a("./src/main/webapp/universal/scripts-v6/model-sync-rest.js");a("./src/main/webapp/universal/yui3/3.17.2/model-sync-rest/model-sync-rest.js");a("./src/main/webapp/universal/scripts-v6/models/template-installation.js");a("./src/main/webapp/universal/yui3/3.17.2/model-list/model-list.js");a("./src/main/webapp/universal/scripts-v6/models/website.js");a("./src/main/webapp/universal/scripts-v6/models/plan.js");a("./src/main/webapp/universal/scripts-v6/util-authenticated.js");a("./src/main/webapp/universal/scripts-v6/models/website-settings.js");a("./src/main/webapp/universal/scripts-v6/damask/instrumentation.js");a("./src/main/webapp/universal/scripts-layout-engine/events.js");a("./src/main/webapp/universal/scripts-v6/content-collection-utils.js");a("./src/main/webapp/universal/scripts-v6/models/content-collection.js");a("./src/main/webapp/universal/scripts-v6/models/collection-configuration.js");a("./src/main/webapp/universal/scripts-v6/models/content-item.js");a("./src/main/webapp/universal/scripts-v6/models/audio.js");a("./src/main/webapp/universal/scripts-v6/models/structured-content.js");a("./src/main/webapp/universal/scripts-v6/models/calendar-event.js");a("./src/main/webapp/universal/scripts-v6/models/check-in.js");a("./src/main/webapp/universal/scripts-v6/models/content-item-list.js");a("./src/main/webapp/universal/scripts-v6/mixins/event-list.js");a("./src/main/webapp/universal/scripts-v6/models/embed.js");a("./src/main/webapp/universal/scripts-v6/models/kb-article.js");a("./src/main/webapp/universal/scripts-v6/models/link.js");a("./src/main/webapp/universal/scripts-v6/models/quote.js");a("./src/main/webapp/universal/scripts-v6/models/store-item.js");a("./src/main/webapp/universal/scripts-v6/models/tweet.js");a("./src/main/webapp/universal/scripts-v6/global-event-bubbler.js");a("./src/main/webapp/universal/scripts-v6/damask/modal-manager.js");a("./src/main/webapp/universal/scripts-v6/enum.js");a("./src/main/webapp/universal/scripts-v6/damask/location.js");a("./src/main/webapp/universal/scripts-v6/navigation/list-utils.js");a("./src/main/webapp/universal/scripts-v6/models/template-navigation-list.js");a("./src/main/webapp/universal/scripts-v6/models/navigation.js");a("./src/main/webapp/universal/scripts-v6/terms-of-service-overlay.js");a("./src/main/webapp/universal/yui3/3.17.2/overlay/overlay.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-stdmod/widget-stdmod.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-position/widget-position.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-position-align/widget-position-align.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-stack/widget-stack.js");a("./src/main/webapp/universal/yui3/3.17.2/widget-position-constrain/widget-position-constrain.js");a("./src/main/webapp/templates-v6/handlebars/terms-of-service-overlay.html");a("./src/main/webapp/universal/scripts-v6/damask/preview/content-bridge.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/editor.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/audio.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/base.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/enum-record-type.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/settings.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-check.js");a("./src/main/webapp/templates-v6/handlebars/dialog-check.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-content-item-grid.js");a("./src/main/webapp/universal/scripts-v6/content-item-grid.js");a("./src/main/webapp/universal/scripts-v6/async-task-synchronizer.js");a("./src/main/webapp/universal/scripts-v6/content-collection-bulk-actionable.js");a("./src/main/webapp/universal/scripts-v6/object-builder.js");a("./src/main/webapp/universal/scripts-v6/tray.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/product-quick-search.js");a("./src/main/webapp/universal/scripts-v6/dialog-button.js");a("./src/main/webapp/universal/scripts-v6/dialog-tab.js");a("./src/main/webapp/universal/scripts-v6/plugin-sizeanimator.js");a("./src/main/webapp/universal/scripts-v6/upsell/product-violations.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/inventory/inventory.js");a("./src/main/webapp/universal/scripts-v6/mixins/searchable-model-list.js");a("./src/main/webapp/universal/scripts-v6/models/growable-model-list/growable-model-list.js");a("./src/main/webapp/universal/scripts-v6/models/model-list.js");a("./src/main/webapp/universal/scripts-v6/models/paginator.js");a("./src/main/webapp/universal/scripts-v6/models/offset-paginator.js");a("./src/main/webapp/universal/scripts-v6/content-item-image.js");a("./src/main/webapp/universal/scripts-v6/content-item-utils.js");a("./src/main/webapp/universal/scripts-v6/dialog-description.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-wysiwyg.js");a("./src/main/webapp/universal/scripts-v6/licensed-assets/manager.js");a("./src/main/webapp/universal/scripts-v6/plugin-actionoverlay.js");a("./src/main/webapp/universal/scripts-v6/plugin-focalpoint.js");a("./src/main/webapp/universal/scripts-v6/plugin-progress-spinner.js");a("./src/main/webapp/universal/scripts-v6/plugin-progress-base.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/selector.js");a("./src/main/webapp/universal/scripts-layout-engine/layout/builder.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/utils/layout-utils.js");a("./src/main/webapp/universal/scripts-layout-engine/block/generic-base.js");a("./src/main/webapp/universal/scripts-layout-engine/block/modelsync-base.js");a("./src/main/webapp/universal/scripts-layout-engine/block/base.js");a("./src/main/webapp/universal/scripts-layout-engine/block/editor-base.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/copies/event-registrar.js");a("./src/main/webapp/universal/scripts-layout-engine/layout/block-focus-handler.js");a("./src/main/webapp/universal/scripts-layout-engine/layout-insert/point-controller.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/copies/resize-emitters.js");a("./src/main/webapp/universal/scripts-layout-engine/layout-insert/block-menu-web-base.js");a("./src/main/webapp/universal/scripts-layout-engine/block-label.js");a("./src/main/webapp/universal/scripts-layout-engine/block-search.js");a("./src/main/webapp/universal/scripts-layout-engine/layout-insert/block-icon-base.js");a("./src/main/webapp/universal/scripts-layout-engine/layout-insert/block-menu-mixin.js");a("./src/main/webapp/universal/scripts-layout-engine/layout/drag.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/drag-drop/delegate.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/dd-behaviors.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/copies/position-animator.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/dd-superproxy.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/drag-drop/reorder.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/copies/event-registrar.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/drag-drop/scroll.js");a("./src/main/webapp/universal/scripts-layout-engine/scroll-into-view.js");a("./src/main/webapp/universal/scripts-layout-engine/dimensions.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/copies/plugin-scroll-lock.js");a("./src/main/webapp/universal/scripts-layout-engine/block/plugin-resizable.js");a("./src/main/webapp/universal/scripts-layout-engine/widget-resize.js");a("./src/main/webapp/universal/yui3/3.17.2/resize-base/resize-base.js");a("./src/main/webapp/universal/yui3/3.17.2/resize-proxy/resize-proxy.js");a("./src/main/webapp/universal/yui3/3.17.2/resize-constrain/resize-constrain.js");a("./src/main/webapp/universal/yui3/3.17.2/resize-plugin/resize-plugin.js");a("./src/main/webapp/universal/scripts-layout-engine/plugin-resize-grid.js");a("./src/main/webapp/universal/scripts-layout-engine/layout/drop.js");a("./src/main/webapp/universal/scripts-layout-engine/block/utils.js");a("./src/main/webapp/universal/scripts-layout-engine/edit-controller-base.js");a("./src/main/webapp/universal/yui3/3.17.2/parallel/parallel.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/copies/enum-factory.js");a("./src/main/webapp/universal/scripts-layout-engine/layout/editor.js");a("./src/main/webapp/universal/scripts-layout-engine/layout-insert/marker.js");a("./src/main/webapp/universal/scripts-layout-engine/layout/trash.js");a("./src/main/webapp/universal/scripts-layout-engine/models/layout.js");a("./src/main/webapp/universal/scripts-layout-engine/block/schema-editor-base.js");a("./src/main/webapp/universal/scripts-v6/model-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-content-selector.js");a("./src/main/webapp/templates-v6/handlebars/dialog-content-selector.html");a("./src/main/webapp/universal/scripts-v6/hb-compare.js");a("./src/main/webapp/universal/scripts-v6/models/content-stats.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-flow.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-multi-option.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-number-parse/datatype-number-parse.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/drag-selection.js");a("./src/main/webapp/universal/scripts-layout-engine/dd-wrappers/src/drag-selection-selector-blacklist.js");a("./src/main/webapp/universal/scripts-v6/job-manager.js");a("./src/main/webapp/universal/scripts-v6/jobs.js");a("./src/main/webapp/universal/scripts-v6/licensed-assets/workflow.js");a("./src/main/webapp/universal/scripts-v6/image-picker/models/download-request.js");a("./src/main/webapp/universal/scripts-v6/image-picker/widgets/selector.js");a("./src/main/webapp/universal/scripts-v6/image-picker/HasDownloadRequest.js");a("./src/main/webapp/universal/scripts-v6/licensed-assets/models/preview.js");a("./src/main/webapp/universal/scripts-v6/licensed-assets/widgets/details.js");a("./src/main/webapp/universal/scripts-v6/uploader.js");a("./src/main/webapp/universal/yui3/3.17.2/file-html5/file-html5.js");a("./src/main/webapp/universal/scripts-v6/plugin-progress-bar.js");a("./src/main/webapp/universal/yui3/3.17.2/uploader/uploader.js");a("./src/main/webapp/universal/yui3/3.17.2/uploader-html5/uploader-html5.js");a("./src/main/webapp/universal/yui3/3.17.2/uploader-queue/uploader-queue.js");a("./src/main/webapp/universal/yui3/3.17.2/uploader-flash/uploader-flash.js");a("./src/main/webapp/universal/yui3/3.17.2/swfdetect/swfdetect.js");a("./src/main/webapp/universal/scripts-v6/plugin-node-expander.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-create-link.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-text.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-label.js");a("./src/main/webapp/templates-v6/handlebars/dialog-text.html");a("./src/main/webapp/universal/scripts-v6/existing-content-link-tab.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-html.js");a("./src/main/webapp/templates-v6/handlebars/existing-content-link-tab.html");a("./src/main/webapp/universal/scripts-v6/view.js");a("./src/main/webapp/universal/yui3/3.17.2/view/view.js");a("./src/main/webapp/universal/scripts-v6/external-link-tab.js");a("./src/main/webapp/templates-v6/handlebars/external-link-tab.html");a("./src/main/webapp/universal/scripts-v6/file-manager-tab.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-file-manager.js");a("./src/main/webapp/universal/yui3/3.17.2/node-scroll-info/node-scroll-info.js");a("./src/main/webapp/templates-v6/handlebars/dialog-file-manager.html");a("./src/main/webapp/universal/scripts-v6/fluent-confirmation.js");a("./src/main/webapp/universal/scripts-v6/widgets/data-confirmation.js");a("./src/main/webapp/universal/scripts-v6/form-utils.js");a("./src/main/webapp/universal/scripts-v6/models/attachment-list.js");a("./src/main/webapp/universal/scripts-v6/models/range-paginator.js");a("./src/main/webapp/universal/scripts-v6/mixins/paginated-model-list.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-multi-frame.js");a("./src/main/webapp/templates-v6/handlebars/file-manager-tab.html");a("./src/main/webapp/universal/scripts-v6/tab-view.js");a("./src/main/webapp/templates-v6/handlebars/tab-view-tab-group.html");a("./src/main/webapp/templates-v6/handlebars/tab-view-tab.html");a("./src/main/webapp/templates-v6/handlebars/tab-view.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-datetime-picker.js");a("./src/main/webapp/universal/scripts-v6/dialog-statepicker-scheduler.js");a("./src/main/webapp/universal/yui3/3.17.2/slider-base/slider-base.js");a("./src/main/webapp/universal/yui3/3.17.2/slider-value-range/slider-value-range.js");a("./src/main/webapp/universal/yui3/3.17.2/clickable-rail/clickable-rail.js");a("./src/main/webapp/universal/yui3/3.17.2/range-slider/range-slider.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-slider.js");a("./src/main/webapp/templates-v6/handlebars/dialog-slider.html");a("./src/main/webapp/universal/scripts-v6/dialog-statepicker-inset-calendar.js");a("./src/main/webapp/universal/scripts-v6/dialog-statepicker-inset-timer.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-digital-pricing-placeholder.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-pricing-placeholder.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/mixin-pusher.js");a("./src/main/webapp/templates-v6/handlebars/dialog-pricing-placeholder.html");a("./src/main/webapp/universal/scripts-v6/hb-product-price-string.js");a("./src/main/webapp/universal/scripts-v6/hb-product-types.js");a("./src/main/webapp/universal/scripts-v6/plugin-pulsewarn.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-giftcard-pricing-placeholder.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-subscription-details-placeholder.js");a("./src/main/webapp/templates-v6/handlebars/dialog-subscription-details-placeholder.html");a("./src/main/webapp/universal/scripts-v6/dialog-file-audio.js");a("./src/main/webapp/universal/scripts-v6/dialog-file-requires-processing.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-file.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-file-image.js");a("./src/main/webapp/universal/scripts-v6/external-image-picker.js");a("./src/main/webapp/universal/scripts-v6/image.js");a("./src/main/webapp/universal/scripts-v6/image-picker.js");a("./src/main/webapp/templates-v6/handlebars/image-picker.html");a("./src/main/webapp/universal/scripts-v6/dialog-form-builder.js");a("./src/main/webapp/universal/scripts-v6/form-builder-field.js");a("./src/main/webapp/universal/scripts-v6/form-builder-field-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-text-area.js");a("./src/main/webapp/templates-v6/handlebars/dialog-text-area.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-numeric-text.js");a("./src/main/webapp/universal/scripts-v6/plugin-numeric-formatter.js");a("./src/main/webapp/templates-v6/handlebars/form-builder-field.html");a("./src/main/webapp/universal/scripts-v6/mixins/expandable.js");a("./src/main/webapp/universal/scripts-v6/form-editing-utils.js");a("./src/main/webapp/universal/scripts-v6/dialog-form-preview.js");a("./src/main/webapp/universal/scripts-v6/form-preview.js");a("./src/main/webapp/universal/scripts-v6/models/form.js");a("./src/main/webapp/universal/scripts-v6/models/form-base.js");a("./src/main/webapp/universal/scripts-v6/dialog-form-selector.js");a("./src/main/webapp/universal/scripts-v6/editor/form-product.js");a("./src/main/webapp/universal/scripts-v6/editor/form.js");a("./src/main/webapp/universal/scripts-v6/dialog-email-service-connect.js");a("./src/main/webapp/templates-v6/handlebars/dialog-email-service-connect.html");a("./src/main/webapp/universal/scripts-v6/dialog-service-connect.js");a("./src/main/webapp/universal/scripts-v6/dialog-google-docs-service-connect.js");a("./src/main/webapp/universal/scripts-v6/dialog-mailchimp-service-connect.js");a("./src/main/webapp/universal/scripts-v6/dialog-zapier-service-connect.js");a("./src/main/webapp/templates-v6/handlebars/dialog-zapier-service-connect.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-item-push.js");a("./src/main/webapp/universal/scripts-v6/connected-account-capabilities.js");a("./src/main/webapp/universal/scripts-v6/connected-account-widget.js");a("./src/main/webapp/universal/scripts-v6/connected-account-configs.js");a("./src/main/webapp/universal/scripts-v6/connected-account-editors.js");a("./src/main/webapp/universal/scripts-v6/connected-account-dialog-settings.js");a("./src/main/webapp/universal/scripts-v6/dialog-error.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-facebook-meta-data.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-select.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-select-base.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-pinterest-meta-data.js");a("./src/main/webapp/universal/scripts-v6/dialog-structured-input.js");a("./src/main/webapp/universal/scripts-v6/tumblr-connected-account-editor.js");a("./src/main/webapp/templates-v6/handlebars/connected-account.html");a("./src/main/webapp/universal/scripts-v6/models/connected-accounts.js");a("./src/main/webapp/universal/scripts-v6/model-list-parse.js");a("./src/main/webapp/universal/scripts-v6/models/connected-account.js");a("./src/main/webapp/universal/scripts-v6/social-authenticator.js");a("./src/main/webapp/universal/scripts-v6/toggle.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-layout.js");a("./src/main/webapp/universal/scripts-v6/block/editor-dialog.js");a("./src/main/webapp/universal/scripts-layout-engine/block/image.js");a("./src/main/webapp/universal/scripts-layout-engine/block-model/image.js");a("./src/main/webapp/universal/scripts-layout-engine/content-item/content-item.js");a("./src/main/webapp/universal/scripts-layout-engine/content-item/reference.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/copies/model-sync-rest.js");a("./src/main/webapp/universal/scripts-layout-engine/content-item/embed.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/copies/url-utils.js");a("./src/main/webapp/universal/scripts-layout-engine/block-content/html.js");a("./src/main/webapp/universal/scripts-layout-engine/block-content/base.js");a("./src/main/webapp/universal/scripts-layout-engine/block-content/image.js");a("./src/main/webapp/universal/scripts-layout-engine/block/mixin-animated-block.js");a("./src/main/webapp/universal/scripts-v6/layout-engine/edit-controller.js");a("./src/main/webapp/universal/scripts-layout-engine/edit-controller-web-app.js");a("./src/main/webapp/universal/scripts-layout-engine/layout-insert/point.js");a("./src/main/webapp/universal/scripts-v6/layout-engine/block-menu-section.js");a("./src/main/webapp/universal/scripts-v6/layout-engine/block-menu-web-app.js");a("./src/main/webapp/universal/scripts-v6/layout-engine/block-label-premium.js");a("./src/main/webapp/universal/scripts-v6/layout-engine/renderable-blocks-web-app.js");a("./src/main/webapp/universal/scripts-layout-engine/block/unrenderable.js");a("./src/main/webapp/universal/scripts-v6/block/acuity.js");a("./src/main/webapp/universal/scripts-v6/block/acuity-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-hidden.js");a("./src/main/webapp/universal/scripts-v6/block/scheduling-editor.js");a("./src/main/webapp/universal/scripts-v6/block/schema-editor.js");a("./src/main/webapp/universal/scripts-v6/block/schema-editor-base.js");a("./src/main/webapp/universal/scripts-v6/block/premium-block-mixin.js");a("./src/main/webapp/universal/scripts-v6/block/amazon.js");a("./src/main/webapp/universal/scripts-v6/block/amazon-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog-product-chooser.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-local/datasource-local.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-io/datasource-io.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-get/datasource-get.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-function/datasource-function.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-cache/datasource-cache.js");a("./src/main/webapp/universal/yui3/3.17.2/cache-base/cache-base.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-jsonschema/datasource-jsonschema.js");a("./src/main/webapp/universal/yui3/3.17.2/dataschema-json/dataschema-json.js");a("./src/main/webapp/universal/yui3/3.17.2/dataschema-base/dataschema-base.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-xmlschema/datasource-xmlschema.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-xml-format/datatype-xml-format.js");a("./src/main/webapp/universal/yui3/3.17.2/dataschema-xml/dataschema-xml.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-arrayschema/datasource-arrayschema.js");a("./src/main/webapp/universal/yui3/3.17.2/dataschema-array/dataschema-array.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-textschema/datasource-textschema.js");a("./src/main/webapp/universal/yui3/3.17.2/dataschema-text/dataschema-text.js");a("./src/main/webapp/universal/yui3/3.17.2/datasource-polling/datasource-polling.js");a("./src/main/webapp/universal/scripts-v6/dialog-auto-complete.js");a("./src/main/webapp/universal/scripts-v6/scrolling-auto-complete-list.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-base/autocomplete-base.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-sources/autocomplete-sources.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-list/autocomplete-list.js");a("./src/main/webapp/universal/yui3/3.17.2/selector-css3/selector-css3.js");a("./src/main/webapp/universal/yui3/3.17.2/selector-css2/selector-css2.js");a("./src/main/webapp/universal/yui3/3.17.2/shim-plugin/shim-plugin.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-plugin/autocomplete-plugin.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-list/lang/autocomplete-list.js");a("./src/main/webapp/universal/scripts-v6/block/archive.js");a("./src/main/webapp/universal/scripts-v6/block/archive-editor.js");a("./src/main/webapp/universal/scripts-v6/block/archive-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/audio.js");a("./src/main/webapp/universal/scripts-v6/block/audio-editor.js");a("./src/main/webapp/universal/scripts-v6/audio-player.js");a("./src/main/webapp/universal/scripts-v6/album-player.js");a("./src/main/webapp/universal/scripts-v6/widgets/audio-player.js");a("./src/main/webapp/templates-v6/handlebars/block-audio-player.html");a("./src/main/webapp/universal/scripts-v6/block/button.js");a("./src/main/webapp/universal/scripts-v6/block/button-editor.js");a("./src/main/webapp/universal/scripts-v6/widgets/react-dialog-field.js");a("./src/main/webapp/universal/scripts-v6/block/calendar.js");a("./src/main/webapp/universal/scripts-v6/calendar-block-renderer.js");a("./src/main/webapp/universal/scripts-v6/calendar-core-renderer.js");a("./src/main/webapp/universal/scripts-v6/calendar-base-lang.js");a("./src/main/webapp/universal/scripts-v6/datatype-date-format.js");a("./src/main/webapp/universal/yui3/3.17.2/calendar/calendar.js");a("./src/main/webapp/universal/yui3/3.17.2/calendar-base/calendar-base.js");a("./src/main/webapp/universal/yui3/3.17.2/calendarnavigator/calendarnavigator.js");a("./src/main/webapp/templates-v6/handlebars/calendar-day.html");a("./src/main/webapp/universal/scripts-v6/block/calendar-editor.js");a("./src/main/webapp/universal/scripts-v6/block/calendar-model.js");a("./src/main/webapp/universal/scripts-v6/block/code.js");a("./src/main/webapp/universal/scripts-layout-engine/block/mixin-aspect-ratio.js");a("./src/main/webapp/universal/scripts-v6/block/base-custom-embed.js");a("./src/main/webapp/universal/scripts-v6/block/code-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/legacy/wysiwyg.js");a("./src/main/webapp/universal/scripts-v6/flyout-link-edit.js");a("./src/main/webapp/universal/scripts-v6/markdown.js");a("./src/main/webapp/universal/scripts-v6/markdown-editor.js");a("./src/main/webapp/universal/scripts-v6/code-editor.js");a("./src/main/webapp/universal/scripts-v6/block/collection-link.js");a("./src/main/webapp/universal/scripts-v6/block/collection-link-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-gallery-options.js");a("./src/main/webapp/universal/scripts-v6/block/donation.js");a("./src/main/webapp/universal/scripts-v6/block/donation-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog-labelled-value-table.js");a("./src/main/webapp/universal/yui3/3.17.2/handlebars-compiler/handlebars-compiler.js");a("./src/main/webapp/templates-v6/handlebars/dialog-labelled-value-table.html");a("./src/main/webapp/universal/scripts-v6/plugin-money-formatter.js");a("./src/main/webapp/universal/scripts-v6/models/donate-page.js");a("./src/main/webapp/universal/scripts-v6/block/editor-button-container.js");a("./src/main/webapp/universal/scripts-v6/block/embed.js");a("./src/main/webapp/universal/scripts-v6/block/embed-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-oembed.js");a("./src/main/webapp/templates-v6/handlebars/dialog-oembed.html");a("./src/main/webapp/universal/scripts-v6/oembed-resolvers.js");a("./src/main/webapp/templates-v6/handlebars/flickr-oembed.html");a("./src/main/webapp/templates-v6/handlebars/instagram-oembed.html");a("./src/main/webapp/templates-v6/handlebars/youtube-oembed.html");a("./src/main/webapp/universal/scripts-v6/block/soundcloud.js");a("./src/main/webapp/universal/scripts-v6/block/soundcloud-editor.js");a("./src/main/webapp/universal/scripts-v6/block/fivehundredpix.js");a("./src/main/webapp/universal/scripts-v6/block/summary-gallery.js");a("./src/main/webapp/universal/scripts-v6/block/social-summary.js");a("./src/main/webapp/universal/scripts-v6/block/summary.js");a("./src/main/webapp/universal/scripts-v6/block/summary-editor.js");a("./src/main/webapp/universal/scripts-v6/block/summary-model-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-summary-filter.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-filters/autocomplete-filters.js");a("./src/main/webapp/universal/yui3/3.17.2/text-wordbreak/text-wordbreak.js");a("./src/main/webapp/universal/yui3/3.17.2/text-data-wordbreak/text-data-wordbreak.js");a("./src/main/webapp/universal/scripts-v6/block/social-summary-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/gallery.js");a("./src/main/webapp/universal/scripts-layout-engine/block-model/gallery.js");a("./src/main/webapp/universal/scripts-layout-engine/block/gallery.js");a("./src/main/webapp/universal/scripts-v6/block/gallery-editor.js");a("./src/main/webapp/universal/scripts-v6/block/mixin-gallery-option-sync.js");a("./src/main/webapp/universal/scripts-v6/block/gallery-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/block-animation-analytics.js");a("./src/main/webapp/universal/scripts-v6/block/summary-gallery-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/summary-gallery-model.js");a("./src/main/webapp/universal/scripts-v6/block/fivehundredpix-editor.js");a("./src/main/webapp/universal/scripts-v6/block/fivehundredpix-model.js");a("./src/main/webapp/universal/scripts-v6/block/flickr.js");a("./src/main/webapp/universal/scripts-v6/block/flickr-editor.js");a("./src/main/webapp/universal/scripts-v6/block/flickr-model.js");a("./src/main/webapp/universal/scripts-v6/block/form.js");a("./src/main/webapp/universal/scripts-v6/block/form-model.js");a("./src/main/webapp/universal/scripts-v6/block/form-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-code.js");a("./src/main/webapp/universal/scripts-v6/dialog-campaigns-service-connect.js");a("./src/main/webapp/universal/scripts-v6/block/form-model-editor-mixin.js");a("./src/main/webapp/universal/scripts-v6/block/foursquare.js");a("./src/main/webapp/universal/scripts-v6/block/foursquare-editor.js");a("./src/main/webapp/universal/scripts-v6/block/foursquare-model.js");a("./src/main/webapp/universal/scripts-v6/block/horizontal-rule.js");a("./src/main/webapp/universal/scripts-layout-engine/block/horizontal-rule.js");a("./src/main/webapp/universal/scripts-v6/block/horizontal-rule-editor.js");a("./src/main/webapp/universal/scripts-v6/block/html.js");a("./src/main/webapp/universal/scripts-layout-engine/block/html.js");a("./src/main/webapp/universal/scripts-v6/block-content/html-editor.js");a("./src/main/webapp/universal/scripts-layout-engine/block-content/html-editor-base.js");a("./src/main/webapp/universal/scripts-v6/text-editor-base.js");a("./src/main/webapp/universal/scripts-v6/text-editor-rosetta.js");a("./src/main/webapp/universal/scripts-v6/text-editor-damask.js");a("./src/main/webapp/universal/scripts-v6/text-editor.js");a("./src/main/webapp/universal/scripts-v6/text-editor-damask-toolbar.js");a("./src/main/webapp/universal/scripts-v6/widgets/confirmation-media.js");a("./src/main/webapp/universal/scripts-v6/block/html-editor.js");a("./src/main/webapp/universal/scripts-layout-engine/block/mixin-coalesceable.js");a("./src/main/webapp/universal/scripts-layout-engine/block/mixin-splitable.js");a("./src/main/webapp/universal/scripts-v6/block/image.js");a("./src/main/webapp/universal/scripts-v6/block/image-base.js");a("./src/main/webapp/universal/scripts-v6/block/image-editor-web.js");a("./src/main/webapp/universal/scripts-v6/block/image-editor-base.js");a("./src/main/webapp/universal/scripts-v6/block/image-editor-web-dialog.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-file-image-licensed.js");a("./src/main/webapp/universal/scripts-v6/widgets/actions-inline.js");a("./src/main/webapp/universal/scripts-v6/licensed-assets/widgets/preview-alert.js");a("./src/main/webapp/universal/scripts-v6/block-content/image-editor.js");a("./src/main/webapp/universal/scripts-layout-engine/block-content/image-editor-base.js");a("./src/main/webapp/universal/scripts-v6/event-dbltap.js");a("./src/main/webapp/universal/scripts-v6/block/instagram.js");a("./src/main/webapp/universal/scripts-v6/block/instagram-editor.js");a("./src/main/webapp/universal/scripts-v6/block/search-gallery-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/social-search-model-editor.js");a("./src/main/webapp/universal/scripts-v6/models/social-data.js");a("./src/main/webapp/universal/scripts-v6/block/instagram-model.js");a("./src/main/webapp/universal/scripts-v6/dialog-warning-banner.js");a("./src/main/webapp/universal/scripts-v6/block/link.js");a("./src/main/webapp/universal/scripts-v6/block/link-editor.js");a("./src/main/webapp/universal/scripts-v6/block/map.js");a("./src/main/webapp/universal/scripts-v6/block/map-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-map.js");a("./src/main/webapp/templates-v6/handlebars/dialog-map.html");a("./src/main/webapp/universal/scripts-v6/widgets/google-places-autocomplete.js");a("./src/main/webapp/universal/scripts-v6/mixins/google-places-autocomplete.js");a("./src/main/webapp/universal/yui3/3.17.2/autocomplete-highlighters/autocomplete-highlighters.js");a("./src/main/webapp/universal/yui3/3.17.2/highlight-base/highlight-base.js");a("./src/main/webapp/universal/scripts-v6/localities.js");a("./src/main/webapp/universal/scripts-v6/block/markdown.js");a("./src/main/webapp/universal/scripts-v6/block/markdown-editor.js");a("./src/main/webapp/universal/scripts-layout-engine/block/markdown.js");a("./src/main/webapp/universal/scripts-v6/block/member-area.js");a("./src/main/webapp/universal/scripts-v6/block/member-area-model.js");a("./src/main/webapp/universal/scripts-v6/block/member-area-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-select-member-area.js");a("./src/main/webapp/universal/scripts-v6/block/menu.js");a("./src/main/webapp/universal/scripts-v6/block/menu-parser.js");a("./src/main/webapp/universal/scripts-v6/block/menu-editor.js");a("./src/main/webapp/universal/scripts-v6/block/newsletter.js");a("./src/main/webapp/universal/scripts-v6/block/newsletter-model.js");a("./src/main/webapp/universal/scripts-v6/block/newsletter-editor.js");a("./src/main/webapp/universal/scripts-v6/block/opentable.js");a("./src/main/webapp/universal/scripts-v6/block/opentable-editor.js");a("./src/main/webapp/universal/scripts-v6/block/opentable-v2.js");a("./src/main/webapp/universal/scripts-v6/block/opentable-v2-editor.js");a("./src/main/webapp/universal/scripts-v6/block/post-group.js");a("./src/main/webapp/universal/scripts-v6/block/post-group-editor.js");a("./src/main/webapp/universal/scripts-v6/block/post-group-model.js");a("./src/main/webapp/universal/scripts-v6/block/post-group-model-editor-base.js");a("./src/main/webapp/universal/scripts-v6/block/product.js");a("./src/main/webapp/universal/scripts-v6/block/product-model.js");a("./src/main/webapp/universal/scripts-v6/block/product-editor.js");a("./src/main/webapp/universal/scripts-v6/block/quote.js");a("./src/main/webapp/universal/scripts-layout-engine/block/quote.js");a("./src/main/webapp/universal/scripts-layout-engine/block-model/quote.js");a("./src/main/webapp/universal/scripts-v6/block/quote-editor.js");a("./src/main/webapp/universal/scripts-v6/block/rss.js");a("./src/main/webapp/universal/scripts-v6/block/rss-editor.js");a("./src/main/webapp/universal/scripts-v6/block/search.js");a("./src/main/webapp/universal/scripts-v6/search-preview.js");a("./src/main/webapp/templates-v6/handlebars/search-result.html");a("./src/main/webapp/universal/scripts-v6/block/search-editor.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-legacy-editor.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-legacy-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-model-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-connected-accounts.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-legacy-model.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-model.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-v2.js");a("./src/main/webapp/universal/scripts-v6/block/social-account-links-editor.js");a("./src/main/webapp/universal/scripts-v6/block/spacer.js");a("./src/main/webapp/universal/scripts-v6/block/spacer-editor.js");a("./src/main/webapp/universal/scripts-v6/block/summary-v2.js");a("./src/main/webapp/universal/scripts-v6/block/summary-v2-editor.js");a("./src/main/webapp/universal/scripts-v6/block/summary-v2-model-editor.js");a("./src/main/webapp/universal/scripts-v6/block/tagcloud.js");a("./src/main/webapp/universal/scripts-v6/block/tagcloud-editor.js");a("./src/main/webapp/universal/scripts-v6/block/tourdates.js");a("./src/main/webapp/universal/scripts-v6/block/tourdates-editor.js");a("./src/main/webapp/universal/scripts-v6/block/tourdates-model-editor.js");a("./src/main/webapp/universal/scripts-v6/widgets/tourdates-bandsintown.js");a("./src/main/webapp/templates-v6/handlebars/tourdates-bandsintown-list.html");a("./src/main/webapp/universal/scripts-v6/block/twitter.js");a("./src/main/webapp/universal/scripts-v6/block/twitter-editor.js");a("./src/main/webapp/universal/scripts-v6/block/twitter-model.js");a("./src/main/webapp/universal/scripts-v6/block/video.js");a("./src/main/webapp/universal/scripts-layout-engine/block/video.js");a("./src/main/webapp/universal/scripts-layout-engine/block-model/video.js");a("./src/main/webapp/universal/scripts-v6/block/video-model.js");a("./src/main/webapp/universal/scripts-v6/block/video-editor.js");a("./src/main/webapp/universal/scripts-v6/block/chart.js");a("./src/main/webapp/universal/scripts-v6/models/data-table.js");a("./src/main/webapp/universal/scripts-v6/block/chart-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-data-table.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-table-import.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-radio.js");a("./src/main/webapp/universal/scripts-v6/chartjs-helpers.js");a("./src/main/webapp/universal/scripts-layout-engine/shared/utils/chartjs-helpers.js");a("./src/main/webapp/universal/scripts-v6/block/zola.js");a("./src/main/webapp/universal/scripts-v6/block/zola-editor.js");a("./src/main/webapp/universal/scripts-v6/block/icon.js");a("./src/main/webapp/universal/scripts-v6/plugin-loading-overlay.js");a("./src/main/webapp/universal/scripts-v6/dialog-legacy-stateflow.js");a("./src/main/webapp/universal/scripts-v6/dialog-statepicker.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-money-text.js");a("./src/main/webapp/universal/scripts-v6/dialog/stringset.js");a("./src/main/webapp/universal/scripts-v6/dialog-stringset-input-editor.js");a("./src/main/webapp/universal/yui3/3.17.2/highlight-accentfold/highlight-accentfold.js");a("./src/main/webapp/universal/yui3/3.17.2/text-accentfold/text-accentfold.js");a("./src/main/webapp/universal/yui3/3.17.2/text-data-accentfold/text-data-accentfold.js");a("./src/main/webapp/universal/scripts-v6/stringset-utils-mixin.js");a("./src/main/webapp/universal/scripts-v6/dialog-stringset-select-editor.js");a("./src/main/webapp/universal/scripts-v6/dialog-variants-pricing-placeholder.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-variants-table.js");a("./src/main/webapp/universal/scripts-v6/commerce-giftcard-utils.js");a("./src/main/webapp/universal/scripts-v6/variant-row.js");a("./src/main/webapp/universal/scripts-v6/basic-check.js");a("./src/main/webapp/universal/scripts-v6/variant-row-inputs.js");a("./src/main/webapp/universal/scripts-v6/plugin-money-formatter-trim-cents.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/event.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/gallery.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/image.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/kbarticle.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/link.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/product-digital.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/product.js");a("./src/main/webapp/universal/scripts-v6/dialog-feature-gate-menu.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/product-giftcard.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/product-variants.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/product-physical.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/product-service.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/quote.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/text.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/post-editors.js");a("./src/main/webapp/universal/scripts-v6/content-item-types/video.js");a("./src/main/webapp/universal/scripts-v6/content-manager/navigation-ui-utils.js");a("./src/main/webapp/universal/scripts-v6/damask/preview/frame.js");a("./src/main/webapp/universal/scripts-v6/popup-overlay.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/factory.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/audio-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/base.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/factory.js");a("./src/main/webapp/universal/scripts-v6/factory-utils.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/album.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/base.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/body.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/client-refresh.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/buttons.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/custom-form.js");a("./src/main/webapp/universal/scripts-v6/async-form.js");a("./src/main/webapp/universal/scripts-v6/modal-lightbox.js");a("./src/main/webapp/universal/scripts-v6/models/slice-demo-custom-form.js");a("./src/main/webapp/universal/scripts-v6/models/slice-demo-newsletter-form.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/gallery.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/grid-gallery.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/grid-gallery-densities.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/has-scrim.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/color-processor.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/rgb.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/heading.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/image.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/lock.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/map.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/newsletter.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/navigation.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/password.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/social-icons.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/sub-heading.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/twitter.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/slices/video.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/audio-full-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/audio-full-right-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/audio-left-right-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-center-02.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-centercard-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-left-02.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-right-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-full-topleft-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-left-right-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/landing-right-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/location-full-corners-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/location-right-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/lock-full-bottomleft-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/lock-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/lock-full-center-02.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/lock-full-center-03.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/lock-full-center-04.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/lock-full-center-05.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-center-card-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-center-card-02.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-center-card-03.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-center-card-04.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-center-card-05.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-corner-card-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-full-bottom-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/overlay-full-center-02.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-center-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-center-center-02.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-full-bottom-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-full-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-full-middleband-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-full-right-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-full-top-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-left-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/profile-left-right-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/twitter-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/twitter-full-left-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/video-full-bottom-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/video-full-center-01.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/layouts/video-full-corners-01.js");a("./src/main/webapp/universal/scripts-v6/blog-collection-list.js");a("./src/main/webapp/universal/scripts-v6/comments.js");a("./src/main/webapp/universal/scripts-v6/comment-data.js");a("./src/main/webapp/universal/scripts-v6/login.js");a("./src/main/webapp/universal/scripts-v6/google-domains-utils.js");a("./src/main/webapp/universal/scripts-v6/domains/models/domain.js");a("./src/main/webapp/universal/scripts-v6/google-domains-consent-service.js");a("./src/main/webapp/universal/scripts-v6/session-storage.js");a("./src/main/webapp/universal/scripts-v6/commerce.js");a("./src/main/webapp/universal/scripts-v6/cart-utils.js");a("./src/main/webapp/universal/scripts-v6/models/shopping-cart.js");a("./src/main/webapp/universal/scripts-v6/commerce-analytics.js");a("./src/main/webapp/universal/scripts-v6/pill-shopping-cart.js");a("./src/main/webapp/templates-v6/handlebars/pill-shopping-cart.html");a("./src/main/webapp/universal/scripts-v6/commerce-email-preview.js");a("./src/main/webapp/universal/scripts-v6/damask/announcement-bar-bridge.js");a("./src/main/webapp/universal/scripts-v6/announcement-bar.js");a("./src/main/webapp/templates-v6/handlebars/announcement-bar.html");a("./src/main/webapp/universal/scripts-v6/damask/preview/frame/frame-v6.js");a("./src/main/webapp/universal/scripts-v6/damask/preview/footer.js");a("./src/main/webapp/universal/scripts-v6/damask/preview/frame/frame-base.js");a("./src/main/webapp/universal/scripts-v6/events-collection.js");a("./src/main/webapp/universal/scripts-v6/events-collection-calendar.js");a("./src/main/webapp/universal/scripts-v6/form-rendering-utils.js");a("./src/main/webapp/universal/scripts-v6/gallery-collection-list.js");a("./src/main/webapp/universal/scripts-v6/management.js");a("./src/main/webapp/universal/scripts-v6/frontend/content-mode.js");a("./src/main/webapp/universal/scripts-v6/models/layout/block-field.js");a("./src/main/webapp/universal/scripts-v6/models/layout/ec-backed-model-sanitizer-mixin.js");a("./src/main/webapp/universal/scripts-v6/models/layout/page-collection-data.js");a("./src/main/webapp/universal/scripts-v6/slice-type-groups.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/edit-controller.js");a("./src/main/webapp/universal/scripts-v6/models/slide.js");a("./src/main/webapp/universal/scripts-v6/models/slide-layout-list.js");a("./src/main/webapp/universal/scripts-v6/models/slide-layout.js");a("./src/main/webapp/universal/scripts-v6/models/slice-area-list.js");a("./src/main/webapp/universal/scripts-v6/models/slice-area.js");a("./src/main/webapp/universal/scripts-v6/models/slice.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/base.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/factory.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/action.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/compound.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/album.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/has-content-collection.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/body.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/buttons.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/has-links.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/link.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/custom-form.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/has-form.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/gallery.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/heading.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/has-text.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/image.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/has-content-item.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/lock.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/logo.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/map.js");a("./src/main/webapp/universal/scripts-v6/models/geo-location.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/navigation.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/newsletter.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/popup-overlay-action.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/password.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/social-icons.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/sub-heading.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/twitter.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/has-connected-account.js");a("./src/main/webapp/universal/scripts-v6/models/slice-content/video.js");a("./src/main/webapp/universal/scripts-v6/slide-rendering/editor.js");a("./src/main/webapp/universal/scripts-v6/typekit-utils.js");a("./src/main/webapp/universal/scripts-v6/product-quick-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/products/quick-view.js");a("./src/main/webapp/universal/scripts-v6/system-collections/products/products-2.0-item.js");a("./src/main/webapp/universal/scripts-v6/image-zoom.js");a("./src/main/webapp/universal/scripts-v6/system-collections/products/products-2.0-list.js");a("./src/main/webapp/universal/scripts-v6/search-page.js");a("./src/main/webapp/universal/scripts-v6/search.js");a("./src/main/webapp/universal/scripts-v6/share-buttons.js");a("./src/main/webapp/universal/scripts-v6/simple-liking.js");a("./src/main/webapp/universal/scripts-v6/slides.js");a("./src/main/webapp/universal/scripts-v6/social-buttons.js");a("./src/main/webapp/universal/scripts-v6/social-button.js");a("./src/main/webapp/universal/scripts-v6/tourdates.js");a("./src/main/webapp/universal/scripts-v6/website-overlays-manager.js");a("./src/main/webapp/universal/scripts-v6/licensed-assets/widgets/preview-bar.js");a("./src/main/webapp/universal/scripts-v6/mobile-info-bar.js");a("./src/main/webapp/universal/scripts-v6/business-hours.js");a("./src/main/webapp/templates-v6/handlebars/business-hours.html");a("./src/main/webapp/universal/scripts-v6/business-hours-utils.js");a("./src/main/webapp/templates-v6/handlebars/mobile-info-bar.html");a("./src/main/webapp/universal/scripts-v6/ss-badge.js");a("./src/main/webapp/universal/scripts-v6/damask/preview/frame/frame-v8.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/async-data-panel.js");a("./src/main/webapp/universal/scripts-v6/help.js");a("./src/main/webapp/universal/scripts-v6/pinterest.js");a("./src/main/webapp/universal/scripts-thirdparty/pinterest/pinit_main.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/cover-page.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/base.js");a("./src/main/webapp/universal/scripts-v6/content-manager/collection-dialog-portal.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/mixin-panel.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/mixin-panel-parent.js");a("./src/main/webapp/universal/scripts-v6/damask/menu/make.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/menu-item.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/panel-pusher.js");a("./src/main/webapp/universal/scripts-v6/mixins/loadable.js");a("./src/main/webapp/universal/scripts-v6/models/slide-summary.js");a("./src/main/webapp/universal/scripts-v6/models/slice-list.js");a("./src/main/webapp/universal/scripts-v6/multi-loader.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-group-editor.js");a("./src/main/webapp/universal/scripts-v6/mixin-save-changes.js");a("./src/main/webapp/universal/scripts-v6/mixins/slide-refresher.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/factory.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/action.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/compound.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/base.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/fields.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-music-track-list.js");a("./src/main/webapp/universal/scripts-v6/widgets/music-albums/list-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/list/selectable-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/list/base-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/list/base-item-view.js");a("./src/main/webapp/universal/scripts-v6/mixins/click-selectable.js");a("./src/main/webapp/templates-v6/handlebars/widgets-list-base-item-view.html");a("./src/main/webapp/universal/scripts-v6/mixins/click-selectable-parent.js");a("./src/main/webapp/universal/scripts-v6/widgets/music-album-track.js");a("./src/main/webapp/universal/scripts-v6/mixins/editable-model.js");a("./src/main/webapp/universal/scripts-v6/widgets/model.js");a("./src/main/webapp/templates-v6/handlebars/widgets-music-album-track.html");a("./src/main/webapp/universal/scripts-v6/dialog/text-with-refresh.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-video.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/link-list.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/link.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/album.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/async-base.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/buttons.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/custom-form.js");a("./src/main/webapp/universal/scripts-v6/editor/slide-custom-form.js");a("./src/main/webapp/universal/scripts-v6/editor/slide-newsletter-form.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/gallery.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/has-external-auth.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/lock.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/map.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/navigation.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/newsletter.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/password.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/popup-overlay-action.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/social-icons.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/has-pusher-mixin.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/sub-heading.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/twitter.js");a("./src/main/webapp/universal/scripts-v6/widgets/slice-content-editor/video.js");a("./src/main/webapp/universal/scripts-v6/widgets/slide-layout-chooser-pusher.js");a("./src/main/webapp/universal/scripts-v6/async-wrappers/cover-page-editors-for-standalone.js");a("./src/main/webapp/universal/scripts-v6/settings/site/billing-panels/delete-site.js");a("./src/main/webapp/universal/scripts-v6/settings/site/billing-panels/base.js");a("./src/main/webapp/universal/scripts-v6/settings/site/billing-panels/access-rules.js");a("./src/main/webapp/universal/scripts-v6/settings/site/billing-panels/switch-products.js");a("./src/main/webapp/universal/scripts-v6/widgets/billing/checkout/cover-page-picker.js");a("./src/main/webapp/universal/scripts-v6/settings/site/billing-panels/mixin-switch-products.js");a("./src/main/webapp/universal/scripts-v6/models/billing/summary.js");a("./src/main/webapp/universal/scripts-v6/models/billing/information.js");a("./src/main/webapp/universal/scripts-v6/models/billing/subscription-list.js");a("./src/main/webapp/universal/scripts-v6/models/billing/subscription.js");a("./src/main/webapp/universal/scripts-v6/models/quantity-change-preview.js");a("./src/main/webapp/universal/scripts-v6/models/billing/subscription-factory.js");a("./src/main/webapp/universal/scripts-v6/models/billing/campaigns-subscription.js");a("./src/main/webapp/universal/scripts-v6/models/billing/autorenew-togglable.js");a("./src/main/webapp/universal/scripts-v6/models/billing/domain-subscription.js");a("./src/main/webapp/universal/scripts-v6/models/billing/google-apps-subscription.js");a("./src/main/webapp/universal/scripts-v6/models/billing/website-subscription.js");a("./src/main/webapp/universal/scripts-v6/template-picker.js");a("./src/main/webapp/universal/scripts-v6/widgets/billing/checkout/commerce-plan-picker.js");a("./src/main/webapp/universal/scripts-v6/widgets/billing/checkout/website-plan-picker.js");a("./src/main/webapp/universal/scripts-v6/navigation/pages.js");a("./src/main/webapp/universal/scripts-v6/settings-collection-recycle-bin.js");a("./src/main/webapp/universal/scripts-v6/navigation/events.js");a("./src/main/webapp/universal/scripts-v6/settings-recycle-bin.js");a("./src/main/webapp/universal/scripts-v6/settings-recycle-bin-utils.js");a("./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-collection/list-view.js");a("./src/main/webapp/universal/scripts-v6/models/growable-content-collection-list.js");a("./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/list-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/infinite-scroll/infinite-scroll-list.js");a("./src/main/webapp/templates-v6/handlebars/widgets-infinite-scroll-list.html");a("./src/main/webapp/universal/scripts-v6/widgets/model-list.js");a("./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-item/item-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/item-view.js");a("./src/main/webapp/templates-v6/handlebars/widgets-recycle-bin-item-view.html");a("./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-collection/item-view.js");a("./src/main/webapp/universal/scripts-v6/navigation/bar.js");a("./src/main/webapp/universal/scripts-v6/navigation/dialog-helper.js");a("./src/main/webapp/universal/scripts-v6/editor/navigation-external-link.js");a("./src/main/webapp/universal/scripts-v6/navigation/drag-and-drop.js");a("./src/main/webapp/universal/scripts-v6/navigation/item-list.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/base.js");a("./src/main/webapp/universal/scripts-v6/damask/menu/mixin-content-manager.js");a("./src/main/webapp/templates-v6/handlebars/navigation-item.html");a("./src/main/webapp/universal/scripts-v6/plugin-inline-input-editor.js");a("./src/main/webapp/templates-v6/handlebars/navigation-item-list.html");a("./src/main/webapp/universal/scripts-v6/navigation/utils.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/blog.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/blog.js");a("./src/main/webapp/universal/scripts-v6/blog-list-pagination.js");a("./src/main/webapp/universal/scripts-v6/pagination.js");a("./src/main/webapp/templates-v6/handlebars/content-manager-blog-item.html");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/list-base.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/placeholder.js");a("./src/main/webapp/universal/scripts-v6/settings-item-recycle-bin.js");a("./src/main/webapp/universal/scripts-v6/widgets/recycle-bin/content-item/list-view.js");a("./src/main/webapp/universal/scripts-v6/models/growable-content-item-list.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/recyclable-items.js");a("./src/main/webapp/universal/scripts-v6/widgets/blog/list-search-filter.js");a("./src/main/webapp/universal/scripts-v6/widgets/blog/list-view.js");a("./src/main/webapp/universal/scripts-v6/widgets/blog/item-view.js");a("./src/main/webapp/templates-v6/handlebars/widgets-blog-item-view.html");a("./src/main/webapp/universal/scripts-v6/navigation/item/cover.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/events.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/calendar.js");a("./src/main/webapp/universal/scripts-v6/widgets/events/list-view.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/folder.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/gallery.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/gallery.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/link.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/index.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/variation.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/member-area.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/music-album.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/music-album.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/music-album-details-editor.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/page.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/products.js");a("./src/main/webapp/universal/scripts-v6/content-manager-widgets/products-grid.js");a("./src/main/webapp/universal/scripts-v6/content-item-product.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce-upgrade-banner.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/stacked-index.js");a("./src/main/webapp/universal/scripts-v6/navigation/item/template.js");a("./src/main/webapp/universal/scripts-v6/navigation/stacked-index-list.js");a("./src/main/webapp/universal/scripts-v6/async-wrappers/collections.js");a("./src/main/webapp/universal/scripts-v6/async-wrappers/cover-page-editors-for-website.js");a("./src/main/webapp/universal/scripts-v6/async-wrappers/domains.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/edit.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/nameservers-edit.js");a("./src/main/webapp/universal/scripts-v6/domains/dns-table/validators.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/edit-section.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/preset-template-list.js");a("./src/main/webapp/universal/scripts-v6/domains/models/preset-template.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/table.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/dialog-row.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/dialog-cell.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/cell.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/cell-error.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/row.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/delete-cell.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/namserver-set.js");a("./src/main/webapp/universal/scripts-v6/domains/models/nameserver.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/lockable-table.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/mixin-lockable.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/records-edit.js");a("./src/main/webapp/universal/scripts-v6/dialog-state-indicator-banner.js");a("./src/main/webapp/universal/scripts-v6/domains/dns-table/configs.js");a("./src/main/webapp/universal/scripts-v6/domains/dns-table/records-table.js");a("./src/main/webapp/universal/scripts-v6/domains/dns-table/records-dialog-row.js");a("./src/main/webapp/universal/scripts-v6/domains/dns-table/records-row.js");a("./src/main/webapp/universal/scripts-v6/widgets/edit-table/group-table.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/presets.js");a("./src/main/webapp/universal/scripts-v6/domains/events.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/preset-form.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-text-with-static.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/preset-table.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/preset-list.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/preset.js");a("./src/main/webapp/universal/scripts-v6/domains/models/preset.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/record-set.js");a("./src/main/webapp/universal/scripts-v6/domains/models/record.js");a("./src/main/webapp/universal/scripts-v6/domains/manage/dns/setup.js");a("./src/main/webapp/universal/scripts-v6/domains/link-status/base.js");a("./src/main/webapp/universal/scripts-v6/domains/link-status/row.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/link-status-list.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/link-status.js");a("./src/main/webapp/universal/scripts-v6/domains/models/link-status.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/domain.js");a("./src/main/webapp/universal/scripts-v6/domains/models/cancellation-preview.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/email-verification.js");a("./src/main/webapp/universal/scripts-v6/domains/models/email-verification.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/provider.js");a("./src/main/webapp/universal/scripts-v6/domains/models/provider.js");a("./src/main/webapp/universal/scripts-v6/domains/view-models/domain-list.js");a("./src/main/webapp/universal/scripts-v6/async-wrappers/popup-overlay-editors.js");a("./src/main/webapp/universal/scripts-v6/settings/site/comments.js");a("./src/main/webapp/universal/scripts-v6/damask/menu/design/custom-css.js");a("./src/main/webapp/universal/scripts-v6/code-editor-legacy.js");a("./src/main/webapp/universal/scripts-v6/models/composite.js");a("./src/main/webapp/universal/scripts-v6/settings/panel.js");a("./src/main/webapp/templates-v6/handlebars/settings-panel.html");a("./src/main/webapp/universal/scripts-v6/damask/menu/design/templates.js");a("./src/main/webapp/universal/scripts-v6/settings/site/templates.js");a("./src/main/webapp/universal/scripts-v6/settings/site/importing.js");a("./src/main/webapp/universal/scripts-v6/damask/menu/commerce/taxes.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/taxes/tax-rule-list.js");a("./src/main/webapp/universal/scripts-v6/models/tax-rule.js");a("./src/main/webapp/universal/scripts-v6/tax-rule-view.js");a("./src/main/webapp/templates-v6/handlebars/tax-rule-view.html");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/taxes/tax-panel-header.js");a("./src/main/webapp/universal/scripts-v6/damask/panel/menu-item-with-progress.js");a("./src/main/webapp/universal/scripts-v6/settings/commerce/checkout-form-edit.js");a("./src/main/webapp/universal/scripts-v6/settings/commerce/shipping.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-range-table.js");a("./src/main/webapp/templates-v6/handlebars/dialog-range-table.html");a("./src/main/webapp/universal/scripts-v6/dialog-shipping-container-table.js");a("./src/main/webapp/universal/scripts-v6/commerce-shipping-enums.js");a("./src/main/webapp/templates-v6/handlebars/dialog-shipping-container-table.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-shipping-rule-list.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-checkbox-group.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-markup-input.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-regional-shipping.js");a("./src/main/webapp/templates-v6/handlebars/dialog-shipping-rule-list.html");a("./src/main/webapp/universal/scripts-v6/dialog-shipping-system-container-table.js");a("./src/main/webapp/templates-v6/handlebars/dialog-shipping-system-container-table.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-shipstation-connect.js");a("./src/main/webapp/templates-v6/handlebars/dialog-shipstation-connect.html");a("./src/main/webapp/universal/scripts-v6/dialog-feature-gate-description.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation-list-manager.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/donation/contribution-list.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/donation/contribution.js");a("./src/main/webapp/universal/scripts-v6/widgets/sync-model-list-manager.js");a("./src/main/webapp/universal/scripts-v6/widgets/model-list-manager.js");a("./src/main/webapp/universal/scripts-v6/widgets/model-list-header.js");a("./src/main/webapp/universal/scripts-v6/widgets/inline-select.js");a("./src/main/webapp/templates-v6/handlebars/widgets-model-list-header.html");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation-list-header.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation-list.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/donation/donation.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-payment-link.js");a("./src/main/webapp/templates-v6/handlebars/dialog-payment-link.html");a("./src/main/webapp/templates-v6/handlebars/widgets-commerce-donation.html");a("./src/main/webapp/universal/scripts-v6/hb-date-format.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity-list-manager.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/payment/payment-activity-list.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/payment/payment-activity.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity-list-header.js");a("./src/main/webapp/universal/scripts-v6/widgets/model-list-label-bar.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-text-datetime-picker.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity-list.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/payment/payment-activity.js");a("./src/main/webapp/templates-v6/handlebars/widgets-commerce-payment-activity.html");a("./src/main/webapp/universal/scripts-v6/widgets/inventory-editor-manager.js");a("./src/main/webapp/universal/scripts-v6/widgets/inventory-editor.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list-manager.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/order/order-list.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/order/order.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list.js");a("./src/main/webapp/universal/scripts-v6/mixins/selected-action-tray.js");a("./src/main/webapp/universal/scripts-v6/commerce-order-utils.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/shipping/ship-confirmation.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-order-tracking.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-order-tracking-row.js");a("./src/main/webapp/templates-v6/handlebars/dialog-order-tracking-row.html");a("./src/main/webapp/templates-v6/handlebars/dialog-order-tracking.html");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order.js");a("./src/main/webapp/universal/scripts-v6/editor/commerce/order/order.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-cancel-order-restock.js");a("./src/main/webapp/templates-v6/handlebars/dialog-cancel-order-restock.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-order-history.js");a("./src/main/webapp/templates-v6/handlebars/dialog-order-history.html");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-order-summary.js");a("./src/main/webapp/universal/scripts-v6/hb-number-format.js");a("./src/main/webapp/universal/yui3/3.17.2/datatype-number-format/datatype-number-format.js");a("./src/main/webapp/universal/scripts-v6/dialog/dialog-shipping-diagram.js");a("./src/main/webapp/templates-v6/handlebars/dialog-shipping-legend.html");a("./src/main/webapp/templates-v6/handlebars/dialog-shipping-rendering.html");a("./src/main/webapp/templates-v6/handlebars/dialog-shipping-summary.html");a("./src/main/webapp/universal/scripts-v6/hb-pluralize.js");a("./src/main/webapp/universal/scripts-v6/models/shipping-configuration.js");a("./src/main/webapp/templates-v6/handlebars/widgets-order.html");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list-header.js");a("./src/main/webapp/universal/scripts-v6/order-csv-export-dialog.js");a("./src/main/webapp/universal/scripts-v6/dialog-promises.js");a("./src/main/webapp/universal/scripts-v6/widgets/flow-dialog.js");a("./src/main/webapp/templates-v6/handlebars/widgets-flow-dialog.html");a("./src/main/webapp/universal/scripts-v6/widgets/frame-transitioner.js");a("./src/main/webapp/templates-v6/handlebars/widgets-frame-transitioner.html");a("./src/main/webapp/universal/scripts-v6/widgets/model-list-search.js");a("./src/main/webapp/universal/scripts-v6/widgets/commerce/order/order-list-menu-header.js");a("./src/main/webapp/universal/scripts-v6/damask/menu/commerce/email/base-email-template.js");a("./src/main/webapp/templates-v6/handlebars/commerce-base-email-template.html");a("./src/main/webapp/universal/scripts-v6/models/commerce/email/base-email-template-settings.js");a("./src/main/webapp/universal/scripts-v6/mixins/commerce-email-preview.js");a("./src/main/webapp/universal/scripts-v6/widgets/model-backed-field-editor.js");a("./src/main/webapp/universal/scripts-v6/damask/menu/commerce/email/contribution-confirmed.js");a("./src/main/webapp/universal/scripts-v6/models/commerce/email/contribution-confirmed-email-settings.js")},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Block.less":function(e,t,a){e.exports={container:"Block-container-3QowH",left:"Block-left-3UW-A",right:"Block-right-1wye1"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Form.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/react/index.js");var n=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx");var i=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Form.less");var r=function e(){return s.createElement(n,null,s.createElement("div",{className:i.title}),s.createElement("div",{className:i.body}),s.createElement("div",{className:i.button}))};e.exports=r},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Form.less":function(e,t,a){e.exports={box:"Form-box-Hlz8x",title:"Form-title--U3iB Form-box-Hlz8x",body:"Form-body-gRGTk Form-box-Hlz8x",button:"Form-button-10fMV Button-container-zzMC6 Form-box-Hlz8x"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Media.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/prop-types/index.js");var c=a("./common/temp/node_modules/react/index.js");var u=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx");var d=a("./common/temp/node_modules/classnames/index.js");var p=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Media.less");var n=function e(t){var a=t.blockName,s=t.quote,n=t.thumbnails,i=t.aspectRatio;var r=d(p.container,p[a],{hasBottomMargin:n});var o=d(p[a],p.icon);var l={};i&&(l.paddingTop="".concat(i,"%"));return c.createElement(u,{className:r},c.createElement("div",{className:p.content,style:l},s),c.createElement("div",{className:o}))};n.propTypes={aspectRatio:s.number,blockName:s.string,quote:s.string,thumbnails:s.bool};e.exports=n},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Media.less":function(e,t,a){e.exports={container:"Media-container-25akI",map:"Media-map-1bylz",content:"Media-content-3ea4u",icon:"Media-icon-1dESL",image:"Media-image-1gSYG",menu:"Media-menu-36jhA",acuity:"Media-acuity-1XcRz",quote:"Media-quote-1hqYa"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/ShareButtons.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/react/index.js");var n=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx");var i=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/ShareButtons.less");var r=function e(){return s.createElement(n,{className:i.container},s.createElement("div",{className:i.button}),s.createElement("div",{className:i.button}),s.createElement("div",{className:i.button}))};e.exports=r},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/ShareButtons.less":function(e,t,a){e.exports={container:"ShareButtons-container-2FPiV",left:"ShareButtons-left-fGw9M",right:"ShareButtons-right-3joD8",button:"ShareButtons-button-2LQCN"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Spacer.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/prop-types/index.js");var n=a("./common/temp/node_modules/react/index.js");var i=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx");var r=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Spacer.less");var o=function e(t){var a=t.vSize,s=void 0===a?1:a;return n.createElement(i,{className:r.container,vSize:s})};o.propTypes={vSize:s.number};e.exports=o},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Spacer.less":function(e,t,a){e.exports={container:"Spacer-container-1E3b6"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Text.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/prop-types/index.js");var r=a("./common/temp/node_modules/react/index.js");var o=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx");var l=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Text.less");var n=function e(t){var a=t.html,s=void 0===a?"":a;var n=s.replace(/<\/span><\/p>\s*<p><span>/g,"");if(-1===s.indexOf("h1")){var i='<span style="width:1px; height:1px; display: inline-block; background-color: black"></span>';n=s.split("").map(function(e){return i}).join("")}return r.createElement(o,{className:l.container,innerHTML:n})};n.propTypes={html:s.string.isRequired};e.exports=n},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Text.less":function(e,t,a){e.exports={container:"Text-container-3Hh6w","text-align-right":"Text-text-align-right-2YiPV"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/blockTypeMap.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/packages/enums/BlockType.js");var n=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Form.jsx");var i=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Media.jsx");var r=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/ShareButtons.jsx");var o=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Spacer.jsx");var l=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Text.jsx");var c=new Map([[l,[s.MARKDOWN,s.HTML]],[o,[s.HORIZONTAL_RULE,s.SPACER]],[n,[s.FORM]],[i,[s.GALLERY,s.MAP,s.MENU,s.IMAGE,s.QUOTE,s.ACUITY]],[r,[s.SOCIAL_ACCOUNT_LINKS,s.SOCIAL_ACCOUNT_LINKS_V2]]]);e.exports=c},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/getFromBlockType.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/slicedToArray.js"));var d=a("./common/temp/node_modules/lodash/includes.js");var p=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx");var m=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/blockTypeMap.js");var n=function e(t){var a=true;var s=false;var n=void 0;try{for(var i=m[Symbol.iterator](),r;!(a=(r=i.next()).done);a=true){var o=(0,u.default)(r.value,2),l=o[0],c=o[1];if(d(c,t))return l}}catch(e){s=true;n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return p};e.exports=n},"./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=a("./common/temp/node_modules/prop-types/index.js");var p=a("./common/temp/node_modules/react/index.js");var m=a("./common/temp/node_modules/classnames/index.js");var h=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/Block.less");var i=function e(t){var a;var s=t.floatDir,n=t.hSize,i=t.vSize,r=t.className,o=t.children,l=t.innerHTML;var c=m(r,h.container,(a={},(0,d.default)(a,"sqs-col-".concat(n),n),(0,d.default)(a,"vsize-".concat(i),i),(0,d.default)(a,h[s],s),a));var u=l?{__html:l}:null;return p.createElement("div",{className:c,dangerouslySetInnerHTML:u},l?void 0:o)};i.propTypes={innerHTML:n.string,className:n.string,floatDir:n.oneOf(["left","right"]),hSize:n.number,vSize:n.number};e.exports=i},"./src/main/webapp/universal/src/shared/components/LayoutIcon/LayoutIcon.less":function(e,t,a){e.exports={layout:"LayoutIcon-layout-2ruSa",row:"LayoutIcon-row-yKx0R",column:"LayoutIcon-column-12rWl"}},"./src/main/webapp/universal/src/shared/components/LayoutIcon/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,d.default)(s),t;if(n()){var a=(0,d.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var n=a("./common/temp/node_modules/prop-types/index.js");var h=a("./common/temp/node_modules/react/index.js");var v=a("./src/main/webapp/universal/src/shared/constants/BlockTypeStrings.js"),g=v.BlockTypeNames;var f=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/Block/getFromBlockType.js");var b=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/LayoutIcon.less");var y=function(e){(0,u.default)(i,e);var n=m(i);function i(){var s;(0,o.default)(this,i);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=n.call.apply(n,[this].concat(t));(0,p.default)((0,c.default)(s),"renderBlock",function(e,t){var a=e.type,s=e.value;var n=f(a);var i=g[a];return h.createElement(n,(0,r.default)({key:"block-".concat(t)},s,{blockName:i}))});(0,p.default)((0,c.default)(s),"renderColumn",function(e,t){return h.createElement("div",{key:"col-".concat(t),className:"".concat(b.column," sqs-col-").concat(e.span)},e.rows&&e.rows.map(function(e,t){return s.renderRow(e,t)}),e.blocks&&e.blocks.map(function(e,t){return s.renderBlock(e,t)}))});(0,p.default)((0,c.default)(s),"renderRow",function(e,t){var a=e.columns.map(function(e,t){return s.renderColumn(e,t)});return h.createElement("div",{key:"row-".concat(t),className:b.row},a)});return s}(0,l.default)(i,[{key:"render",value:function e(){var a=this;var t=this.props.rows.map(function(e,t){return a.renderRow(e,t)});return h.createElement("div",{className:b.layout},t)}}]);return i}(h.Component);(0,p.default)(y,"propTypes",{rows:n.array.isRequired,type:n.string,value:n.object});e.exports=y},"./src/main/webapp/universal/src/shared/components/MobileAppRedirect/MobileAppRedirect.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=s(a("./common/temp/node_modules/react/index.js"));var m=s(a("./common/temp/node_modules/prop-types/index.js"));var h=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var v=a("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var g=a("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var f=s(a("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var b=s(a("./src/main/webapp/universal/src/shared/router/withRouter.tsx"));var y=s(a("./src/main/webapp/universal/src/shared/router/propType.ts"));function w(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,i.default)(this,t)}}var S=function(e){(0,c.default)(i,e);var n=w(i);function i(){var s;(0,r.default)(this,i);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=n.call.apply(n,[this].concat(t));(0,d.default)((0,l.default)(s),"handleClose",function(){var e=s.props,t=e.backTo,a=e.router;s.props.onRequestClose&&s.props.onRequestClose();f.default.userCloseMobileRedirect();a.push(t)});(0,d.default)((0,l.default)(s),"handleButtonClick",function(){var e=s.props.to;f.default.userClickMobileRedirectBadge(e)});return s}(0,o.default)(i,[{key:"componentDidMount",value:function e(){f.default.userViewMobileRedirect()}},{key:"render",value:function e(){var t=this.props,a=t.bannerClassName,s=t.closeButtonLabel,n=t.title,i=t.description,r=t.onRequestContinue,o=t.to;return p.default.createElement(h.Modal.Transition,null,p.default.createElement(h.Modal,null,p.default.createElement(h.Modal.Overlay,null),p.default.createElement(h.Modal.Position,{position:"center"},p.default.createElement(h.Modal.Dialog,null,p.default.createElement(h.Modal.TouchScroll,null,p.default.createElement(v.AppCard,{closeButtonLabel:s,onRequestContinue:r,onRequestClose:this.handleClose},p.default.createElement(v.AppCard.Banner,{className:a}),p.default.createElement(v.AppCard.Content,{title:n,description:i},p.default.createElement(v.AppCard.AppStoreButton,{onClick:this.handleButtonClick,href:o}))))))))}}]);return i}(p.default.Component);(0,d.default)(S,"propTypes",{backTo:m.default.string,bannerClassName:m.default.string,closeButtonLabel:m.default.string,title:m.default.string,description:m.default.string,to:m.default.string,onRequestClose:m.default.func,onRequestContinue:m.default.func,router:y.default});(0,d.default)(S,"defaultProps",{backTo:"/"});var C=function e(t){return p.default.createElement(g.Breakpoint.Renderer,(0,n.default)({},t,{render:{"mobile-0":S,default:null}}))};var _=(0,b.default)(C);t.default=_;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/MobileAppRedirect/index.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/shared/components/MobileAppRedirect/MobileAppRedirect.jsx"));e.exports=t.default},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function u(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var d=a("./common/temp/node_modules/prop-types/index.js");var p=a("./common/temp/node_modules/react/index.js");var m=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),h=m.T;var v=a("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var g=a("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less");var f=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.isOpen,s=t.onCancel,n=t.onDiscard,i=t.onSave;return p.createElement(v,{anchor:"mousepointer",isOpen:a,className:g.modal},p.createElement(v.Header,null,p.createElement(h,{project:"src.shared"},"Review Changes")),p.createElement(v.Body,{className:g.body},p.createElement(h,{project:"src.shared"},"You have made changes. Do you want to save or discard them?")),p.createElement(v.Footer,null,p.createElement(v.Button,{onClick:s},p.createElement(h,{project:"src.shared"},"Cancel")),p.createElement(v.Button,{onClick:n},p.createElement(h,{project:"src.shared"},"Discard")),p.createElement(v.Button,{onClick:i},p.createElement(h,{project:"src.shared"},"Save"))))}}]);return a}(p.Component);(0,c.default)(f,"propTypes",{isOpen:d.bool,onCancel:d.func,onDiscard:d.func,onSave:d.func});e.exports=f},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less":function(e,t,a){e.exports={modal:"ReviewChangesConfirmation-modal-23K7p",body:"ReviewChangesConfirmation-body-3DGwm"}},"./src/main/webapp/universal/src/shared/components/TagSetInput.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var n=a("./common/temp/node_modules/prop-types/index.js");var m=a("./common/temp/node_modules/react/index.js");var h=a("./common/temp/node_modules/classnames/index.js");var v=a("./src/main/webapp/universal/src/shared/components/TagSetInput.less");var g=a("./src/main/webapp/universal/src/shared/utils/Keyboard.js"),f=g.isBackspaceKey,b=g.isArrowLeftKey,y=g.isArrowRightKey,w=g.isCommaKey;var S=function(e){(0,o.default)(n,e);var s=p(n);function n(){var o;(0,i.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];o=s.call.apply(s,[this].concat(t));(0,d.default)((0,l.default)(o),"state",{lastValue:""});(0,d.default)((0,l.default)(o),"focus",function(){o.refs.input.focus()});(0,d.default)((0,l.default)(o),"handleKeyDown",function(e){var t=o.props,a=t.onSubmit,s=t.value;o.setState({lastValue:s});if(w(e)){e.preventDefault();a()}});(0,d.default)((0,l.default)(o),"handleKeyUp",function(e){var t=o.props,a=t.onBackspaceKeyUp,s=t.onLeftKeyUp,n=t.onRightKeyUp,i=t.value;var r=o.state.lastValue;0===i.length&&0===r.length&&(f(e)?a():b(e)?s():y(e)&&n())});return o}(0,r.default)(n,[{key:"render",value:function e(){var t=this.props,a=t.isHidden,s=t.maxLength,n=t.onBlur,i=t.onChange,r=t.onSubmit,o=t.placeholder,l=t.value;var c=h(v.input,(0,d.default)({},v.hidden,a));var u=l.length>0?l:o;return m.createElement("form",{className:v.form,onSubmit:r},m.createElement("div",{className:v.inputContainer},m.createElement("div",{className:v.clone},u),m.createElement("input",{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",className:c,maxLength:s,onChange:i,onSubmit:r,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown,placeholder:o,ref:"input",type:"text",value:l,onBlur:n})))}}]);return n}(m.Component);(0,d.default)(S,"propTypes",{isHidden:n.bool.isRequired,maxLength:n.number,onChange:n.func.isRequired,onBackspaceKeyUp:n.func.isRequired,onBlur:n.func,onLeftKeyUp:n.func.isRequired,onRightKeyUp:n.func.isRequired,onSubmit:n.func.isRequired,placeholder:n.string,value:n.any.isRequired});(0,d.default)(S,"defaultProps",{maxLength:50});e.exports=S},"./src/main/webapp/universal/src/shared/components/TagSetInput.less":function(e,t,a){e.exports={inputContainer:"TagSetInput-inputContainer-2Kto7",form:"TagSetInput-form-2gMl6",input:"TagSetInput-input-1lsWH",hidden:"TagSetInput-hidden-1AnUW",clone:"TagSetInput-clone-1fbpg"}},"./src/main/webapp/universal/src/shared/components/billing/TaxSummaryLabel.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var c=s(a("./common/temp/node_modules/react/index.js"));var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var d=a("./src/main/webapp/universal/src/shared/utils/billing/TaxUtils.js");var n=function e(t){var a=t.taxType,s=t.rate,n=t.taxRateLines;var i=d.taxDescriptions[a]||(0,u.t)("Tax");var r=(0,d.getTaxingEntity)({taxType:a,taxRateLines:n});var o=d.taxInfoLinks[a];var l=(0,d.getFormattedTaxDetail)({countryCode:r,taxType:a,taxRate:s});return c.createElement("a",{href:o,target:"_blank"},i," ",l)};t.default=n;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=s(a("./common/temp/node_modules/react/index.js"));var n=s(a("./common/temp/node_modules/prop-types/index.js"));var y=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var w=s(a("./common/temp/node_modules/@sqs/core-components/fields/RichTextEditor.js"));var p=a("./common/temp/node_modules/@sqs/core-components/components/Rte.js");var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var S=a("./src/main/webapp/universal/src/shared/constants/TextEditor.js");var C=a("./src/main/webapp/universal/src/shared/constants/LayoutEngineClassnames.js");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),true).forEach(function(e){(0,d.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function v(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var g=5e5;var f=function(e){(0,l.default)(n,e);var s=v(n);function n(){var r;(0,i.default)(this,n);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];r=s.call.apply(s,[this].concat(t));(0,d.default)((0,o.default)(r),"domParser",new DOMParser);(0,d.default)((0,o.default)(r),"stopPropagation",function(e){e.stopPropagation()});(0,d.default)((0,o.default)(r),"handleChange",function(e){var t=r.props,a=t.onChange,s=t.isNullable;var n=e;if(s)try{var i=r.domParser.parseFromString(e,"text/html");i.body.innerText||(n=null)}catch(e){}return a(n)});return r}(0,r.default)(n,[{key:"render",value:function e(){var t=this.props,a=t.className,s=t.color,n=t.decodeHTMLEntities,i=t.errorMessage,r=t.flush,o=t.label,l=t.height,c=t.placeholder,u=t.preserveWhitespace,d=t.showSeparator,p=t.tabIndex,m=t.toolbarOptions,h=t.itemEditorZIndex,v=t.type,g=t.value;var f=S.Schemas[v];"boolean"===typeof u&&(f=_({},f,{preserveWhitespace:[u]}));return b.default.createElement(y.FieldWrapper,{errorMessage:i},b.default.createElement(w.default,{className:a,color:s,decodeHTMLEntities:n,fieldIndex:p,label:o,flush:r,height:l,onChange:this.handleChange,onMouseDown:this.stopPropagation,onPointerDown:this.stopPropagation,onClick:this.stopPropagation,pasteAsPlainText:false,placeholder:c,schemaConfig:f,showSeparator:d,toolbarOptions:m,toolbarClassName:C.NONINTERACTIVE_CLASSNAME,itemEditorZIndex:h,value:g,itemConfigEditorProps:{onClick:this.stopPropagation,className:C.NONINTERACTIVE_CLASSNAME,modalClassName:C.NONINTERACTIVE_CLASSNAME,pageDropdownClassName:C.NONINTERACTIVE_CLASSNAME}}))}}]);return n}(b.default.Component);(0,d.default)(f,"propTypes",{className:n.default.string,color:n.default.string,decodeHTMLEntities:n.default.bool,isNullable:n.default.bool,itemEditorZIndex:n.default.number,flush:n.default.bool,onChange:n.default.func.isRequired,placeholder:n.default.string,preserveWhitespace:n.default.bool,showSeparator:n.default.bool,type:n.default.oneOf(Object.values(S.SchemaTypes)),toolbarOptions:n.default.array,value:n.default.oneOfType([n.default.string,n.default.object])});(0,d.default)(f,"defaultProps",{color:"dark",flush:true,itemEditorZIndex:g,placeholder:(0,m.t)("Write here"),showSeparator:true,toolbarOptions:p.DEFAULT_TOOLBAR_TYPES.SIMPLE,type:S.Schemas[S.SchemaTypes.SIMPLE]});var T=f;t.default=T;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return n.default}});var n=s(a("./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js"));e.exports=t.default},"./src/main/webapp/universal/src/shared/components/formatting/FormattedMoney.jsx":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var u=s(a("./common/temp/node_modules/prop-types/index.js"));var m=s(a("./common/temp/node_modules/react/index.js"));var h=s(a("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js"));function v(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var g=function(e){(0,r.default)(a,e);var t=v(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"render",value:function e(){var t=this.props,a=t.divisor,s=t.freeIfZero,n=t.freeLabel,i=t.group,r=t.style,o=t.trimZeroFractions,l=t.value,c=(0,d.default)(t,["divisor","freeIfZero","freeLabel","group","style","trimZeroFractions","value"]);var u={trimZeroFractions:o,group:i,style:r,divisor:a};return m.default.createElement("span",c,s&&l.isZero()?n:(0,p.formatMoney)(l,u))}}]);return a}(m.default.PureComponent);t.default=g;(0,c.default)(g,"propTypes",{freeIfZero:u.default.bool,freeLabel:u.default.string,trimZeroFractions:u.default.bool,group:u.default.bool,value:u.default.instanceOf(h.default).isRequired});(0,c.default)(g,"defaultProps",{freeLabel:(0,p.t)("Free"),group:true,style:"symbol",trimZeroFractions:false});e.exports=t.default},"./src/main/webapp/universal/src/shared/constants/CarrierTypes.js":function(e,t,a){"use strict";var s={AUSTRALIA_POST:"AUSTRALIA_POST",CANADA_POST:"CANADA_POST",CUSTOM:"CUSTOM",DHL:"DHL",DHL_ECOMMERCE:"DHL_ECOMMERCE",DPD:"DPD",FEDEX:"FEDEX",ROYAL_MAIL:"ROYAL_MAIL",UNKNOWN:"UNKNOWN",UPS:"UPS",USPS:"USPS"};e.exports=s},"./src/main/webapp/universal/src/shared/constants/ContentGeneratorTypes.js":function(e,t,a){"use strict";var s={DEFAULT:0,ICON:1};e.exports=s},"./src/main/webapp/universal/src/shared/constants/I18N/AllCountries.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./src/main/webapp/universal/src/shared/constants/I18N/Countries.js"));var r=s(a("./src/main/webapp/universal/src/shared/constants/I18N/OfacCountries.js"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var c=l({},i.default,{},r.default);t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/shared/constants/I18N/CountriesRequiringDefiniteArticle.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),n=s.t;e.exports={AN:n("the Netherlands Antilles"),BS:n("the Bahamas"),CG:n("the Congo"),CZ:n("the Czech Republic"),CD:n("the Congo, Democtatic Republic"),GB:n("the United Kingdom"),IM:n("the Isle of Man"),KY:n("the Caymen Islands"),KM:n("the Comoros"),MH:n("the Marshall Islands"),MP:n("the Northern Mariana Islands"),NL:n("the Netherlands"),RU:n("the Russian Federation"),SB:n("the Solomon Islands"),UM:n("the United States Minor Outlying Islands"),US:n("The United States"),VA:n("the Vatican City State (Holy See)"),VG:n("the Virgin Islands (British)"),VI:n("the Virgin Islands (U.S.)"),WF:n("the Wallis and Futuna Islands")}},"./src/main/webapp/universal/src/shared/constants/I18N/CountryCode.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./src/main/webapp/universal/src/shared/constants/I18N/AllCountries.js"));var i={};Object.keys(n.default).forEach(function(e){return i[e]=e});var r=i;t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/shared/constants/I18N/OfacCountries.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var n={CU:(0,s.t)("Cuba"),IR:(0,s.t)("Iran"),KP:(0,s.t)("Korea (the Democratic People's Republic of)"),SD:(0,s.t)("Sudan"),SY:(0,s.t)("Syria")};var i=n;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/constants/I18N/Region.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.US=t.CA=void 0;var s=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var n=Object.freeze({ON:(0,s.t)("Ontario"),QC:(0,s.t)("Quebec"),NS:(0,s.t)("Nova Scotia"),NB:(0,s.t)("New Brunswick"),MB:(0,s.t)("Manitoba"),BC:(0,s.t)("British Columbia"),PE:(0,s.t)("Prince Edward Island"),SK:(0,s.t)("Saskatchewan"),AB:(0,s.t)("Alberta"),NL:(0,s.t)("Newfoundland and Labrador"),NT:(0,s.t)("Northwest Territories"),YT:(0,s.t)("Yukon"),NU:(0,s.t)("Nunavut")});t.CA=n;var i=Object.freeze({AL:(0,s.t)("Alabama"),AK:(0,s.t)("Alaska"),AZ:(0,s.t)("Arizona"),AR:(0,s.t)("Arkansas"),CA:(0,s.t)("California"),CO:(0,s.t)("Colorado"),CT:(0,s.t)("Connecticut"),DE:(0,s.t)("Delaware"),DC:(0,s.t)("District of Columbia"),FL:(0,s.t)("Florida"),GA:(0,s.t)("Georgia"),HI:(0,s.t)("Hawaii"),ID:(0,s.t)("Idaho"),IL:(0,s.t)("Illinois"),IN:(0,s.t)("Indiana"),IA:(0,s.t)("Iowa"),KS:(0,s.t)("Kansas"),KY:(0,s.t)("Kentucky"),LA:(0,s.t)("Louisiana"),ME:(0,s.t)("Maine"),MD:(0,s.t)("Maryland"),MA:(0,s.t)("Massachusetts"),MI:(0,s.t)("Michigan"),MN:(0,s.t)("Minnesota"),MS:(0,s.t)("Mississippi"),MO:(0,s.t)("Missouri"),MT:(0,s.t)("Montana"),NE:(0,s.t)("Nebraska"),NV:(0,s.t)("Nevada"),NH:(0,s.t)("New Hampshire"),NJ:(0,s.t)("New Jersey"),NM:(0,s.t)("New Mexico"),NY:(0,s.t)("New York"),NC:(0,s.t)("North Carolina"),ND:(0,s.t)("North Dakota"),OH:(0,s.t)("Ohio"),OK:(0,s.t)("Oklahoma"),OR:(0,s.t)("Oregon"),PA:(0,s.t)("Pennsylvania"),RI:(0,s.t)("Rhode Island"),SC:(0,s.t)("South Carolina"),SD:(0,s.t)("South Dakota"),TN:(0,s.t)("Tennessee"),TX:(0,s.t)("Texas"),UT:(0,s.t)("Utah"),VT:(0,s.t)("Vermont"),VA:(0,s.t)("Virginia"),WA:(0,s.t)("Washington"),WV:(0,s.t)("West Virginia"),WI:(0,s.t)("Wisconsin"),WY:(0,s.t)("Wyoming"),AA:(0,s.t)("Armed Forces Americas"),AE:(0,s.t)("Armed Forces Europe"),AP:(0,s.t)("Armed Forces Pacific")});t.US=i;var r={CA:n,US:i};t.default=r},"./src/main/webapp/universal/src/shared/constants/LayoutEngineClassnames.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TEXT_BLOCK=t.NONINTERACTIVE_CLASSNAME=t.NONINTERACTIVE_CLASSNAMES=t.DISABLE_DRAG_SELECTION_CLASSNAME=t.ESCMANAGER_IGNORE_CLASSNAME=t.BLOCK_FOCUS_IGNORE_CLASSNAME=void 0;var s="sqs-prevent-block-focus-change";t.BLOCK_FOCUS_IGNORE_CLASSNAME=s;var n="escmanager-ignore";t.ESCMANAGER_IGNORE_CLASSNAME=n;var i="sqs-disable-drag-selection";t.DISABLE_DRAG_SELECTION_CLASSNAME=i;var r=[s,n,i];t.NONINTERACTIVE_CLASSNAMES=r;var o=r.join(" ");t.NONINTERACTIVE_CLASSNAME=o;var l="sqs-block-html";t.TEXT_BLOCK=l},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/LinkProviderActions.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var n=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var l=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=n(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=n(a("./src/main/webapp/universal/packages/enums/DomainProviderId.js"));var d=n(a("./src/main/webapp/universal/packages/enums/DomainConnectionStrategyId.js"));var p=n(a("./src/main/webapp/universal/packages/enums/DomainTypes.js"));var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var v=n(a("./src/main/webapp/universal/src/shared/dispatchers/alt/AbstractActions.ts"));var g=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js");var f=n(a("./src/main/webapp/universal/src/shared/utils/domains/apis/DomainsAPI.ts"));var b=n(a("./src/main/webapp/universal/src/shared/utils/domains/apis/DomainConnectAPI.ts"));var y=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/googleConnect.js"));var w=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/goDaddyConnect.js"));var S=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/oneAndOneConnect.js"));var C=n(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/DomainConnectionManager.js"));var _=n(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/constants/DomainConnectProviders.ts"));function T(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(n()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var j=function(e){(0,o.default)(a,e);var t=T(a);function a(){var e;(0,i.default)(this,a);e=t.call(this);e.generateActions("getProvidersSuccess","identifyProviderSuccess","getStrategyIdSuccess","setProvider","successConnectingDomain","failedConnectingDomain","closeConnectionSuccess","closeConnectionError");return e}(0,r.default)(a,[{key:"identifyProvider",value:function e(t){var a=this;return function(e){e();return b.default.identifyProvider(t).then(a.identifyProviderSuccess)}}},{key:"getProviders",value:function e(){var t=this;return function(e){e();return b.default.getProviders().then(t.getProvidersSuccess)}}},{key:"getStrategyId",value:function e(t){var a=this;return function(e){e();return b.default.getStrategyId(t).then(a.getStrategyIdSuccess)}}},{key:"startConnection",value:function e(t){var a=this;var s=t.provider,n=void 0===s?{id:u.default.UNKNOWN}:s,i=t.domain,r=void 0===i?"":i;return function(e){e();switch(n.id){case u.default.GOOGLE:return a.connectToGoogle(r);case u.default.GO_DADDY:return a.connectToGoDaddy(r);case u.default.ONE_AND_ONE:return a.connectToOneAndOne(r);default:return a.connectOtherDomain({domain:r,providerId:n.id})}}}},{key:"startDomainConnection",value:function e(t){var s=this;var a=t.provider,n=void 0===a?{id:u.default.UNKNOWN}:a,i=t.domainConnectionStrategy;return function(e){e();var t=_.default.includes(n.id);var a=i.strategyId===d.default.DOMAINCONNECT;a&&t?C.default.getConsentForDomain(i.domainName,n.id):s.connectOtherDomain({domain:i.domainName,providerId:n.id})}}},{key:"connectToGoogle",value:function e(a){return function(e){e();var t=(0,g.getAppDomain)();y.getConsentForDomain({appDomain:t,domain:a})}}},{key:"connectToGoDaddy",value:function e(t){return function(e){e();w.getConsentForDomain(t)}}},{key:"connectToOneAndOne",value:function e(t){return function(e){e();S.getConsentForDomain(t)}}},{key:"connectOtherDomain",value:function e(t){var a=this;var s=t.domain,n=t.providerId;return function(e){e();a.createLinkedDomain({name:s,type:p.default.LINKED,providerId:n}).then(a.successConnectingDomain).catch(function(e){var t=e.data&&e.data.message?e.data.message:(0,m.t)("Failed to connect domain.");a.failedConnectingDomain({message:t})})}}},{key:"createLinkedDomain",value:function e(t){return function(e){e();return f.default.createLinkedDomain(t)}}},{key:"deleteLinkedDomain",value:function e(t){return function(e){e();return f.default.deleteDomain(t)}}}]);return a}(v.default);var q=h.default.createActions(j);t.default=q;e.exports=t.default},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/DomainConnectionManager.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/regenerator/index.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var o=s(a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts"));var d=s(a("./src/main/webapp/universal/packages/enums/DomainTypes.js"));var p=s(a("./src/main/webapp/universal/packages/enums/DomainConnectionStrategyId.js"));var m=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=s(a("./src/main/webapp/universal/src/shared/utils/domains/apis/DomainConnectAPI.ts"));var v=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/LinkProviderActions.ts"));var l=function e(){var c=this;(0,i.default)(this,e);(0,r.default)(this,"_checkOnPopUp",function(e){if(c._popup.closed){clearInterval(c._interval);e()}});(0,r.default)(this,"_updateConsentWindowAndWaitForClose",function(t){return new Promise(function(e){c._popup.location=t.url;c._genericError={message:(0,m.t)("There was an error in linking your {providerName} domain.",{providerName:t.providerName})};c._interval=setInterval(function(){c._checkOnPopUp(e)},1e3)})});(0,r.default)(this,"_verifyDomainLink",function(a){var e="/api/domain-connect/".concat(a.id);return o.default.get(e).then(function(e){var t=e.data;if(!t.success)throw c._genericError;return a}).catch(function(){throw c._genericError})});(0,r.default)(this,"getConsentForDomain",function(){var a=(0,n.default)(u.default.mark(function e(a,s){var n,i,r,o,l;return u.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:n={name:a,type:d.default.LINKED,providerId:s};c._popup=window.open("",(0,m.t)("Squarespace Domain Linking"),"status=0,width=780,height=785,left=400,top=400");t.prev=2;t.next=5;return v.default.createLinkedDomain(n);case 5:i=t.sent;r=i.data;t.next=9;return h.default.getStrategy(a);case 9:o=t.sent;l=o.data;if(!(l.strategyId===p.default.MANUAL)){t.next=15;break}c._popup.close();v.default.successConnectingDomain();return t.abrupt("return");case 15:t.next=17;return c._updateConsentWindowAndWaitForClose(l);case 17:t.next=19;return c._verifyDomainLink(r);case 19:v.default.successConnectingDomain();t.next=26;break;case 22:t.prev=22;t.t0=t["catch"](2);c._popup.closed||c._popup.close();v.default.failedConnectingDomain(t.t0);case 26:case"end":return t.stop()}},e,null,[[2,22]])}));return function(e,t){return a.apply(this,arguments)}}());this._interval=null;this._popup=null;this._genericError={message:(0,m.t)("There was an error in linking your domain.",{providerName:this._providerName})}};var c=new l;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/domainConnect.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var c=s(a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts"));var u=s(a("./src/main/webapp/universal/packages/enums/DomainTypes.js"));var d=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/LinkProviderActions.ts"));var p=a("./src/main/webapp/universal/packages/enums/DomainProviderId.js");var n=function e(t){var r=this;var a=t.providerId,s=t.popUpTitle,n=t.popUpBaseUrl,i=t.errorMsg;(0,o.default)(this,e);(0,l.default)(this,"_genericBaseUrl",function(e){var t=e.name,a=e.id,s=e.verificationCode;var n="https://oauth.".concat(window.Static.SQUARESPACE_CONTEXT.appDomain,"/auth/domainconnect/").concat(t,"/").concat(a);var i;switch(r._providerId){case p.ONE_AND_ONE:i="v1=".concat(s);break;case p.GO_DADDY:i="verify=".concat(s);break;default:break}return r._popUpBaseUrl+"?"+["domain=".concat(t),"redirect_uri=".concat(n),i].join("&")});(0,l.default)(this,"_genericVerificationUrl",function(e){var t=e.id;return"/api/domain-connect/".concat(t)});(0,l.default)(this,"_checkOnPopUp",function(e,t){if(r._popup.closed){clearInterval(r._interval);t(e)}});(0,l.default)(this,"_updateConsentWindowAndWaitForClose",function(t){return new Promise(function(e){r._popup.location=r._genericBaseUrl(t);r._interval=setInterval(function(){return r._checkOnPopUp(t,e)},1e3)})});(0,l.default)(this,"_verifyDomainLink",function(a){var e=r._genericVerificationUrl(a);return c.default.get(e).then(function(e){var t=e.data;if(!t.success)throw r._genericError;return a}).catch(function(){d.default.deleteLinkedDomain(a.id);throw r._genericError})});(0,l.default)(this,"getConsentForDomain",function(e){var t={name:e,type:u.default.LINKED,providerId:r._providerId};r._popup=window.open("",r._popUpTitle,"status=0,width=780,height=785,left=400,top=400");d.default.createLinkedDomain(t).then(function(e){var t=e.data;return r._updateConsentWindowAndWaitForClose(t)}).then(r._verifyDomainLink).then(d.default.successConnectingDomain).catch(function(e){r._popup.closed||r._popup.close();d.default.failedConnectingDomain(e)})});this._interval=null;this._popup=null;this._providerId=a;this._popupTitle=s;this._popUpBaseUrl=n;this._genericError={message:i};return this.getConsentForDomain};var i=n;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/goDaddyConnect.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getConsentForDomain=void 0;var n=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/domainConnect.js"));var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=a("./src/main/webapp/universal/packages/enums/DomainProviderId.js");var o=(0,i.t)("GoDaddy Domain Linking");var l="https://dcc.godaddy.com/manage/v2/domainTemplates/providers/squarespace/services/hosting/apply";var c=(0,i.t)("There was an error in linking your Go Daddy domain.");var u=new n.default({providerId:r.GO_DADDY,popUpTitle:o,popUpBaseUrl:l,errorMsg:c});t.getConsentForDomain=u},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/googleConnect.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getConsentForDomain=void 0;var n=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/LinkProviderActions.ts"));var c=s(a("./src/main/webapp/universal/packages/enums/DomainTypes.js"));var u=s(a("./src/main/webapp/universal/packages/enums/DomainProviderId.js"));var d;var i=function e(t){var a=t.appDomain,s=t.identifier;return"https://oauth.".concat(a,"/auth/google-web-hosting/list-domains-consent-initialize?requestIdentifier=").concat(s)};var p={message:(0,n.t)("There was an error in linking your Google domain.")};var r=function e(t){var a=t.data;if(a.consentGranted){clearInterval(d);var s=a.userId,n=a.subId,i=a.accessToken,r=a.email,o=a.domain;l.default.createLinkedDomain({name:o,type:c.default.LINKED,providerId:u.default.GOOGLE,providerData:{userId:s,accessToken:i,subId:n,email:r}}).then(l.default.successConnectingDomain).catch(function(){l.default.failedConnectingDomain(p)})}else l.default.failedConnectingDomain(p)};var o=function e(t){if(t.closed){clearInterval(d);r({data:{consentGranted:false}})}};var m=function e(t){var a=window.open(t,(0,n.t)("Google Domains Consent"),"status=0,width=780,height=785,left=400,top=400");d=setInterval(function(){return o(a)},300)};var h=function e(t){var a=t.appDomain,s=t.domain;window.addEventListener("message",r);var n=i({appDomain:a,identifier:s});m(n)};t.getConsentForDomain=h},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/oneAndOneConnect.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getConsentForDomain=void 0;var n=s(a("./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/actions/helpers/domainConnect.js"));var i=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=a("./src/main/webapp/universal/packages/enums/DomainProviderId.js");var o=(0,i.t)("1&1 Domain Linking");var l="https://domainconnect.1and1.com/sync/v2/domainTemplates/providers/squarespace.com/services/website/apply";var c=(0,i.t)("There was an error in linking your 1&1 domain.");var u=new n.default({providerId:r.ONE_AND_ONE,popUpTitle:o,popUpBaseUrl:l,errorMsg:c});t.getConsentForDomain=u},"./src/main/webapp/universal/src/shared/domains/components/DomainTransferConnect/constants/DomainConnectProviders.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./src/main/webapp/universal/packages/enums/DomainProviderId.js"));var i=[n.default.GOOGLE,n.default.GO_DADDY,n.default.ONE_AND_ONE];var r=i;t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/shared/i18n/commerce/regionUtils.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getAllSorted=t.sort=t.getComparator=void 0;var i=s(a("./src/main/webapp/universal/src/shared/constants/I18N/Region.js"));var r=a("./src/main/webapp/universal/src/shared/i18n/resolvedLocales.ts");var n={DEFAULT:0,HIGH:1,LOW:-1};var o={US:{AA:n.LOW,AE:n.LOW,AP:n.LOW}};var l=function e(t){var a=o[t]||{};return function(e){return a[e.twoLetterIsoCode]||n.DEFAULT}};var c=function e(t){var a=l(t);return function(e,t){return a(t)-a(e)}};var u=function e(a){return function(e,t){return e.localizedName.localeCompare(t.localizedName,a)}};var d=function e(t,a){var s=c(t);var n=u(a);return function(e,t){var a=s(e,t);if(0===a)return n(e,t);return a}};t.getComparator=d;var p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var a=arguments.length>1?arguments[1]:void 0;var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.getResolvedWebsiteLocale)();return t.sort(d(a,s))};t.sort=p;var m={};var h=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.getResolvedWebsiteLocale)();m[a]||(m[a]={});if(!m[a][t]){var s=i.default[t]||{};var n=Object.keys(s).map(function(e){return{twoLetterIsoCode:e,localizedName:s[e]}});m[a][t]=p(n,t,a)}return m[a][t]};t.getAllSorted=h},"./src/main/webapp/universal/src/shared/images/damask/chownow-32-dark.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAAXNSR0IArs4c6QAAA1lJREFUSA21llmIT1Ecx/8jE7KOEDMKMYo8CPFgyQspigcPeJAlMUTZHmwveCWDpDxLiUQS2ZVdsjeYkSZLIbvsy+dz555x3Zn/f/4z+Nbn3PNbzjn3nHvO+f8LMg2rGSnDYAKMgGLoBj/gKTyBM3AILoP+Jqk5rWbDQ/iZJw/Is41tG6XBZN+DMFAV9U0wDvpCW2gP/WA8bIVqCPmV1F2VvDSXrE9g4wqYAi5rQyogYRr4crb9Aoshp8qIhrfcTr1Fzuz6g4W4N0PoZ2X9aZnMRALf48SF2ZIa4Z+T6G9mul0RjmfgW61PB2O7NItfd0dwgLSW47DP99A9GfSjG7gEfou01uHwu7pp0nIDXQTbL0oHsffHsd0h5uw+x86hwZl6bonj6UFb4j8Rx9wsns+03NVfwRfqCZlZoHFBI4fSg3rWDoBtH0MvyKZ9BMxziWun3OAWJjc56HFsO3kB/SGXwqROmXQTbDhKIw+FQW3zAYbk0WYgOebf90CH3fMoj4amuOOCXNZOwcjxdBVUF4uP4OjZvoHb/S68httgrrdI+H5uuAp4B1dhEqTlFWi7NwaqY2OMRkoLsE1M4q/BDFBhyyfj1tdE0d/FZKr6b7mkvp3qU/OoLTtT2xBbztIVcIYF4Kqo4ppHppxnCSwFb6u1kBx0ALa6brEaHP2wRkJeb/qdRdAuKvrmxw6XUTsMrHsqfINVGsgXvAPmzYDo50bDpeqtI9ZGnvpd1lawAjzAdhaOgd/MnCWQVIjrGwvmuHHaQKRjlDq31ZhRGWb4FitsLF9qWSLHDWI7X2Jawp+snsQwJ8w4ivljqdP1Hxl5MhmvrXBDGDsN9W0sv5Xx5MwxI82jNPYK2kWeRLGdusFK8EIOKqJSuxTBmXo66B8zwC4Fz6x9+lnqyB/bK2DCcWjKjy/NInWl9MXta2fkyVL0xP8STNwD3iSNlStyDezjFrSGnBpB9A3Y4AjUWXt82dSDQDgCzlA7Lw0i6zk46A1IXwq46mg4nqdgGy+I5NnEbFjef1VgBx7w6VCfvK1WgmfU3HPQCZqk9rTyW9qRHIQeEDSAynkI8Y3UC0Pwb55lNPYCsOMP4H+ccgizciknwj9VCb3thTAbn948O6AD/DeNpuezcBSGQKP0C8/h97QX6VebAAAAAElFTkSuQmCC"},"./src/main/webapp/universal/src/shared/images/page-layout/blank-page-2.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M9 2h-.414l-.293.293-4 4L4 6.586V20h14V2H9zm1 2h6v14H6V8h4V4z' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/images/page-layout/blog.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 19h14M16 7l-4 8H5V8l8-4M5 15l5.5-5.5' stroke='%23313131' stroke-width='2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M17.586 10L10 2.414 11.414 1 19 8.586 17.586 10z' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/images/page-layout/events.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18 18V4H4v14h14zM3 8h16' stroke='%23313131' stroke-width='2'/%3E%3Ccircle cx='14' cy='14' r='2' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/images/page-layout/folder.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 4H3v14h16V6H4' stroke='%23313131' stroke-width='2'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/images/page-layout/link.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 11h8M10 6H7a5 5 0 00-5 5v0a5 5 0 005 5h3M12 6h3a5 5 0 015 5v0a5 5 0 01-5 5h-3' stroke='%23313131' stroke-width='2'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/images/page-layout/portfolio.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%23313131' stroke-width='2' d='M4 4h5v5H4zM13 4h5v5h-5zM4 13h5v5H4zM13 13h5v5h-5z'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/images/page-layout/store.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 2h5v12h11l2-8H6' stroke='%23313131' stroke-width='2'/%3E%3Ccircle cx='13' cy='19' r='2' fill='%23313131'/%3E%3Ccircle cx='7' cy='19' r='2' fill='%23313131'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/shared/utils/CountryUtils.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/src/shared/constants/I18N/Countries.js");var n=a("./src/main/webapp/universal/src/shared/constants/I18N/CountriesRequiringDefiniteArticle.js");var i=function e(t){var a=n[t]||s[t]||"";return a};e.exports={getCountryName:i}},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/ContentGenerator.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),true).forEach(function(e){(0,o.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),p=d.t;var m=a("./common/temp/node_modules/lodash/zipObject.js");var h=a("./common/temp/node_modules/lodash/includes.js");var v=a("./common/temp/node_modules/lodash/random.js");var g=a("./common/temp/node_modules/lodash/capitalize.js");var f=a("./common/temp/node_modules/lodash/times.js");var b=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/lorem.js");var y=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/name.js");var w=["left","center","right","justify"];var S=[4,7];var C=[p("Street Address"),p("City, State, Postal Code")];var _={vSize:12,style:2,labels:true,terrain:false,controls:false};var T=u({location:{mapLat:40.7207559,mapLng:-74.0007613,mapZoom:12}},_);var j=function(){function e(){(0,i.default)(this,e)}(0,r.default)(e,[{key:"getLoremText",value:function e(){return b.getRandomText()}},{key:"getCount",value:function e(t){Array.isArray(t)&&(t=v.apply(void 0,(0,n.default)(t)));return t}},{key:"sentence",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return f(this.getCount(t),this.getLoremText).join(" ")}},{key:"word",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var s=this.sentence().split(/\s/,this.getCount(t));a&&(s=s.map(g));return s.join(" ").replace(/,/g,"")}},{key:"name",value:function e(){return y.getFirstName()+" "+y.getLastName()}},{key:"address",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;var a=arguments.length>1?arguments[1]:void 0;if(!a&&"string"===typeof t){a=t;t=C}t&&0!==t.length||(t=C);a&&(t=[a].concat(t));return t.join("<br/>")}},{key:"mapAddress",value:function e(t){if(t)return u({location:t},_);return T}},{key:"html",value:function e(t,a,s){var n=s.align,i=(0,l.default)(s,["align"]);if(n){var r="text-align: ".concat(n);i.style=i.style?"".concat(i.style," ").concat(r):r}var o=Object.keys(i).reduce(function(e,t){i[t]&&(e+=" ".concat(t,'="').concat(i[t],'"'));return e},"");return"<".concat(t).concat(o,">").concat(a,"</").concat(t,">")}},{key:"paragraphs",value:function e(){var a=this;var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;var n=arguments.length>2?arguments[2]:void 0;if(!n&&"string"===typeof s&&h(w,s)){n=s;s=S}return f(this.getCount(t),function(e){var t=a.getCount(s);return a.html("p",a.sentence(t),{align:n})}).join("")}},{key:"paragraph",value:function e(t,a){if(!a&&t&&h(w,t)){a=t;t=null}"string"!==typeof t&&(t=this.sentence([1,3]));return this.html("p",t,{align:a})}},{key:"header",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"h3";var a=arguments.length>1?arguments[1]:void 0;var s=arguments.length>2?arguments[2]:void 0;if(!s&&a&&h(w,a)){s=a;a=null}"string"!==typeof a&&(a=this.sentence().slice(0,-1));return this.html(t,a,{align:s})}},{key:"cleanHTML",value:function e(t){return"string"===typeof t?t:""}},{key:"exportMethods",value:function e(){var t=this;var a=["address","cleanHTML","header","html","mapAddress","name","paragraph","paragraphs","sentence","word"];return m(a,a.map(function(e){return t[e].bind(t)}))}}]);return e}();e.exports=j},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/IconContentGenerator.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/get.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function d(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var p=a("./common/temp/node_modules/classnames/index.js");var m=a("./common/temp/node_modules/lodash/forEach.js");var h=a("./common/temp/node_modules/lodash/isArray.js");var v=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/ContentGenerator.js");var g=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/lorem.js").getDefaultText();var f=function(e){(0,l.default)(s,e);var t=d(s);function s(){(0,n.default)(this,s);return t.apply(this,arguments)}(0,i.default)(s,[{key:"getLoremText",value:function e(){return g}},{key:"getCount",value:function e(t){if(h(t))return t[0];return t}},{key:"html",value:function e(t,a,s){var n=s.align,i=(0,o.default)(s,["align"]);"p"===t&&(a="<span>"+a+"</span>");n&&(i.class=p(i.class,"text-align-".concat(n)));var r=Object.keys(i).reduce(function(e,t){i[t]&&(e+=" ".concat(t,'="').concat(i[t],'"'));return e},"");return"<".concat(t).concat(r,">").concat(a,"</").concat(t,">")}},{key:"cleanHTML",value:function e(t){t=(0,r.default)((0,u.default)(s.prototype),"cleanHTML",this).call(this,t);if(t){var a=document.createElement("div");a.innerHTML=t;["div","p","ul","ol","blockquote"].forEach(this.cleanParagraph.bind(this,a));["h1","h2","h3"].forEach(this.cleanHeader.bind(this,a));t=a.innerHTML}return t}},{key:"cleanParagraph",value:function e(t,a){m(t.getElementsByTagName(a),function(e){var t=e.className?' class="'.concat(e.className,'"'):"";e.outerHTML="<p".concat(t,"><span>").concat(e.textContent,"</span></p>")})}},{key:"cleanHeader",value:function e(t,a){m(t.getElementsByTagName(a),function(e){e.outerHTML="<".concat(a,">").concat(e.textContent,"</").concat(a,">")})}}]);return s}(v);e.exports=f},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i;var r=a("./src/main/webapp/universal/src/shared/constants/ContentGeneratorTypes.js");var o=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/ContentGenerator.js");var l=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/IconContentGenerator.js");e.exports=(i={},(0,n.default)(i,r.DEFAULT,(new o).exportMethods()),(0,n.default)(i,r.ICON,(new l).exportMethods()),i)},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/lorem.js":function(e,t,a){"use strict";var s=["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Suspendisse nec congue purus.","Integer tempus, elit in laoreet posuere, lectus neque blandit dui, et placerat urna diam mattis orci.","Donec ac fringilla turpis.","Mauris id fermentum nulla.","Aenean eu justo sed elit dignissim aliquam.","In sit amet felis malesuada, feugiat purus eget, varius mi.","Sed a ligula quis sapien lacinia egestas.","Nullam sit amet nisi condimentum erat iaculis auctor.","Nulla lectus ante, consequat et ex eget, feugiat tincidunt metus.","Donec eu est non lacus lacinia semper.","Quisque congue porttitor ullamcorper.","Nulla eu pretium massa.","Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.","Vivamus a ante congue, porta nunc nec, hendrerit turpis.","Mauris egestas at nibh nec finibus.","Maecenas non leo laoreet, condimentum lorem nec, vulputate massa.","Aliquam bibendum, turpis eu mattis iaculis, ex lorem mollis sem, ut sollicitudin risus orci quis tellus.","Phasellus sodales massa malesuada tellus fringilla, nec bibendum tellus blandit.","Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.","Fusce at massa nec sapien auctor gravida in in tellus.","Vivamus sit amet semper lacus, in mollis libero.","Donec eget risus diam."];e.exports={getDefaultText:function e(){return s[0]},getRandomText:function e(){return s[Math.floor(Math.random()*s.length)]}}},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/name.js":function(e,t,a){"use strict";var s=["Ann","Anne","Anthony","Arthur","Bonnie","Carlos","Catherine","Christina","Daniel","Diana","Donald","Donna","Elizabeth","Emily","Fred","Gary","Gloria","Harold","Jacqueline","Janet","Janice","Jean","Jennifer","Jeremy","John","Jose","Joshua","Judith","Katherine","Kimberly","Laura","Linda","Louis","Margaret","Mark","Mary","Michael","Nicole","Peter","Phyllis","Robert","Rose","Roy","Sara","Sean","Shirley","Terry","Todd","Wayne","William"];var n=["Aiko","Alexander","Amirpour","Bastien","Bennett","Brown","Campbell","Cho","Clark","Davis","Dominga","Eckart","Edwards","Garcia","Gonzalez","Green","Gupta","Hernandez","Hill","Horvat","Howard","James","Jenkins","Johnson","Jones","Kaufmann","Lee","Long","Liu","Manalad","Martinez","Mitchell","Muller","Nelson","Nowak","Ojeda","Peterson","Phillips","Price","Qillaq","Rhee","Riccardo","Roberts","Rogers","Sanchez","Sato","Scott","Sharma","Simmons","Smith","Sung","Takahashi","Tamaya","Torres","Turner","Ward","Wilson","Williams","Yang","Zhao"];var i=function e(){return s[Math.floor(Math.random()*s.length)]};var r=function e(){return n[Math.floor(Math.random()*n.length)]};e.exports={getFirstName:i,getLastName:r}},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/About.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),d=u.t;var p=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var m=a("./src/main/webapp/universal/packages/enums/BlockType.js"),h=m.SPACER,v=m.SOCIAL_ACCOUNT_LINKS_V2;var g={h1:d("About"),h3:d("It all started when")};var f=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getKeywords",value:function e(){return[d("About")]}}]);return a}(p);var b=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Banner")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;var l=this.contentGenerator,c=l.header,u=l.paragraphs;return a(s(n(12,r(c("h1",g.h1,"center")),o(60))),s(n(3,i(h)),n(6,i(h),r(c("h3",g.h3)+u(1)),i(h),i(v)),n(3,i(h))))}}]);return a}(f);var y=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Vertical")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;var l=this.contentGenerator,c=l.header,u=l.paragraphs;return a(s(n(3,i(h)),n(6,o(100),i(h),r(c("h3",g.h3)+u(1)),i(h),i(v)),n(3,i(h))))}}]);return a}(f);var w=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Horizontal")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.TextBlock,r=t.ImageBlock;var o=this.contentGenerator.paragraphs;return a(s(n(6,r(100)),n(6,i(o(1)))))}}]);return a}(f);e.exports=[b,y,w]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Blank.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),d=u.t;var p=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var m=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Blank")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.TextBlock;return a(s(n(12,i("<p> </p>"))))}}]);return a}(p);e.exports=m},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Booking.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),d=u.t;var p=a("./src/main/webapp/universal/packages/enums/BlockType.js"),m=p.ACUITY,h=p.SPACER;var v=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var g=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getKeywords",value:function e(){return[d("acuity"),d("booking")]}}]);return a}(v);var f=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Description")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator,l=o.header,c=o.paragraphs;return a(s(n(12,r(l("h1",d("Book an Appointment"),"center")),r(c(1,3)))),s(n(2,i(h)),n(8,i(m)),n(2,i(h))))}}]);return a}(g);var b=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("No Description")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator.header;return a(s(n(12,r(o("h1",d("Book an Appointment"),"center")))),s(n(2,i(h)),n(8,i(m)),n(2,i(h))))}}]);return a}(g);e.exports=[f,b]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Contact.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function d(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(s),t;if(n()){var a=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var p=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),h=p.t;var v=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var g=a("./src/main/webapp/universal/packages/enums/BlockType.js"),f=g.SPACER,b=g.MAP,y=g.FORM;var w={map:h("Our Office"),form:h("Contact Us"),formDesc:h("Please complete the form below")};var S=function e(t,a){var s=t(a);return{value:s}};var C=function(e){(0,o.default)(a,e);var t=d(a);function a(){(0,i.default)(this,a);return t.apply(this,arguments)}(0,r.default)(a,[{key:"isForm",value:function e(){return true}},{key:"getKeywords",value:function e(){return[h("Contact")]}}]);return a}(v);var _=function(e){(0,o.default)(a,e);var t=d(a);function a(){(0,i.default)(this,a);return t.apply(this,arguments)}(0,r.default)(a,[{key:"getLabel",value:function e(){return h("Large Map")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator,l=o.header,c=o.paragraph,u=o.paragraphs,d=o.address,p=o.mapAddress;return a(s(n(4,r(l("h1",w.map)),r(c(d(this.location)))),n(8,m({},i(b),{},S(p,this.mapLocation)))),s(n(12,i(f))),s(n(4,r(l("h2",w.form)+u(1,2))),n(8,i(y))))}}]);return a}(C);var T=function(e){(0,o.default)(a,e);var t=d(a);function a(){(0,i.default)(this,a);return t.apply(this,arguments)}(0,r.default)(a,[{key:"getLabel",value:function e(){return h("Small Map")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator,l=o.header,c=o.paragraph,u=o.address,d=o.mapAddress;return a(s(n(8,r(l("h1",w.form)),i(f),i(y)),n(4,r(l("h3",w.map)+c(u(this.location))),m({},i(b),{},S(d,this.mapLocation)))))}}]);return a}(C);var j=function(e){(0,o.default)(a,e);var t=d(a);function a(){(0,i.default)(this,a);return t.apply(this,arguments)}(0,r.default)(a,[{key:"getLabel",value:function e(){return h("No Map")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator.header;return a(s(n(2,i(f)),n(8,r(o("h1",w.form)),i(f),r(o("h3",w.formDesc)),i(y)),n(2,i(f))))}}]);return a}(C);e.exports=[_,T,j]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Details.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),d=u.t;var p=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var m=a("./src/main/webapp/universal/packages/enums/BlockType.js"),h=m.SPACER,v=m.HORIZONTAL_RULE;var g=function e(t,a){var s=t.header;return s("h1",d("Detail {label}",{label:a}))};var f=function e(t,a,s,n){var i=t.header,r=t.paragraphs;return i("h3",d("Detail {label}",{label:a}))+r(s,n)};var b=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getKeywords",value:function e(){return[d("Details")]}}]);return a}(p);var y=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Text")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator.paragraphs;return a(s(n(3,r(function(e){return g(e,"1",1,3)})),n(9,r(o(1)))),s(n(12,i(v))),s(n(3,r(function(e){return g(e,"2",1,3)})),n(9,r(o(1)))),s(n(12,i(v))),s(n(3,r(function(e){return g(e,"3",1,3)})),n(9,r(o(1)))))}}]);return a}(b);var w=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Banner")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;return a(s(n(1,i(h)),n(10,s(n(10,o(30))),s(n(5,r(function(e){return f(e,"1",1,2)})),n(5,r(function(e){return f(e,"2",1,2)}))),s(n(10,i(h),o(30))),s(n(5,r(function(e){return f(e,"3",1,2)})),n(5,r(function(e){return f(e,"4",1,2)})))),n(1,i(h))))}}]);return a}(b);var S=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Thumbnail")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.TextBlock,r=t.ImageBlock;return a(s(n(6,r(75)),n(6,r(75))),s(n(12,i(function(e){return f(e,"1",1,4)}))),s(n(6,r(75)),n(6,r(75))),s(n(12,i(function(e){return f(e,"2",1,4)}))))}}]);return a}(b);e.exports=[y,w,S]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Features.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function u(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var d=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),p=d.t;var m=a("./common/temp/node_modules/lodash/times.js");var h=a("./src/main/webapp/universal/packages/enums/BlockType.js"),v=h.SPACER,g=h.HORIZONTAL_RULE;var f=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var b=function e(t,a){var s=t.header,n=t.paragraphs;return s("h1",p("Features Overview"),"center")};var y=function e(t,a,s){var n=t.header,i=t.paragraphs;return n("h3",p("Feature {featureCount}",{featureCount:a}))+i(1,s)};var w=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getKeywords",value:function e(){return[p("Features")]}}]);return a}(f);var S=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Horizontal")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.ButtonBlock,o=t.TextBlock,l=t.ImageBlock;return a(s(n(1,i(v)),n(10,o(b),i(v)),n(1,i(v))),s.apply(void 0,(0,c.default)(m(3,function(t){return n(4,l(100),o(function(e){return y(e,t+1,3)}),r("small","left"))}))))}}]);return a}(w);var C=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Vertical")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.ButtonBlock,o=t.TextBlock,l=t.ImageBlock;return a.apply(void 0,[s(n(1,i(v)),n(10,o(b),i(v)),n(1,i(v)))].concat((0,c.default)(m(5,function(t){if(t%2)return s(n(12,i(v)));return s(n(4,l(100)),n(8,o(function(e){return y(e,t/2+1,2)}),r("small","left")))}))))}}]);return a}(w);var _=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Banner")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;return a(s(n(12,r(function(e){return b(e,1)}),i(v),o(50),r(function(e){return y(e,1)}))),s(n(6,o(75)),n(6,o(75))))}}]);return a}(w);var T=function(e){(0,r.default)(a,e);var t=u(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Alternating")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;return a(s(n(1,i(v)),n(10,r(b),i(v)),n(1,i(v))),s(n(4,o(100)),n(8,r(function(e){return y(e,1,2)}))),s(n(12,i(g))),s(n(8,r(function(e){return y(e,2,2)})),n(4,o(100))),s(n(12,i(g))),s(n(4,o(100)),n(8,r(function(e){return y(e,3,2)}))))}}]);return a}(w);e.exports=[S,C,_,T]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/FromLayoutJSON.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./common/temp/node_modules/lodash/filter.js");var d=a("./common/temp/node_modules/lodash/includes.js");var p=a("./common/temp/node_modules/lodash/isPlainObject.js");var m=a("./common/temp/node_modules/lodash/isEqualWith.js");var h=a("./common/temp/node_modules/lodash/transform.js");var v=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),g=v.t;var f=a("./src/main/webapp/universal/packages/enums/BlockType.js");var b=a("./src/main/webapp/universal/src/shared/constants/ContentGeneratorTypes.js");var y=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var w=[f.HTML,f.MARKDOWN];var S=function(e){(0,r.default)(s,e);var a=c(s);function s(e){var t;(0,n.default)(this,s);t=a.call(this);t.layoutJSON=e;return t}(0,i.default)(s,[{key:"getKeywords",value:function e(){return[g("custom")]}},{key:"generateJSON",value:function e(){var t=this;var a=this.layoutJSON;var s=u(a.rows,function(e){return!t.isRowEmpty(e)});return{rows:h(s,this.convertRow,[],this),columns:a.columns||12}}},{key:"isRowEmpty",value:function e(t){var a=t.columns,s=void 0===a?[]:a;if(1===s.length){var n=s[0];return(!n.rows||0===n.rows.length)&&(!n.blocks||0===n.blocks.length)}return 0===s.length}},{key:"convertRow",value:function e(t,a){var s=t[t.length-1];if(this.contentGeneratorType===b.ICON&&s&&this.compareRow(a,s)){t.push(s);return}t.push({columns:h(a.columns,this.convertColumn,[],this)})}},{key:"convertColumn",value:function e(t,a){var s=t[t.length-1];if(this.contentGeneratorType===b.ICON&&s&&this.compareColumn(a,s)){t.push(s);return}t.push({span:"number"===typeof a.span?a.span:12,rows:a.rows&&h(a.rows,this.convertRow,[],this),blocks:a.blocks&&a.blocks.map(this.convertBlock,this)})}},{key:"convertBlock",value:function e(t){var a=t.type,s=t.value;switch(a){case f.HTML:case f.MARKDOWN:return this.convertTextBlock({type:a,value:s});case f.IMAGE:s=Object.assign({},s,{imageId:void 0});break;case f.GALLERY:s=Object.assign({},s,{collectionId:"dummyCollection",transientGalleryId:void 0,existingGalleryId:void 0,methodOption:"transient"});break;default:}return{type:a,value:s}}},{key:"convertTextBlock",value:function e(t){var a=t.type,s=t.value;var n="";s&&s.html&&(n=this.contentGenerator.cleanHTML(s.html));return this.layoutJSONCreator.TextBlock(n)}},{key:"compareRow",value:function e(t,a){var s=this;return m(t.columns,a.columns,function(e,t){if(p(e)&&p(t))return s.compareColumn(e,t)})}},{key:"compareColumn",value:function e(t,a){var s=this;if(t.span!==a.span)return false;if(t.blocks&&a.blocks)return m(t.blocks,a.blocks,function(e,t){if(p(e)&&p(t))return s.compareBlock(e,t)});if(t.rows&&a.rows)return this.compareRow(t.rows,a.rows);return false}},{key:"compareBlock",value:function e(t,a){return t.type===a.type||d(w,t.type)&&d(w,a.type)}}]);return s}(y);e.exports=S},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Misc.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var p=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),m=u.t;var h=a("./common/temp/node_modules/lodash/times.js");var d=a("./src/main/webapp/universal/packages/enums/BlockType.js"),v=d.MENU,g=d.HORIZONTAL_RULE,f=d.ACUITY,b=d.SPACER;var y=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var w=[m("US"),m("Europe"),m("Asia"),m("AU / NZ")];var S=m("Sandwiches\n----------\n\nLe Paysan\nSmoked turkey, brie & apple chutney\n$14\n\nSoho Mediterranean\nHummus, grilled vegetables & halloumi cheese\n$15\n\nBacon Steak\nSteak, onions, bacon & cheddar\n$18");var C=[{title:null,description:null,sections:[{title:m("Sandwiches"),description:null,items:[{title:m("Le Paysan"),description:m("Smoked turkey, brie & apple chutney"),variants:[{price:14,title:""}]},{title:m("Soho Mediterranean"),description:m("Hummus, grilled vegetables & halloumi cheese"),variants:[{price:15,title:""}]},{title:m("Bacon Steak"),description:m("Steak, onions, bacon & cheddar"),variants:[{price:18,title:""}]}]}]}];var _=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return m("Locations")}},{key:"getKeywords",value:function e(){return[m("Other")]}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.TextBlock;var r=this.contentGenerator,o=r.header,l=r.paragraph,c=r.address;var u=w.length;var d=12/u;return a(s.apply(void 0,(0,p.default)(h(u,function(e){return n(d,i(o("h1",w[e])+h(4,function(){return l(c(m("<strong>Store Name</strong>")))}).join("")))}))))}}]);return a}(y);var T=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return m("Menu")}},{key:"getKeywords",value:function e(){return[m("Other")]}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator,l=o.header,c=o.paragraphs;return a(s(n(r(l("h1",m("Our Menu"),"center")+c(1,2,"center")),i(g),i(v,{raw:S,menus:C,menuStyle:"simple",currencySymbol:"$"}),i(g))))}}]);return a}(y);var j=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return m("Online Booking with Acuity")}},{key:"getKeywords",value:function e(){return[m("Other")]}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock;var o=this.contentGenerator,l=o.header,c=o.paragraphs;return a(s(n(12,r(l("h1",m("Book an Appointment"),"center")+c(1,2,"center")))),s(n(2,i(b)),n(8,i(f)),n(2,i(b))))}}]);return a}(y);e.exports=[_,T,j]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PhotoWall.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),d=u.t;var p=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var m=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getKeywords",value:function e(){return[d("Images")]}}]);return a}(p);var h=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Horizontal Masonry")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.ImageBlock;return a(s(n(6,i(75)),n(6,i(75))),s(n(4,i(75)),n(4,i(75)),n(4,i(75))),s(n(6,i(75)),n(6,i(75))))}}]);return a}(m);var v=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Grid")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.ImageBlock;return a(s(n(6,i(75)),n(6,i(75))),s(n(8,i(75)),n(4,i(75),i(75))),s(n(6,i(75)),n(6,i(75))))}}]);return a}(m);var g=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return d("Vertical Masonry")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.ImageBlock;return a(s(n(4,i(160),i(75)),n(4,i(75),i(160)),n(4,i(160),i(75))))}}]);return a}(m);e.exports=[h,v,g]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var c=a("./src/main/webapp/universal/scripts-thirdparty/markdown/markdown-from-html.js");var u=a("./common/temp/node_modules/lodash/isBoolean.js");var d=a("./src/main/webapp/universal/src/shared/constants/ContentGeneratorTypes.js");var p=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/ContentGenerators/index.js");var m=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutJSONCreator.js");var h=Object.keys(d).map(function(e){return d[e]});var v=function(){function e(){var n=this;(0,i.default)(this,e);this.isMarkdownMode=false;this.contentGeneratorType=d.DEFAULT;this.contentGenerator=p[d.DEFAULT];this.layoutJSONCreator=l({},m,{TextBlock:function e(t){var a=m.MarkdownBlock,s=m.HTMLBlock;"function"===typeof t&&(t=t(n.contentGenerator));if(n.isMarkdownMode&&n.contentGeneratorType!==d.ICON&&-1===t.search(/\s+class=/))return a(c(t),t);return s(t)}})}(0,r.default)(e,[{key:"getLabel",value:function e(){return""}},{key:"isForm",value:function e(){return false}},{key:"getKeywords",value:function e(){return[]}},{key:"generateJSON",value:function e(){return this.layoutJSONCreator.EmptyLayout()}},{key:"generate",value:function e(t){var a=t.isMarkdownMode,s=t.contentGeneratorType,n=t.location,i=t.mapLocation;u(a)&&(this.isMarkdownMode=a);if(h.indexOf(s)>-1){this.contentGeneratorType=s;this.contentGenerator=p[s]}n&&(this.location=n);i&&(this.mapLocation=i);return this.generateJSON()}},{key:"exportMethods",value:function e(){return{isForm:this.isForm(),keywords:this.getKeywords(),label:this.getLabel(),generate:this.generate.bind(this)}}}]);return e}();e.exports=v},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Team.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));function c(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,l.default)(s),t;if(n()){var a=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,o.default)(this,t)}}var u=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),p=u.t;var m=a("./common/temp/node_modules/lodash/times.js");var h=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PresetGenerator.js");var v=a("./src/main/webapp/universal/packages/enums/BlockType.js"),g=v.SPACER;var f=function e(t,a){var s=t.name,n=t.header,i=t.paragraphs;return n("h3",s())+i(1,a)};var b=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getKeywords",value:function e(){return[p("Team")]}}]);return a}(h);var y=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("One Column")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;return a(s(n(1,i(g)),n.apply(void 0,[10].concat((0,d.default)(m(3,function(){return s(n(4,o(120)),n(6,r(function(e){return f(e,3)})))})))),n(1,i(g))))}}]);return a}(b);var w=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Two Columns")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.TextBlock,o=t.ImageBlock;var l=this.contentGenerator.header;return a(s(n(1,i(g)),n(10,r(l("h1","Our Team","center"))),n(1,i(g))),s.apply(void 0,(0,d.default)(m(2,function(){return n(6,o(75),r(function(e){return f(e,1)}))}))),s.apply(void 0,(0,d.default)(m(2,function(){return n(6,o(75),r(function(e){return f(e,1)}))}))))}}]);return a}(b);var S=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Three Columns")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.Block,r=t.ImageBlock;var o=this.contentGenerator,l=o.name,c=o.paragraph,u=o.paragraphs;return a.apply(void 0,(0,d.default)(m(3,function(e){if(e%2)return s(n(12,i(g)));return s.apply(void 0,(0,d.default)(m(3,function(){return n(4,r(100,c("<strong>".concat(l(),"</strong>"))+u()))})))})))}}]);return a}(b);var C=function(e){(0,r.default)(a,e);var t=c(a);function a(){(0,n.default)(this,a);return t.apply(this,arguments)}(0,i.default)(a,[{key:"getLabel",value:function e(){return p("Four Columns")}},{key:"generateJSON",value:function e(){var t=this.layoutJSONCreator,a=t.Layout,s=t.Row,n=t.Column,i=t.ImageBlock;var r=this.contentGenerator,o=r.name,l=r.paragraph;return a.apply(void 0,(0,d.default)(m(3,function(){return s.apply(void 0,(0,d.default)(m(4,function(){return n(3,i(100,l(o())))})))})))}}]);return a}(b);e.exports=[y,w,S,C]},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/index.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/lodash/mapValues.js");var n=a("./common/temp/node_modules/lodash/kebabCase.js");var i=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/FromLayoutJSON.js");var r={Blank:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Blank.js"),About:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/About.js"),Contact:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Contact.js"),Details:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Details.js"),Features:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Features.js"),Misc:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Misc.js"),PhotoWall:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/PhotoWall.js"),Team:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Team.js"),Booking:a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/Booking.js")};var o={};Object.keys(r).forEach(function(e){var t=r[e];var a=n(e);Array.isArray(t)?t.forEach(function(e,t){o["".concat(a,"-").concat(t+1)]=e}):o[a]=t});e.exports={presetGenerators:s(o,function(e){return(new e).exportMethods()}),getGeneratorFromJSON:function e(t){return new i(t).exportMethods()}}},"./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresets.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/typeof.js"));var n=a("./common/temp/node_modules/react/index.js");var i=a("./common/temp/node_modules/lodash/uniq.js");var o=a("./src/main/webapp/universal/packages/enums/BlockType.js"),l=o.FORM;var c=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),u=c.t;var d=a("./src/main/webapp/universal/src/shared/components/LayoutIcon/index.jsx");var p=a("./src/main/webapp/universal/src/shared/constants/ContentGeneratorTypes.js");var m=a("./src/main/webapp/universal/src/shared/utils/LayoutEngine/LayoutPresetGenerators/index.js"),h=m.presetGenerators;var v=u("Other");var g=null;var f={generateLayout:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.DEFAULT;var s=h[t];return s.generate({isMarkdownMode:g.isMarkdownMode(),location:g.getLocationArray(),mapLocation:g.getMapLocation(),contentGeneratorType:a})},createLayoutIcon:function e(t){return n.createElement(d,this.generateLayout(t,p.ICON))},getLabel:function e(t){return h[t].label},getAvailablePresetKeys:function e(t){var a=Object.keys(h);if(t)return a.filter(function(e){return h[e].keywords.indexOf(t)>-1});return a},containsForm:function e(t){return h[t].isForm},getAvailableCategories:function e(){var t=i(Object.keys(h).map(function(e){return h[e].keywords}).flat());var a=t.indexOf(v);if(a>-1){t.splice(a,1);t.push(v)}return t},walk:function e(t,a,s){var n=this;if(!t)return;if(Array.isArray(t)){t.forEach(function(e){n.walk(e,a,s)});return}if("object"===(0,r.default)(t)){var i=a(t,s);if(true===i)return;Object.keys(t||{}).forEach(function(e){n.walk(t[e],a,s)})}},addFormIdPredicate:function e(t,a){if(t.type&&t.type===l){t.id="";t.value=a;return true}return false},addFormIdToLayout:function e(t,a){var s=this.addFormIdPredicate;this.walk(t,s,a)},registerAdapter:function e(t){g=t}};e.exports=f},"./src/main/webapp/universal/src/shared/utils/LogoutAPI.js":function(e,t,a){"use strict";var s="/api/auth/Logout";var n=a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var i={logout:function e(){return n.post(s)}};e.exports=i},"./src/main/webapp/universal/src/shared/utils/SevenOneNavListUtils.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getNavListByChildEl=void 0;var i="sqs-navigation-item-list";var r=".".concat(i);var o={MAIN_NAVIGATION:"main_navigation",NOT_LINKED:"not_linked"};var s=function e(t){if(!t||!(t instanceof HTMLElement))return null;var a=t.classList.contains(i)?t:t.closest(r);if(!a)return null;var s=Array.from(a.parentElement.children);var n=s.indexOf(a);if(0===n)return o.MAIN_NAVIGATION;if(1===n)return o.NOT_LINKED;return null};t.getNavListByChildEl=s},"./src/main/webapp/universal/src/shared/utils/SslCertificateUtils.js":function(e,t,a){"use strict";var s=a("./src/main/webapp/universal/packages/enums/CertificateStatus.js");var n={getCumulativeStatus:function e(t){if(0===t.length)return null;var a=t.map(function(e){return e.certificateStatus}).filter(function(e,t,a){return a.indexOf(e)===t});if(1===a.length&&a.includes(s.ISSUED))return s.ISSUED;if(a.includes(s.FAILED_DNS))return s.FAILED_DNS;if(a.includes(s.FAILED)||a.includes(s.NOT_FOUND))return s.FAILED;if(a.includes(s.PROCESSING))return s.PROCESSING;return s.UNKNOWN}};e.exports=n},"./src/main/webapp/universal/src/shared/utils/billing/TaxUtils.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i,r;var o=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),l=o.t;var c=a("./src/main/webapp/universal/packages/enums/BillingTaxType.js");var u=a("./src/main/webapp/universal/packages/enums/TaxJurisdictionType.js");var d=a("./src/main/webapp/universal/src/shared/utils/CountryUtils.js"),p=d.getCountryName;var m=a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js"),h=m.GST_INFO,v=m.VAT_INFO,g=m.US_SALES_TAX;var f={taxDescriptions:(i={},(0,n.default)(i,c.US_SALES,l("Sales Tax")),(0,n.default)(i,c.VAT,l("VAT")),(0,n.default)(i,c.NONE,l("Tax")),(0,n.default)(i,c.AUSTRALIAN_GST,l("GST")),(0,n.default)(i,c.NZ_GST,l("GST")),i),taxInfoLinks:(r={},(0,n.default)(r,c.US_SALES,g),(0,n.default)(r,c.VAT,v),(0,n.default)(r,c.NONE,""),(0,n.default)(r,c.AUSTRALIAN_GST,h),(0,n.default)(r,c.NZ_GST,h),r),getTaxingEntity:function e(t){var a=t.taxType,s=t.taxRateLines;if(!s)return null;var n=s.find(function(e){return e.jurisdictionType===u.COUNTRY});if(n)return n.jurisdictionName;var i=s.find(function(e){return e.jurisdictionType===u.STATE});if(i)return i.jurisdictionName;return null},getFormattedTaxDetail:function e(t){var a=t.isTaxExempt,s=t.countryCode,n=t.taxType,i=t.taxRate;if(a)return l("Exempt");if([c.VAT,c.AUSTRALIAN_GST].includes(n)){if(s)return"("+100*i+"% "+p(s)+")";return"("+100*i+"%)"}return""}};e.exports=f},"./src/main/webapp/universal/src/shared/utils/clearCollectionsInHiddenNavigation.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;function s(t){var e=t.Squarespace.Singletons.TemplateNavigationList.getHiddenNavigation().get("itemList").toArray().reduce(function(e,t){return e.concat(t.get("collectionId")).concat(t.get("children").get("collectionId"))},[]).map(function(e){return t.Squarespace.ContentCollectionCache.getById(e)}).filter(function(e){return e&&e.get("isDemoCollection")});function a(){0===e.length&&window.location.reload();e.pop().destroy({remove:true},function(){return a()})}a()}e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackLegacyProductPagePanel.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.trackProductPageSearch=t.trackProductPageReorder=t.trackProductPageExpandCollapse=t.trackProductPagePanelView=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./common/temp/node_modules/@sqs/track-events/v1.js"));var r=s(a("./common/temp/node_modules/lodash/get.js"));var o=s(a("./src/main/webapp/universal/src/shared/i18n/eventsData.ts"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u=new i.default({customSchemaName:"product_page_panel"},c({event_owner_team:"commerce",event_source:"web",product_area:"commerce-merch",user_website_id:(0,r.default)(window,"Static.SQUARESPACE_CONTEXT.website.id",null)},(0,o.default)()));var d=function e(t){var a=t.collectionId,s=t.collectionTitle;u.track({actor:"user",action:"view",object_type:"panel",object_identifier:"product-page-panel",object_display_name:s,object_id:a,product_design_identifier:"product-collections-v1"})};t.trackProductPagePanelView=d;var p=function e(t){var a=t.collectionId,s=t.objectValue;u.track({actor:"user",action:"click",object_type:"button",object_id:a,object_identifier:"product-page-panel-expand-collapse-button",object_value:s,indirect_object_type:"panel",indirect_object_identifier:"product-page-panel",product_design_identifier:"product-collections-v1"})};t.trackProductPageExpandCollapse=p;var m=function e(t){var a=t.collectionId,s=t.indirectObjectId,n=t.numberOfProductsMoved;u.track({actor:"user",action:"move",object_type:"commerceproduct",object_id:a,object_identifier:"product-page-panel-products",object_value:n.toString(),indirect_object_id:s,indirect_object_type:"panel",indirect_object_identifier:"product-page-panel",product_design_identifier:"product-collections-v1"})};t.trackProductPageReorder=m;var h=function e(t){var a=t.collectionId,s=t.collectionTitle,n=t.itemCount;u.track({actor:"user",action:"input",object_type:"searchquery",object_id:a,object_display_name:s,object_identifier:"product-page-panel-input-searchquery",product_design_identifier:"product-collections-v1",item_count:n})};t.trackProductPageSearch=h},"./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackShippingSetup.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.trackAddShippingOption=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=s(a("./common/temp/node_modules/@sqs/track-events/v1.js"));var r=s(a("./common/temp/node_modules/lodash/get.js"));var o=s(a("./src/main/webapp/universal/src/shared/i18n/eventsData.ts"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),true).forEach(function(e){(0,n.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u="shipping-panel";var d=new Map([["FEDEX",{value:"carrier-fedex",name:"Carrier Calculated via FedEx"}],["FLAT",{value:"flat-rate",name:"Flat Rate"}],["UPS",{value:"carrier-ups",name:"Carrier Calculated via UPS"}],["USPS",{value:"carrier-usps",name:"Carrier Calculated via USPS"}],["WEIGHT_RANGE",{value:"weight-based",name:"Depending on Weight"}]]);var p=new i.default({customSchemaName:"commerce_setup"},c({event_owner_team:"commerce",event_source:"web",product_area:"commerce-core",user_website_id:(0,r.default)(window,"Static.SQUARESPACE_CONTEXT.website.id",null)},(0,o.default)()));var m=function e(t){var a=d.get(t);if(!a)return;p.track({actor:"user",action:"add",object_identifier:"shipping-option",object_type:"setting",object_display_name:a.name,object_value:a.value,product_page:u})};t.trackAddShippingOption=m},"./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackTaxesSetup.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.trackIsTaxIncludedInProductPrice=void 0;var n=s(a("./src/main/webapp/universal/src/shared/utils/events/TrackEventsV2.ts"));var i=s(a("./common/temp/node_modules/lodash/get.js"));var r=new n.default("CommercePricingTax",{event_owner_team:"commerce_pricing",event_source:"web",product_area:"commerce",website_id:(0,i.default)(window,"Static.SQUARESPACE_CONTEXT.website.id",null)});var o=function e(t){r.track({actor:"user",action:"toggle",event_name:"CommerceTax_ManualTax_ToggleTaxInclusive",object_identifier:"tax-included-setting",object_type:"tax_inclusive",tax_inclusive:t})};t.trackIsTaxIncludedInProductPrice=o},"./src/main/webapp/universal/src/shared/utils/commerce/api/ProductsApi.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.deleteProducts=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/regenerator/index.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var r=s(a("./src/main/webapp/universal/src/shared/utils/network.js"));var o="/api/commerce/products";var l=function(){var a=(0,i.default)(n.default.mark(function e(a){var s;return n.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:s=a.map(function(e){return r.default.delete("".concat(o,"/").concat(e))});return t.abrupt("return",Promise.all(s));case 2:case"end":return t.stop()}},e)}));return function e(t){return a.apply(this,arguments)}}();t.deleteProducts=l},"./src/main/webapp/universal/src/shared/utils/diff.js":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=d;var r=s(a("./common/temp/node_modules/lodash/mapValues.js"));var o=s(a("./common/temp/node_modules/lodash/isPlainObject.js"));var l=s(a("./common/temp/node_modules/lodash/isArray.js"));var c=s(a("./common/temp/node_modules/lodash/fromPairs.js"));var u=s(a("./common/temp/node_modules/lodash/differenceBy.js"));function d(s,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return e===t};(!(0,l.default)(s)&&!(0,o.default)(s)||(0,l.default)(s)&&(0,o.default)(e)||(0,o.default)(s)&&(0,l.default)(e))&&(s=(0,o.default)(e)?{}:[]);(0,l.default)(e)||(0,o.default)(e)||(e=(0,o.default)(s)?{}:[]);if((0,o.default)(s)){var t=d(Object.entries(s),Object.entries(e),function(e){return e[0]},function(e,t){return i(e[1],t[1])});return(0,r.default)(t,c.default)}return{added:(0,u.default)(e,s,n),removed:(0,u.default)(s,e,n),changed:e.reduce(function(e,t){var a=s.find(function(e){return n(e)===n(t)});"undefined"===typeof a||i(a,t)||e.push(t);return e},[])}}e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/domains/analytics/DomainManagementEvents.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var r=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var o=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/get.js"));var l=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=s(a("./src/main/webapp/universal/src/shared/utils/domains/getTldFromDomain.ts"));var m=s(a("./src/main/webapp/universal/src/shared/utils/domains/analytics/utils/getSiteStatusString.ts"));var h=s(a("./src/main/webapp/universal/src/shared/utils/domains/analytics/utils/getWebsiteTypeString.ts"));var v=a("./src/main/webapp/universal/src/shared/utils/domains/analytics/constants/index.ts");var g=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js"));var f=s(a("./src/main/webapp/universal/src/shared/utils/events/TrackEventsV2.ts"));function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,s)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),true).forEach(function(e){(0,d.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function w(s){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,u.default)(s),t;if(n()){var a=(0,u.default)(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return(0,c.default)(this,t)}}var S=function(e){(0,l.default)(a,e);var t=w(a);function a(){var s;(0,n.default)(this,a);s=t.call(this,"DomainManagement",{event_owner_team:"domains",event_source:"web",actor:"user"});(0,d.default)((0,r.default)(s),"siteStatus",void 0);(0,d.default)((0,r.default)(s),"websiteType",void 0);var e=g.default.getState();s.siteStatus=e.siteStatus;s.websiteType=e.websiteType;g.default.listen(function(e){var t=e.siteStatus,a=e.websiteType;s.siteStatus=t;s.websiteType=a});return s}(0,i.default)(a,[{key:"trackManagementEvent",value:function e(t){return(0,o.default)((0,u.default)(a.prototype),"track",this).call(this,y({},t,{product_area:v.DomainsProductAreas.INAPP,website_status:(0,m.default)(this.siteStatus),website_type:(0,h.default)(this.websiteType)}))}},{key:"viewRootPanel",value:function e(){this.trackManagementEvent({event_name:"DomainManagement_ViewRootPanel",action:"view",object_type:"panel",object_identifier:"domains-root-panel"})}},{key:"clickGetDomain",value:function e(){this.trackManagementEvent({event_name:"DomainManagement_ClickGetADomain",action:"click",object_type:"button",object_identifier:"get-a-domain-button"})}},{key:"clickUseDomain",value:function e(){this.trackManagementEvent({event_name:"DomainManagement_ClickUseADomain",action:"click",object_type:"button",object_identifier:"use-a-domain-i-own-button"})}},{key:"viewManagedPanel",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ViewManagementPanel",action:"view",object_type:"panel",object_identifier:"managed-domain-panel",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickDomainName",value:function e(t){this.trackManagementEvent({event_name:"DomainManagement_ClickDomainName",action:"click",object_type:"text",object_identifier:"managed-domain-panel-header",domain_name:t,top_level_domain_name:(0,p.default)(t)})}},{key:"updateBuiltInDomain",value:function e(t){this.trackManagementEvent({event_name:"DomainManagement_ChangeBuiltInDomain",action:"click",object_type:"button",object_identifier:"rename-button",update_value:t})}},{key:"resendEmailVerification",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickResendVerificationEmail",action:"click",object_type:"button",object_identifier:"resend-email-verification-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"changePrimaryDomain",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ChangePrimaryDomain",action:"click",object_type:"button",object_identifier:"make-primary-domain-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickAdvanceSettings",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickAdvanceSettings",action:"click",object_type:"pusher",object_identifier:"advance-settings-pusher",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickRegistrationInfo",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickRegistrationInfo",action:"click",object_type:"pusher",object_identifier:"registration-info-pusher",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickManageEmail",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickManageEmail",action:"click",object_type:"pusher",object_identifier:"manage-email-pusher",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"toggleAutoRenew",value:function e(t,a,s,n,i){this.trackManagementEvent({event_name:"DomainManagement_ToggleAutoRenew",action:"click",object_type:"toggle",object_identifier:"auto-renew-toggle",domain_name:t,top_level_domain_name:(0,p.default)(t),update_value:a,is_purchased_free:s,domain_expiration_date:n,registration_date:i})}},{key:"toggleWhois",value:function e(t,a,s,n,i){this.trackManagementEvent({event_name:"DomainManagement_ToggleWhois",action:"click",object_type:"toggle",object_identifier:"whois-toggle",domain_name:t,top_level_domain_name:(0,p.default)(t),update_value:a,is_purchased_free:s,domain_expiration_date:n,registration_date:i})}},{key:"toggleLockStatus",value:function e(t,a,s,n,i){this.trackManagementEvent({event_name:"DomainManagement_ToggleLockStatus",action:"click",object_type:"toggle",object_identifier:"lock-status-toggle",domain_name:t,top_level_domain_name:(0,p.default)(t),update_value:a,is_purchased_free:s,domain_expiration_date:n,registration_date:i})}},{key:"sendAuthCode",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickSendAuthCode",action:"click",object_type:"button",object_identifier:"send-auth-code-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickAddEmail",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickAddEmail",action:"click",object_type:"button",object_identifier:"add-email-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickLatestInvoice",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickLatestInvoice",action:"click",object_type:"button",object_identifier:"latest-invoice-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"clickCancelDomain",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ClickCancelDomain",action:"click",object_type:"button",object_identifier:"cancel-domain-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"confirmCancelDomain",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_ConfirmCancelDomain",action:"click",object_type:"button",object_identifier:"confirm-domain-cancel-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"updateContactInformation",value:function e(t,a,s,n,i){this.trackManagementEvent({event_name:"DomainManagement_UpdateContactInfo",action:"click",object_type:"button",object_identifier:"save-contact-info-button",domain_name:t,top_level_domain_name:(0,p.default)(t),update_value:a,is_purchased_free:s,domain_expiration_date:n,registration_date:i})}},{key:"updateAdditionalTldInfo",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_UpdateAdditionalTldInfo",action:"click",object_type:"button",object_identifier:"save-tld-info-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"addCustomDNSRecord",value:function e(t,a,s,n,i){this.trackManagementEvent({event_name:"DomainManagement_AddCustomDnsRecord",action:"click",object_type:"button",object_identifier:"add-custom-records-button",domain_name:t,top_level_domain_name:(0,p.default)(t),update_value:a,is_purchased_free:s,domain_expiration_date:n,registration_date:i})}},{key:"toggleNameserverType",value:function e(t,a,s,n,i){this.trackManagementEvent({event_name:"DomainManagement_ToggleNameserverType",action:"click",object_type:"radio",object_identifier:"nameserver-type-radio",domain_name:t,top_level_domain_name:(0,p.default)(t),update_value:a,is_purchased_free:s,domain_expiration_date:n,registration_date:i})}},{key:"renewDomain",value:function e(t,a,s,n){this.trackManagementEvent({event_name:"DomainManagement_RenewDomain",action:"click",object_type:"button",object_identifier:"renew-domain-button",domain_name:t,top_level_domain_name:(0,p.default)(t),is_purchased_free:a,domain_expiration_date:s,registration_date:n})}},{key:"initiateDomainMove",value:function e(t,a,s,n,i,r){this.trackManagementEvent({event_name:"DomainManagement_InitiateDomainMove",action:"click",object_type:"item",object_identifier:"website-list-item",domain_name:t,top_level_domain_name:(0,p.default)(t),target_website_status:(0,m.default)(a),target_website_type:(0,h.default)(s),is_purchased_free:n,domain_expiration_date:i,registration_date:r})}}]);return a}(f.default);var C=new S;t.default=C;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/domains/analytics/utils/getSiteStatusString.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./src/main/webapp/universal/packages/enums/StatusConstants.js"));var i=s(a("./common/temp/node_modules/lodash/invert.js"));var r=(0,i.default)(n.default);var o=function e(t){return r[t]};var l=o;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/domains/analytics/utils/getWebsiteTypeString.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./src/main/webapp/universal/packages/enums/WebsiteType.js"));var i=s(a("./common/temp/node_modules/lodash/invert.js"));var r=(0,i.default)(n.default);var o=function e(t){return r[t]};var l=o;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/domains/apis/DomainConnectAPI.ts":function(e,t,a){"use strict";var s=a("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(a("./src/main/webapp/universal/src/shared/utils/network.js"));var i="/api/domain-connection";var r="/api/domain-providers";var o={getProviders:function e(){return n.default.get(r)},identifyProvider:function e(t){return n.default.get("".concat(r,"/identify?q=").concat(t))},getStrategyId:function e(t){return n.default.get("".concat(i,"/").concat(t,"/strategy-id"))},getStrategy:function e(t){return n.default.get("".concat(i,"/").concat(t))}};var l=o;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js":function(e,t,a){"use strict";e.exports=function e(t){var a=/^(https?:)(\/\/)[a-zA-Z0-9][a-zA-Z0-9_\-\.]*\.[a-zA-Z]{2,24}(\/\S*)?$/i;return t.search(a)>-1}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/yui-for-config-website-manifest-45a98aadbddf2c7ded907-min.en-US.js.map