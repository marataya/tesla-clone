(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[47],{"./common/temp/node_modules/lodash/includes.js":function(e,t,s){var a=s("./common/temp/node_modules/lodash/_baseIndexOf.js"),o=s("./common/temp/node_modules/lodash/isArrayLike.js"),i=s("./common/temp/node_modules/lodash/isString.js"),u=s("./common/temp/node_modules/lodash/toInteger.js"),l=s("./common/temp/node_modules/lodash/values.js");var m=Math.max;function r(e,t,s,r){e=o(e)?e:l(e);s=s&&!r?u(s):0;var n=e.length;s<0&&(s=m(n+s,0));return i(e)?s<=n&&e.indexOf(t,s)>-1:!!n&&a(e,t,s)>-1}e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=s("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=s("./src/main/webapp/universal/src/apps/App/shared/utils/WebsiteSummaryAPI.js");var u=function(){function e(){(0,n.default)(this,e);this.generateActions("loadSuccess","loadFailure","deleteSuccess","deleteFailure","removeAccessSuccess","removeAccessFailure","filter")}(0,a.default)(e,[{key:"load",value:function e(t){var s=this;return function(e){e({status:t});return i.load({status:t}).then(function(e){return s.loadSuccess(e.data.results)},function(e){return s.loadFailure(e.data.error)}).catch(function(e){return console.error(e)})}}},{key:"delete",value:function e(t){var s=this;return i.deleteWebsite(t).then(function(){return s.deleteSuccess(t)},function(){return s.deleteFailure(t)}).catch(function(e){return console.error(e)})}},{key:"removeAccess",value:function e(t){var s=this;return i.removeWebsiteAccess(t).then(function(){return s.removeAccessSuccess(t)},function(){return s.removeAccessFailure(t)}).catch(function(e){return console.error(e)})}}]);return e}();e.exports=o.createActions(u)},"./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSummariesStore.js":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var o=r(s("./common/temp/node_modules/lodash/includes.js"));var i=r(s("./src/main/webapp/universal/src/shared/actions/BootstrapHelper.js"));var u=r(s("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js"));var l=function(){function e(){(0,n.default)(this,e);this.state={websiteSummaries:[],filteredWebsiteSummaries:[],loading:false,filtered:false};this.bindActions(u.default);this.exportPublicMethods({getWebsiteSummaries:this.getWebsiteSummaries,filter:this.filterByTerm})}(0,a.default)(e,[{key:"onLoadSuccess",value:function e(t){this.setState({websiteSummaries:t,filtered:false})}},{key:"onDelete",value:function e(){this.setState({loading:true})}},{key:"onDeleteSuccess",value:function e(t){var s=this.state.websiteSummaries;this.setState({websiteSummaries:s.filter(function(e){return e.id!==t}),loading:false})}},{key:"onDeleteFailure",value:function e(){this.setState({loading:false})}},{key:"onRemoveAccess",value:function e(){this.setState({loading:true})}},{key:"onRemoveAccessSuccess",value:function e(t){var s=this.state.websiteSummaries;this.setState({websiteSummaries:s.filter(function(e){return e.id!==t}),loading:false})}},{key:"onRemoveAccessFailure",value:function e(){this.setState({loading:false})}},{key:"onFilter",value:function e(t){this.setState({filtered:!(""===t),filteredWebsiteSummaries:this.filterByTerm(t)})}},{key:"getStateFromContext",value:function e(t){var s=t.websiteSummaries;return{websiteSummaries:s}}},{key:"filterByTerm",value:function e(t){var s=this.state.websiteSummaries;var r=t.toLowerCase().trim();var a=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.default)(t.toLowerCase(),r)};var n=s.filter(function(e){var t=e.siteTitle,s=e.identifier,r=e.primaryDomain,n=e.domains;return a(t)||a(s)||a(r)||n.some(function(e){return a(e.name)})});return n}},{key:"getWebsiteSummaries",value:function e(){var t=this.state,s=t.websiteSummaries,r=t.filteredWebsiteSummaries,n=t.filtered;return n?r:s}}]);return e}();var m=(0,i.default)(l,"WebsiteSummariesStore");t.default=m;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/WebsiteSummaryAPI.js":function(e,t,s){"use strict";var r=s("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var n=s("./common/temp/node_modules/lodash/isNumber.js");var a={load:function e(t){return r.get("/api/website-summaries",{params:{status:n(t)?t:null}})},deleteWebsite:function e(t){return r.delete("/api/rest/websites/".concat(t))},removeWebsiteAccess:function e(t){return r.delete("/api/rest/websites/".concat(t,"/member-permissions/mine"))}};e.exports=a},"./src/main/webapp/universal/src/shared/components/Dialog/Trigger.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var m=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var d=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var o=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var u=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var a=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function f(r){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,c.default)(r),t;if(n()){var s=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,s)}else t=e.apply(this,arguments);return(0,a.default)(this,t)}}var n=s("./common/temp/node_modules/prop-types/index.js");var v=s("./common/temp/node_modules/react/index.js");var b=s("./common/temp/node_modules/lodash/capitalize.js");var h=s("./common/temp/node_modules/classnames/index.js");var _=function(e){(0,l.default)(a,e);var n=f(a);function a(){var s;(0,o.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s=n.call.apply(n,[this].concat(t));(0,p.default)((0,u.default)(s),"state",{isOpen:!!s.props.startOpen});(0,p.default)((0,u.default)(s),"onClose",function(){s.setState({isOpen:false})});(0,p.default)((0,u.default)(s),"bindEvent",function(e){var t={};Array.isArray(e)||(e=[e]);e.forEach(function(e){return t["on"+b(e)]=s.handleToggleIsOpen});return t});(0,p.default)((0,u.default)(s),"handleToggleIsOpen",function(e){if(e.target===e.currentTarget||e.currentTarget.contains(e.target)){e.stopPropagation();s.setState({isOpen:!s.state.isOpen})}});return s}(0,i.default)(a,[{key:"render",value:function e(){var s=this;var t=this.props,r=t.children,n=t.component,a=t.uiEvent,o=t.className,i=(0,d.default)(t,["children","component","uiEvent","className"]);var u=this.state.isOpen;var l=h(o,"u-trigger");delete i.startOpen;return v.createElement("div",(0,m.default)({ref:function e(t){s.wrapper=t},className:l},this.bindEvent(a),i),r,n(u,this.onClose,this.wrapper))}}]);return a}(v.PureComponent);(0,p.default)(_,"propTypes",{startOpen:n.bool,component:n.oneOfType([n.func,n.element]),uiEvent:n.oneOfType([n.array,n.string])});(0,p.default)(_,"defaultProps",{uiEvent:"click"});e.exports=_},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteList.less":function(e,t,s){e.exports={websites:"WebsiteList-websites-k1AQj"}},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var u=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var a=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(r){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,m.default)(r),t;if(n()){var s=(0,m.default)(this).constructor;t=Reflect.construct(e,arguments,s)}else t=e.apply(this,arguments);return(0,a.default)(this,t)}}var n=s("./src/main/webapp/universal/src/shared/i18n/react.ts"),g=n.T;var j=s("./common/temp/node_modules/classnames/index.js");var p=s("./common/temp/node_modules/prop-types/index.js");var w=s("./common/temp/node_modules/react/index.js");var W=s("./common/temp/node_modules/lodash/invert.js");var f=s("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var S=s("./src/main/webapp/universal/packages/enums/StatusConstants.js");var A=s("./src/main/webapp/universal/packages/enums/WebsiteType.js");var C=s("./src/main/webapp/universal/packages/enums/DomainTypes.js");var L=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.less");var v=function(e){(0,l.default)(a,e);var n=c(a);function a(){var r;(0,o.default)(this,a);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];r=n.call.apply(n,[this].concat(t));(0,d.default)((0,u.default)(r),"renderAddIndicator",function(){var e=r.props,t=e.title,s=e.onAddIndicatorClick;return w.createElement("div",{className:L.container,onClick:s},w.createElement("div",{className:L.wrapper},w.createElement("div",{className:L.addIndicator},w.createElement("span",null,"+")),w.createElement("div",{className:L.info},w.createElement("div",{className:L.title},t))))});return r}(0,i.default)(a,[{key:"render",value:function e(){var t=this.props,s=t.description,r=t.domains,n=t.isCurrent,a=t.isSiteOwner,o=t.isDeleteEnabled,i=t.label,u=t.siteStatus,l=t.websiteType,m=t.screenshotInfo,d=t.onAddIndicatorClick,c=t.onSelect,p=t.onDelete,f=t.onRemoveAccess,v=t.title,b=t.theme;if(d)return this.renderAddIndicator();var h=W(A)[l]||"";var _=o&&!n&&!a;var y=o&&!n&&a&&!r.some(function(e){var t=e.type;return t===C.SQUARESPACE})&&(u===S.TRIAL||u===S.EXPIRED);var I={};m.url&&!m.errorCode&&(I=Object.assign(I,{backgroundImage:"url(".concat(m.url,")")}));return w.createElement("div",{className:j(L.container,L[b])},w.createElement("div",{className:L.wrapper,onClick:c},w.createElement("div",{className:j(L.preview,L[h.toLowerCase()]),style:I},(m.errorCode||!m.url)&&w.createElement("span",null,w.createElement(g,{project:"src.shared"},"Preview image coming soon"))),w.createElement("div",{className:L.info},w.createElement("div",{className:L.title},v),w.createElement("div",{className:L.description},s),w.createElement("div",{className:L[i.toLowerCase()]},i)),y&&w.createElement("div",{className:L.deleteWrapper},w.createElement("div",{className:L.deleteButton,onClick:p})),_&&w.createElement("div",{className:L.deleteWrapper},w.createElement("div",{className:L.deleteButton,onClick:f}))))}}]);return a}(w.Component);(0,d.default)(v,"propTypes",{description:p.string,label:p.string,title:p.string.isRequired,id:p.string,identifier:p.string,isCurrent:p.bool,isSiteOwner:p.bool,isDeleteEnabled:p.bool,domains:p.array,siteStatus:p.number,websiteType:p.oneOf(Object.values(A)),screenshotInfo:p.shape({url:p.string,errorCode:p.string}),onAddIndicatorClick:p.func,onSelect:p.func,onDelete:p.func,onRemoveAccess:p.func,theme:f.isRequired});(0,d.default)(v,"defaultProps",{domains:[],screenshotInfo:{},theme:"damask"});e.exports=v},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.less":function(e,t,s){e.exports={container:"WebsiteListItem-container-1tghC",wrapper:"WebsiteListItem-wrapper-2xW_T",deleteWrapper:"WebsiteListItem-deleteWrapper-3X32R",preview:"WebsiteListItem-preview-85_b8",midnight:"WebsiteListItem-midnight-2LNa9",info:"WebsiteListItem-info-30jAB",title:"WebsiteListItem-title-8Q9OT",addIndicator:"WebsiteListItem-addIndicator-3IixV icons-add-1Ck8o",description:"WebsiteListItem-description-11Tbo",statusBadge:"WebsiteListItem-statusBadge-1oM4m",internal:"WebsiteListItem-internal-1qAx7 layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",trial:"WebsiteListItem-trial-1gett layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",comped:"WebsiteListItem-comped-EgwoS layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",active:"WebsiteListItem-active-1GPS4 layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",paid:"WebsiteListItem-paid-IKIFs layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",domain:"WebsiteListItem-domain-3_KJ4 layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",expired:"WebsiteListItem-expired-2baFy layout-pillNeueRed-1BFyj layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",removed:"WebsiteListItem-removed-3_u_a layout-pillNeueRed-1BFyj layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",pastdue:"WebsiteListItem-pastdue-1qw25 layout-pillNeueRed-1BFyj layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",deleteButton:"WebsiteListItem-deleteButton-ZXRPy icons-clear-3iHX5"}},"./src/main/webapp/universal/src/shared/components/WebsiteList/index.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var _=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/extends.js"));var y=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var o=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=r(s("./common/temp/node_modules/@rush-temp/universal-frontend/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(r){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var e=(0,m.default)(r),t;if(n()){var s=(0,m.default)(this).constructor;t=Reflect.construct(e,arguments,s)}else t=e.apply(this,arguments);return(0,l.default)(this,t)}}var n=s("./common/temp/node_modules/prop-types/index.js");var I=s("./common/temp/node_modules/react/index.js");var p=s("./common/temp/node_modules/@sqs/transitions/lib/index.js"),g=p.CSSTransitionGroup,j=p.CSSTransitionGroupPresets;var f=s("./src/main/webapp/universal/src/shared/i18n/index.ts"),v=f.pluralize;var w=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.jsx");var W=s("./src/main/webapp/universal/packages/enums/StatusConstants.js");var b=s("./src/main/webapp/universal/src/shared/constants/StatusGroups.js");var S=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteList.less");var h=s("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var A=s("./src/main/webapp/universal/src/shared/utils/UrlUtils.js"),C=A.removeHttpAndWwwFromUrl;var L=function(e){(0,u.default)(n,e);var r=c(n);function n(){var a;(0,o.default)(this,n);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];a=r.call.apply(r,[this].concat(t));(0,d.default)((0,i.default)(a),"generateLabel",function(t){return Object.keys(b).find(function(e){return b[e].indexOf(t)>=0})});(0,d.default)((0,i.default)(a),"generateDescription",function(e,t,s,r){var n=a.props.appDomain;if(s===W.ACTIVE_PARKING_PAGE)return v({one:"{%n} Domain",other:"{%n} Domains"},r.length);if(t)return C(t);if(e)return"".concat(e,".").concat(n);return""});return a}(0,a.default)(n,[{key:"render",value:function e(){var l=this;var t=this.props,s=t.items,m=t.appDomain,d=t.currentWebsiteIdentifier,c=t.memberAccountId,r=t.addIndicator,p=t.theme,f=t.deleteEnabled,v=t.onItemSelect,b=t.onItemDelete,h=t.onItemRemoveAccess;return I.createElement(g,(0,_.default)({className:S.websites,wrapChildWithTag:false},j.Reorderable),s.map(function(s){var t=s.identifier,e=s.siteTitle,r=s.ownerMemberAccountId,n=s.siteStatus,a=(0,y.default)(s,["identifier","siteTitle","ownerMemberAccountId","siteStatus"]);var o=t===d;var i=c===r;var u=n===W.ACTIVE_PARKING_PAGE?C(a.url):e;return I.createElement(w,(0,_.default)({title:u,description:l.generateDescription(t,a.url,n,a.domains),label:l.generateLabel(n),key:t,identifier:t,siteStatus:n,theme:p,isCurrent:o,isSiteOwner:i,isDeleteEnabled:f,onSelect:function e(){v(s,t===d)},onDelete:function e(t){t.preventDefault();t.stopPropagation();b(s)},onRemoveAccess:function e(t){t.preventDefault();t.stopPropagation();h(s)},appDomain:m},a))}).concat([r&&I.createElement(w,{key:"addIndicator",identifier:"addIndicator",title:r.label,currentWebsiteIdentifier:d,onAddIndicatorClick:r.onClick})]))}}]);return n}(I.Component);(0,d.default)(L,"propTypes",{memberAccountId:n.string,items:n.array,currentWebsiteIdentifier:n.string.isRequired,addIndicator:n.shape({label:n.string,onClick:n.func}),deleteEnabled:n.bool,onItemSelect:n.func,onItemDelete:n.func,onItemRemoveAccess:n.func,appDomain:n.string.isRequired,theme:h.isRequired});(0,d.default)(L,"defaultProps",{theme:"damask"});e.exports=L},"./src/main/webapp/universal/src/shared/constants/StatusGroups.js":function(e,t,s){"use strict";var r=s("./src/main/webapp/universal/packages/enums/StatusConstants.js");var n={active:[r.PAID,r.ACTIVE,r.V5_LINKED,r.PASTDUE,r.COMPED,r.INTERNAL],trial:[r.TRIAL],expired:[r.EXPIRED],removed:[r.REMOVED],domain:[r.ACTIVE_PARKING_PAGE]};e.exports=n},"./src/main/webapp/universal/src/shared/utils/LogoutAPI.js":function(e,t,s){"use strict";var r="/api/auth/Logout";var n=s("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var a={logout:function e(){return n.post(r)}};e.exports=a}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/47-c1fe6b15226f88e7930ca-min.en-US.js.map